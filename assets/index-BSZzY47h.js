import{r as s}from"./index-BwDkhjyp.js";import{k as O}from"./factory-BPGpAF5Z.js";const b=(e={})=>{const[r,a]=s.useState(e.defaultIsOpen??!1),t=s.useRef(e.timing??"after"),u=O(e.onOpen),i=O(e.onClose),o=e.isOpen!==void 0,c=e.isOpen!==void 0?e.isOpen:r,f=s.useCallback(async(...n)=>{t.current==="before"&&await u(...n),o||a(!0),t.current==="after"&&await u(...n)},[o,u,t]),l=s.useCallback(async(...n)=>{t.current==="before"&&await i(...n),o||a(!1),t.current==="after"&&await i(...n)},[o,i,t]),d=s.useCallback((...n)=>c?l(...n):f(...n),[c,f,l]);return{isOpen:c,onClose:l,onOpen:f,onToggle:d}},k=({enabled:e,isSelected:r,mode:a="unmount",wasSelected:t})=>!!(!e||r||a==="keepMounted"&&t);export{k as a,b as u};
