import{t as $}from"./index-DImDLiuZ.js";import{r as t}from"./index-ClcD9ViR.js";import{u as ee,f as te}from"./form-control-C7lyVmHF.js";import{L as oe,p as F,u as P,l as ne,a as q,d as c,h as a}from"./factory-Dfrbb1EY.js";const le=({id:p,...H})=>{const T=t.useId();p??(p=T);const{id:se,name:w,defaultIsChecked:y,isChecked:D,isIndeterminate:u,selectOnEnter:M,tabIndex:S,value:E,onChange:C,..._}=ee({id:p,...H}),[{"aria-readonly":ae,disabled:d,readOnly:k,required:I,onBlur:j,onFocus:N,...i},z]=oe(_,te),[h,G]=t.useState(!1),[l,m]=t.useState(!1),[b,L]=t.useState(!1),[g,f]=t.useState(!1),s=t.useRef(null),[B,J]=t.useState(!0),[Q,x]=t.useState(!!y),v=D!==void 0,o=v?D:Q,A=F(e=>{if(k||d){e.preventDefault();return}v||x(!o||u?!0:e.target.checked),C==null||C(e)},[k,d,v,o,u]),K=F(N),U=F(j),R=t.useCallback(({key:e})=>{var r;e===" "&&f(!0),M&&e==="Enter"&&((r=s.current)==null||r.click())},[f,M]),O=t.useCallback(({key:e})=>{e===" "&&f(!1)},[f]);t.useEffect(()=>$(G),[]),P(()=>{s.current&&(s.current.indeterminate=!!u)},[u]),ne(()=>{d&&m(!1)},[d,m]),P(()=>{var e;(e=s.current)!=null&&e.form&&(s.current.form.onreset=()=>x(!!y))},[]),P(()=>{s.current&&s.current.checked!==o&&x(s.current.checked)},[s.current]);const W=t.useCallback((e={},r=null)=>({...i,...e,ref:q(r,n=>{n&&J(n.tagName==="LABEL")}),"data-checked":c(o),"data-focus":c(l),"data-focus-visible":c(l&&h),onClick:a(e.onClick,()=>{var n;B||((n=s.current)==null||n.click(),requestAnimationFrame(()=>{var V;return(V=s.current)==null?void 0:V.focus()}))})}),[o,B,l,h,i]),X=t.useCallback((e={},r=null)=>({...i,...e,ref:r,"aria-hidden":!0,"data-active":c(g),"data-checked":c(o),"data-focus":c(l),"data-focus-visible":c(l&&h),"data-hover":c(b),"data-indeterminate":c(u),onMouseDown:a(e.onMouseDown,n=>{l&&n.preventDefault(),f(!0)}),onMouseEnter:a(e.onMouseEnter,()=>L(!0)),onMouseLeave:a(e.onMouseLeave,()=>L(!1)),onMouseUp:a(e.onMouseUp,()=>f(!1))}),[g,o,l,b,h,u,i]),Y=t.useCallback((e={},r=null)=>({...i,...e,id:p,ref:q(s,r),type:"checkbox",name:w,style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute",whiteSpace:"nowrap",width:"1px"},"aria-checked":u?"mixed":o,checked:o,disabled:d,readOnly:k,required:I,tabIndex:S,value:E,onBlur:a(e.onBlur,U,()=>m(!1)),onChange:a(e.onChange,A),onFocus:a(e.onFocus,K,()=>m(!0)),onKeyDown:a(e.onKeyDown,R),onKeyUp:a(e.onKeyUp,O)}),[u,i,p,w,E,S,I,d,k,o,A,U,K,R,O]),Z=t.useCallback((e={},r=null)=>({...i,...e,ref:r,"data-checked":c(o),onMouseDown:a(e.onMouseDown,n=>{n.preventDefault(),n.stopPropagation()}),onTouchStart:a(e.onTouchStart,n=>{n.preventDefault(),n.stopPropagation()})}),[o,i]);return{isActive:g,isChecked:o,isFocused:l,isFocusVisible:h,isHovered:b,isIndeterminate:u,props:z,getContainerProps:W,getIconProps:X,getInputProps:Y,getLabelProps:Z}};export{le as u};
