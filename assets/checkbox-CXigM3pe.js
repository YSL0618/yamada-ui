import{j as n}from"./extends-CwFRzn3r.js";import{t as re}from"./index-BUuviwyS.js";import{r as o}from"./index-BwDkhjyp.js";import{o as ie,X as le,b as R,c as ue,U as de,k as K,u as V,f as pe,a as ee,d as k,h as i}from"./factory-CYpx3TMG.js";import{a as he,u as fe,f as me}from"./form-control-DTumWR9y.js";import{A as ke,m as X}from"./factory-CY7vhjKt.js";import{a as xe}from"./use-component-style-CfUS8Ki1.js";import{o as Ce}from"./theme-provider-BZKkW4ID.js";const[we,be]=ie({strict:!1,name:"CheckboxGroupContext"}),ye=({id:t,..._})=>{const w=o.useId();t??(t=w);const{id:F,name:l,value:f,isChecked:d,defaultIsChecked:S,tabIndex:M,isIndeterminate:u,onChange:C,...v}=fe({id:t,..._}),[{required:g,disabled:p,readOnly:b,"aria-readonly":W,onFocus:N,onBlur:B,...s},L]=de(v,me),[I,P]=o.useState(!1),[h,y]=o.useState(!1),[D,A]=o.useState(!1),[j,m]=o.useState(!1),a=o.useRef(null),[E,q]=o.useState(!0),[se,O]=o.useState(!!S),U=d!==void 0,c=U?d:se,z=K(e=>{if(b||p){e.preventDefault();return}U||O(!c||u?!0:e.target.checked),C==null||C(e)},[b,p,U,c,u]),J=K(N),Q=K(B),Y=o.useCallback(({key:e})=>{e===" "&&m(!0)},[m]),Z=o.useCallback(({key:e})=>{e===" "&&m(!1)},[m]);o.useEffect(()=>re(P),[]),V(()=>{a.current&&(a.current.indeterminate=!!u)},[u]),pe(()=>{p&&y(!1)},[p,y]),V(()=>{var e;(e=a.current)!=null&&e.form&&(a.current.form.onreset=()=>O(!!S))},[]),V(()=>{a.current&&a.current.checked!==c&&O(a.current.checked)},[a.current]);const te=o.useCallback((e={},x=null)=>({...s,...e,ref:ee(x,r=>{r&&q(r.tagName==="LABEL")}),"data-checked":k(c),onClick:i(e.onClick,()=>{var r;E||((r=a.current)==null||r.click(),requestAnimationFrame(()=>{var $;return($=a.current)==null?void 0:$.focus()}))})}),[c,E,s]),ne=o.useCallback((e={},x=null)=>({...s,...e,ref:x,"data-active":k(j),"data-hover":k(D),"data-checked":k(c),"data-focus":k(h),"data-focus-visible":k(h&&I),"data-indeterminate":k(u),"aria-hidden":!0,onMouseDown:i(e.onMouseDown,r=>{h&&r.preventDefault(),m(!0)}),onMouseUp:i(e.onMouseUp,()=>m(!1)),onMouseEnter:i(e.onMouseEnter,()=>A(!0)),onMouseLeave:i(e.onMouseLeave,()=>A(!1))}),[j,c,h,D,I,u,s]),ae=o.useCallback((e={},x=null)=>({...s,...e,ref:ee(a,x),id:t,type:"checkbox",name:l,value:f,tabIndex:M,required:g,disabled:p,readOnly:b,checked:c,"aria-checked":u?"mixed":c,style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},onChange:i(e.onChange,z),onBlur:i(e.onBlur,Q,()=>y(!1)),onFocus:i(e.onFocus,J,()=>y(!0)),onKeyDown:i(e.onKeyDown,Y),onKeyUp:i(e.onKeyUp,Z)}),[u,s,t,l,f,M,g,p,b,c,z,Q,J,Y,Z]),ce=o.useCallback((e={},x=null)=>({...s,...e,ref:x,"data-checked":k(c),onMouseDown:i(e.onMouseDown,r=>{r.preventDefault(),r.stopPropagation()}),onTouchStart:i(e.onTouchStart,r=>{r.preventDefault(),r.stopPropagation()})}),[c,s]);return{props:L,isFocusVisible:I,isFocused:h,isHovered:D,isActive:j,isChecked:c,isIndeterminate:u,getContainerProps:te,getIconProps:ne,getInputProps:ae,getLabelProps:ce}},oe=o.forwardRef((t,_)=>{const w=be(),{value:F,...l}={...w},f=he(t),[d,S]=xe("Checkbox",{...l,...t}),{className:M,gap:u="0.5rem",isRequired:C=l.isRequired??f.isRequired,isReadOnly:v=l.isReadOnly??f.isReadOnly,isDisabled:g=l.isDisabled??f.isDisabled,isInvalid:p=l.isInvalid??f.isInvalid,iconProps:b,inputProps:W,labelProps:N,children:B,...s}=Ce(S),L=F&&s.value?F.includes(s.value):s.isChecked,I=l.onChange&&s.value?le(l.onChange,s.onChange):s.onChange,{isChecked:P,isIndeterminate:h,getContainerProps:y,getInputProps:D,getIconProps:A,getLabelProps:j,props:m}=ye({...s,isRequired:C,isReadOnly:v,isDisabled:g,isInvalid:p,isChecked:L,onChange:I}),{children:a,...E}={...b},q=o.cloneElement(a??n.jsx(G,{}),{__css:{opacity:P||h?1:0,transform:P||h?"scale(1)":"scale(0.95)",transitionProperty:"transform",transitionDuration:"normal"},isIndeterminate:h,isChecked:P,isRequired:C,isReadOnly:v,isDisabled:g,isInvalid:p});return n.jsxs(R.label,{className:ue("ui-checkbox",M),...y(),__css:{cursor:"pointer",position:"relative",display:"inline-flex",alignItems:"center",verticalAlign:"top",gap:u,...d.container},...m,children:[n.jsx(R.input,{className:"ui-checkbox__input",...D(W,_)}),n.jsx(R.span,{className:"ui-checkbox__icon",__css:{pointerEvents:v?"none":void 0,position:"relative",display:"inline-block",userSelect:"none",...d.icon},...A(E),children:q}),n.jsx(R.span,{className:"ui-checkbox__label",__css:{...d.label},...j(N),children:B})]})});oe.displayName="Checkbox";oe.__ui__="Checkbox";const G=({isIndeterminate:t,isChecked:_,isRequired:w,isReadOnly:F,isDisabled:l,isInvalid:f,...d})=>n.jsx(ke,{initial:!1,children:t||_?n.jsx(R.div,{__css:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:n.jsx(X.div,{variants:{unchecked:{scale:.5},checked:{scale:1}},initial:"unchecked",animate:"checked",exit:"unchecked",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:t?n.jsx(H,{...d}):n.jsx(T,{...d})})}):null});G.displayName="CheckboxIcon";G.__ui__="CheckboxIcon";const T=t=>n.jsx(X.svg,{width:"1.2em",viewBox:"0 0 12 10",variants:{unchecked:{opacity:0,strokeDashoffset:16},checked:{opacity:1,strokeDashoffset:0,transition:{duration:.2}}},style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...t,children:n.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})});T.displayName="CheckIcon";T.__ui__="CheckIcon";const H=t=>n.jsx(X.svg,{width:"1.2em",viewBox:"0 0 24 24",variants:{unchecked:{scaleX:.65,opacity:0},checked:{scaleX:1,opacity:1,transition:{scaleX:{duration:0},opacity:{duration:.02}}}},style:{stroke:"currentColor",strokeWidth:4},...t,children:n.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})});H.displayName="IndeterminateIcon";H.__ui__="IndeterminateIcon";export{oe as C,we as a,ye as u};
