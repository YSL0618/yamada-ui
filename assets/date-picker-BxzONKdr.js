import{j as s}from"./extends-CwFRzn3r.js";import{u as pt}from"./index-CIt0OHe7.js";import{r as t}from"./index-BwDkhjyp.js";import{d as ae,i as Ge,a as Je,b as ft,C as mt}from"./calendar-CPIjm4e9.js";import{u as Ct}from"./index-tU9OGY6h.js";import{u as Pt}from"./index-CFjuI6Rx.js";import{u as kt}from"./index-DHvgXC6C.js";import{u as ht,f as gt}from"./form-control-DTumWR9y.js";import{u as _t,o as yt}from"./theme-provider-BZKkW4ID.js";import{V as bt,U as Dt,a6 as vt,ae as xt,W as It,a as oe,h as Y,d as jt,o as Ot,f as Qe,af as wt,b as K,c as L,z as Ft,p as Vt,j as Nt}from"./factory-CYpx3TMG.js";import{P as Et,b as Bt,a as Rt}from"./popover-content-C9K0DE-R.js";import{P as St}from"./portal-DfxMOg4r.js";import{b as Tt,a as Mt}from"./icon-FPUxZQsz.js";import{f as ne}from"./forward-ref-BWI-Phbn.js";import{a as zt}from"./use-component-style-CfUS8Ki1.js";const Ht=c=>{var Ue,qe;const{theme:u}=_t();let{id:r,enableMultiple:C,enableRange:P,value:d,defaultValue:l,onChange:p,type:k,defaultType:h,onChangeType:x,month:E,defaultMonth:O,onChangeMonth:I,firstDayOfWeek:B,amountOfMonths:j,paginateBy:R,withWeekdays:M,disableOutsideDays:z,hiddenOutsideDays:H,minDate:f,maxDate:m,locale:g,yearFormat:y,monthFormat:S,weekdayFormat:T,dateFormat:a,weekendDays:n,today:b,excludeDate:_,calendarVariant:ce,calendarSize:ue,calendarColorScheme:de,holidays:pe,withHeader:fe,withControls:me,withLabel:Ce,maxSelectValues:Pe,minSelectValues:ke,__selectType:he,calendarProps:ge,allowInput:D=!0,allowInputBeyond:U=!1,parseDate:q,pattern:Ze=/[^0-9\-\/]/g,inputFormat:G="YYYY/MM/DD",autoFocus:W=!0,onClear:J,isOpen:$e,defaultIsOpen:et,onOpen:tt,onClose:at,closeOnBlur:te=!0,closeOnEsc:_e=!0,openDelay:ye,closeDelay:be,isLazy:De,lazyBehavior:ve,animation:xe,duration:Ie=.2,offset:je,gutter:Oe,preventOverflow:we,flip:Fe,matchWidth:Ve,boundary:Ne,eventListeners:Ee,strategy:Be,placement:Re="bottom-start",modifiers:Se,onEnter:Te,onDelete:Me,...w}=ht(c);const ot=t.useId();r??(r=ot),g??(g=((qe=(Ue=u.__config)==null?void 0:Ue.date)==null?void 0:qe.locale)??"en");const{"aria-readonly":At,...F}=bt(w,gt),[ze,nt]=Dt(w,vt),{disabled:Q,readOnly:X}=F,{isOpen:i,onOpen:He,onClose:V}=Pt({isOpen:$e,defaultIsOpen:et,onOpen:tt,onClose:at}),Z=t.useRef(null),A=t.useRef(null),st=t.useCallback(e=>{let o=(q==null?void 0:q(e))??ae(e,G,g).toDate();if(o!=null&&!(_!=null&&_(o)))return U||(m&&Ge(o,m)&&(o=m),f&&Je(o,f)&&(o=f)),o},[U,_,G,g,m,f,q]),rt=t.useCallback(e=>{if(e!=null&&!(_!=null&&_(e)))return U||(m&&Ge(e,m)&&(e=m),f&&Je(e,f)&&(e=f)),ae(e).locale(g??"en").format(G)},[U,_,G,g,m,f]),v=t.useCallback(()=>{var e;Q||X||(He(),W&&D&&((e=A.current)==null||e.focus()))},[W,D,Q,X,He]),We=t.useCallback(()=>{var e;i?W&&D&&((e=A.current)==null||e.focus()):v()},[W,D,i,v]),Ye=t.useCallback(()=>{i||v()},[i,v]),Ae=t.useCallback(e=>{const o=xt(e);It(Z.current,o)||te&&i&&V()},[te,i,V]),Ke=t.useCallback(e=>{if(e.key===" "&&(e.key=e.code),Q||X)return;const $={Space:i?void 0:N=>{N.preventDefault(),N.stopPropagation(),v()},Enter:i?Te:N=>{N.preventDefault(),N.stopPropagation(),v()},Escape:_e?N=>{N.preventDefault(),N.stopPropagation(),V()}:void 0,Backspace:Me}[e.key];$&&$(e)},[_e,Q,X,i,V,Te,Me,v]),Le=t.useCallback(e=>{var o;e.stopPropagation(),J==null||J(),W&&D&&i&&((o=A.current)==null||o.focus())},[W,D,i,J]);kt({ref:Z,handler:V,enabled:i&&te});const it=t.useCallback((e={},o=null)=>({ref:oe(Z,o),...ze,...e,...F,onClick:Y(e.onClick,w.onClick,We),onBlur:Y(e.onBlur,w.onBlur,Ae)}),[ze,F,Ae,We,w]),lt=t.useCallback(e=>({openDelay:ye,closeDelay:be,isLazy:De,lazyBehavior:ve,animation:xe,duration:Ie,offset:je,gutter:Oe,preventOverflow:we,flip:Fe,matchWidth:Ve,boundary:Ne,eventListeners:Ee,strategy:Be,placement:Re,modifiers:Se,...e,isOpen:i,onOpen:v,onClose:V,trigger:"never",closeOnButton:!1,closeOnBlur:!1}),[xe,Ne,be,Ie,Ee,Fe,Oe,De,i,ve,Ve,Se,je,V,v,ye,Re,we,Be]),ct=t.useCallback((e={},o=null)=>{const $={...e.style,...D?{}:{cursor:"pointer"}};return{ref:oe(A,o),tabIndex:D?-1:0,role:"combobox","aria-haspopup":"dialog","aria-controls":r,...e,...F,style:$,"data-active":jt(i),"aria-expanded":i,onFocus:Y(e.onFocus,w.onFocus,Ye),onKeyDown:Y(e.onKeyDown,w.onKeyDown,Ke)}},[r,D,F,i,w,Ye,Ke]),ut=t.useCallback(e=>({...e,type:k,defaultType:h,onChangeType:x,month:E,defaultMonth:O,onChangeMonth:I,firstDayOfWeek:B,amountOfMonths:j,paginateBy:R,withWeekdays:M,disableOutsideDays:z,hiddenOutsideDays:H,yearFormat:y,monthFormat:S,weekdayFormat:T,dateFormat:a,weekendDays:n,today:b,holidays:pe,withHeader:fe,withControls:me,withLabel:Ce,maxSelectValues:Pe,minSelectValues:ke,variant:ce,size:ue,colorScheme:de,...ge,value:d,defaultValue:l,onChange:p,minDate:f,maxDate:m,excludeDate:_,locale:g,__selectType:he,enableMultiple:C,enableRange:P}),[H,Pe,ke,C,P,j,de,ge,ue,ce,a,O,h,l,z,_,B,pe,g,m,f,E,S,p,I,x,R,b,k,d,T,n,me,fe,Ce,M,y,he]),dt=t.useCallback(({clear:e,...o})=>({...o,...F,onClick:Y(o.onClick,e?Le:void 0)}),[F,Le]);return{id:r,allowInput:D,pattern:Ze,inputProps:nt,formControlProps:F,containerRef:Z,inputRef:A,isOpen:i,onOpen:v,onClose:V,dateToString:rt,stringToDate:st,getContainerProps:it,getPopoverProps:lt,getFieldProps:ct,getCalendarProps:ut,getIconProps:dt}},[Wt,se]=Ot({strict:!1,name:"DatePickerContext"}),Yt=({value:c,defaultValue:u,onChange:r,placeholder:C,closeOnSelect:P=!0,...d})=>{const[l,p]=Ct({value:c,defaultValue:u,onChange:r,onUpdate:(a,n)=>!ft(a,n)}),{inputRef:k,id:h,allowInput:x,pattern:E,inputProps:O,formControlProps:I,onClose:B,dateToString:j,stringToDate:R,getContainerProps:M,getPopoverProps:z,getFieldProps:H,getCalendarProps:f,getIconProps:m}=Ht({...d,value:l,defaultValue:u,onChange:a=>{const n=j(a);p(a),y(n),P&&a&&B()},onClear:()=>{p(void 0),y(void 0)},onClose:()=>{var n;const a=j(l);y(a),(n=d.onClose)==null||n.call(d)}}),[g,y]=t.useState(j(l)),S=t.useCallback(a=>{let n=a.target.value;n=n.replace(E,"");const b=R(n);y(n),b&&ae(b).isValid()?p(b):p(void 0)},[E,R,y,p]);Qe(()=>{p(c)},[c]),Qe(()=>{if(k.current&&wt(k.current))return;const a=j(l);y(a)},[l]);const T=t.useCallback((a={},n=null)=>{const b={...a.style,...O.style,...x?{}:{pointerEvents:"none"}};return{placeholder:C,...I,autoComplete:"off",...O,...a,ref:n,style:b,id:h,tabIndex:x?0:-1,value:g??"",cursor:I.readOnly?"default":"text",pointerEvents:I.disabled?"none":"auto",onChange:Y(a.onChange,S)}},[O,x,C,I,h,g,S]);return{id:h,value:l,onClose:B,getContainerProps:M,getPopoverProps:z,getFieldProps:H,getInputProps:T,getIconProps:m,getCalendarProps:f}},Xe=ne((c,u)=>{const[r,C]=zt("DatePicker",c);let{className:P,children:d,isClearable:l=!0,color:p,h:k,height:h,minH:x,minHeight:E,containerProps:O,contentProps:I,fieldProps:B,inputProps:j,iconProps:R,clearIconProps:M,portalProps:z={isDisabled:!0},...H}=yt(C);const{getPopoverProps:f,getContainerProps:m,getCalendarProps:g,getFieldProps:y,getInputProps:S,getIconProps:T,onClose:a,value:n,id:b}=Yt(H);k??(k=h),x??(x=E);const _={w:"100%",h:"fit-content",color:p,...r.container};return s.jsx(Wt,{value:r,children:s.jsx(Et,{...f(),children:s.jsxs(K.div,{className:L("ui-date-picker",P),__css:_,...m(O),children:[s.jsxs(K.div,{className:"ui-date-picker__inner",__css:{position:"relative",...r.inner},children:[s.jsx(re,{...y({h:k,minH:x,...B},u),inputProps:S(j)}),l&&n?s.jsx(le,{...T({clear:!0,...M})}):s.jsx(ee,{...T({clear:!1,...R})})]}),s.jsx(St,{...z,children:s.jsxs(Bt,{as:"div",id:b,role:"dialog","aria-modal":"true",className:"ui-date-picker__content",__css:{...r.content},...I,children:[s.jsx(mt,{className:"ui-date-picker__calendar",...g()}),Ft(d,{value:n,onClose:a})]})})]})})})});Xe.displayName="DatePicker";Xe.__ui__="DatePicker";const re=ne(({className:c,h:u,minH:r,inputProps:C,...P},d)=>{const l=se(),{ref:p,...k}=C,h={pe:"2rem",h:u,minH:r,display:"flex",alignItems:"center",...l.field};return s.jsx(Rt,{children:s.jsx(K.div,{className:L("ui-date-picker__field",c),__css:h,...P,children:s.jsx(K.input,{"aria-label":"Input date value",ref:oe(d,p),className:"ui-date-picker__field__input",display:"inline-block",w:"100%",...k})})})});re.displayName="DatePickerField";re.__ui__="DatePickerField";const ee=ne(({className:c,children:u,__css:r,...C},P)=>{const l={position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",cursor:"pointer",...se().icon,...r},k=Vt(u).map(h=>t.cloneElement(h,{focusable:!1,"aria-hidden":!0,style:{maxWidth:"1em",maxHeight:"1em",color:"currentColor"}}));return s.jsx(K.div,{ref:P,className:L("ui-date-picker__icon",c),__css:l,...C,children:Nt(u)?k:s.jsx(ie,{})})});ee.displayName="DatePickerIcon";ee.__ui__="DatePickerIcon";const ie=({className:c,...u})=>s.jsx(Tt,{className:L("ui-date-picker__icon__calendar",c),viewBox:"0 0 24 24",...u,children:s.jsx("path",{fill:"currentColor",d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})});ie.displayName="DatePickerCalendarIcon";ie.__ui__="DatePickerCalendarIcon";const le=({className:c,children:u,...r})=>{const C=t.useRef(null),P=se(),d=r.disabled,l=pt({ref:C,isDisabled:d,...r});return s.jsx(ee,{"aria-label":"Clear value",className:L("ui-date-picker__icon--clear",c),__css:P.clearIcon,...l,children:u??s.jsx(Mt,{w:"0.5em",h:"0.5em"})})};le.displayName="DatePickerClearIcon";le.__ui__="DatePickerClearIcon";export{Xe as D,Wt as a,re as b,le as c,ee as d,se as e,Ht as u};
