import{a as W}from"./index-B4UZJbBZ.js";import{r as e}from"./index-ClcD9ViR.js";import{R as h,a as y,d as Y}from"./factory-Bqmz9C5P.js";const x=d=>{const{isContentEditable:k,tagName:f}=d.target;return f!=="INPUT"&&f!=="TEXTAREA"&&!k},_=({ref:d,clickOnEnter:k=!0,clickOnSpace:f=!0,isDisabled:V,disabled:r=V,disableTouchBehavior:b=!0,isFocusable:X,focusable:j=X,focusOnClick:D=!0,tabIndex:N,onClick:C,onKeyDown:l,onKeyUp:n,onMouseDown:c,onMouseLeave:i,onMouseOver:m,onMouseUp:p,...A}={})=>{const[a,q]=e.useState(!0),[g,s]=e.useState(!1),u=W(),z=a?N:N||0,E=r&&!j,I=t=>{t&&t.tagName!=="BUTTON"&&q(!1)},R=e.useCallback(t=>{if(r){t.stopPropagation(),t.preventDefault();return}D&&t.currentTarget.focus(),C==null||C(t)},[r,D,C]),P=e.useCallback(t=>{g&&x(t)&&(t.preventDefault(),t.stopPropagation(),s(!1),u.remove(document,"keyup",P,!1))},[g,u]),F=e.useCallback(t=>{l==null||l(t),!(r||t.defaultPrevented||t.metaKey)&&(!x(t.nativeEvent)||a||(f&&t.key===" "&&(t.preventDefault(),s(!0)),k&&t.key==="Enter"&&(t.preventDefault(),t.currentTarget.click()),u.add(document,"keyup",P,!1)))},[r,a,l,k,f,u,P]),G=e.useCallback(t=>{n==null||n(t),!(r||t.defaultPrevented||t.metaKey)&&(!x(t.nativeEvent)||a||f&&t.key===" "&&(t.preventDefault(),s(!1),t.currentTarget.click()))},[f,a,r,n]),T=e.useCallback(t=>{t.button===0&&(s(!1),u.remove(document,"mouseup",T,!1))},[u]),H=e.useCallback(t=>{if(t.button===0){if(r){t.stopPropagation(),t.preventDefault();return}a||s(!0),t.currentTarget.focus({preventScroll:!0}),u.add(document,"mouseup",T,!1),c==null||c(t)}},[r,a,c,u,T]),J=e.useCallback(t=>{t.button===0&&(a||s(!1),p==null||p(t))},[p,a]),Q=e.useCallback(t=>{if(r){t.preventDefault();return}b&&h()||m==null||m(t)},[r,m,b]),S=e.useCallback(t=>{g&&(t.preventDefault(),s(!1)),!(b&&h())&&(i==null||i(t))},[g,i,b]);return a?{...A,ref:y(d,I),type:"button","aria-disabled":E?void 0:r,disabled:E,onClick:R,onKeyDown:l,onKeyUp:n,onMouseDown:c,onMouseLeave:i,onMouseOver:m,onMouseUp:p}:{...A,ref:y(d,I),"aria-disabled":r?"true":void 0,"data-active":Y(g),role:"button",tabIndex:E?void 0:z,onClick:R,onKeyDown:F,onKeyUp:G,onMouseDown:H,onMouseLeave:S,onMouseOver:Q,onMouseUp:J}};export{_ as u};
