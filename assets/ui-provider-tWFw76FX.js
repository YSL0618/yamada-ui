import{j as s}from"./extends-CwFRzn3r.js";import{a as S,d as E}from"./index-D6ZvDq7u.js";import{b,c as M,f as y,z as N,ad as g,ae as I}from"./factory-CsTAdKnO.js";import{d as z,R as C,G as L}from"./theme-provider-V0oWEqA6.js";import{r as d}from"./index-BwDkhjyp.js";import{M as _,u as R,l as T,d as U}from"./motion-I-9Hg3gW.js";import{L as k}from"./loading-provider-CVssLSRU.js";import{u as A}from"./index-EHTF5d8z.js";import{n as j}from"./notice-BYqFbw3f.js";import{A as G,m as H}from"./factory-C2CyRybs.js";import{P as K}from"./portal-DN-k4ty5.js";function O({children:i,isValidProp:o,...t}){o&&T(o),t={...d.useContext(_),...t},t.isStatic=R(()=>t.isStatic);const n=d.useMemo(()=>t,[JSON.stringify(t.transition),t.transformPagePoint,t.reducedMotion]);return s.jsx(_.Provider,{value:n,children:i})}const W=({appendToParentPortal:i,containerRef:o,gap:t="fallback(4, 1rem)",variants:n,itemProps:a,listProps:u})=>{const m=d.useSyncExternalStore(j.subscribe,j.getSnapshot,j.getSnapshot),c=Object.entries(m).map(([e,x])=>{const l=e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,r=e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,v=e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",h=e.includes("right")?void 0:"env(safe-area-inset-left, 0px)",f={bottom:r,display:"flex",flexDirection:"column",gap:t,left:h,margin:t,pointerEvents:"none",position:"fixed",right:v,top:l,zIndex:"fallback(zarbon, 160)"};return s.jsx(b.ul,{className:M("ui-notice__list",`ui-notice__list--${e}`),__css:f,...u,children:s.jsx(G,{initial:!1,children:x.map(p=>s.jsx(P,{variants:n,itemProps:a,...p},p.id))})},e)});return s.jsx(K,{appendToParentPortal:i,containerRef:o,children:c})},F={animate:{opacity:1,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]},x:0,y:0},exit:{opacity:0,scale:.95,transition:{duration:.2,ease:[.4,0,1,1]}},initial:({placement:i})=>({[["bottom","top"].includes(i)?"y":"x"]:(i==="bottom"||i.includes("right")?1:-1)*24,opacity:0})},P=d.memo(({style:i,duration:o=5e3,isDelete:t=!1,message:n,placement:a,variants:u=F,itemProps:m,onCloseComplete:c,onDelete:e})=>{const[x,l]=d.useState(o),r=U();y(()=>{r||c==null||c()},[r]),y(()=>{l(o)},[o]);const v=()=>l(null),h=()=>l(o),f=()=>{r&&e()};d.useEffect(()=>{r&&t&&e()},[r,t,e]),A(f,x);const p={maxW:"36rem",minW:"20rem",pointerEvents:"auto",...i};return s.jsx(H.li,{className:"ui-notice__list__item",style:{display:"flex",justifyContent:a.includes("left")?"flex-start":a.includes("right")?"flex-end":"center"},animate:"animate",custom:{placement:a},exit:"exit",initial:"initial",layout:!0,variants:u,onHoverEnd:h,onHoverStart:v,...m,children:s.jsx(b.div,{className:"ui-notice__list__item__inner",__css:p,children:N(n,{onClose:f})})})});P.displayName="NoticeComponent";const tt=({children:i,colorModeManager:o,colorModeStorageKey:t,config:n=S,disableEnvironment:a,disableGlobalStyle:u,disableResetStyle:m,environment:c,theme:e=E,themeSchemeManager:x,themeSchemeStorageKey:l})=>{var r;return s.jsx(g,{disabled:a,environment:c,children:s.jsx(z,{config:n,storageKey:l,theme:e,themeSchemeManager:x,children:s.jsx(I,{colorModeManager:o,config:n,storageKey:t,children:s.jsx(O,{...(r=n.motion)==null?void 0:r.config,children:s.jsxs(k,{...n.loading,children:[m?null:s.jsx(C,{}),u?null:s.jsx(L,{}),i,s.jsx(W,{...n.notice})]})})})})})};export{tt as U};
