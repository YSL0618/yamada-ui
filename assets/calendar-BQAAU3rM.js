import{j as H}from"./extends-CwFRzn3r.js";import{r as C}from"./index-BwDkhjyp.js";import{c as se,g as ae}from"./_commonjsHelpers-BosuxZz1.js";import{u as It}from"./index-DWlkt5Zz.js";import{ah as re,l as oe,k as ce,f as Mt,s as Yt,e as At,h as yt,d as rt,x as kt,b as ot,c as Dt,j as ie,g as Nt,ag as le,aw as Bt,R as Tt,a as Ft,A as jt,C as ue,q as de,ax as fe}from"./factory-CPqzzHTm.js";import{u as he,o as me}from"./theme-provider-DVkG1YcR.js";import{B as Ot}from"./button-kHKaKMU7.js";import{c as Et}from"./icon-DRhEyT4F.js";import{I as ge}from"./icon-button-Cm5V0NTT.js";import{a as ye}from"./use-component-style-CMyamFpN.js";var Lt={exports:{}},Jt;function De(){return Jt||(Jt=1,function(t,n){(function(a,o){t.exports=o()})(se,function(){var a=1e3,o=6e4,h=36e5,y="millisecond",p="second",k="minute",g="hour",b="day",M="week",d="month",v="quarter",D="year",S="date",W="Invalid Date",V=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,q={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var r=["th","st","nd","rd"],s=e%100;return"["+e+(r[(s-20)%10]||r[s]||r[0])+"]"}},G=function(e,r,s){var u=String(e);return!u||u.length>=r?e:""+Array(r+1-u.length).join(s)+e},Y={s:G,z:function(e){var r=-e.utcOffset(),s=Math.abs(r),u=Math.floor(s/60),c=s%60;return(r<=0?"+":"-")+G(u,2,"0")+":"+G(c,2,"0")},m:function e(r,s){if(r.date()<s.date())return-e(s,r);var u=12*(s.year()-r.year())+(s.month()-r.month()),c=r.clone().add(u,d),f=s-c<0,m=r.clone().add(u+(f?-1:1),d);return+(-(u+(s-c)/(f?c-m:m-c))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:d,y:D,w:M,d:b,D:S,h:g,m:k,s:p,ms:y,Q:v}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return e===void 0}},L="en",I={};I[L]=q;var A="$isDayjsObject",U=function(e){return e instanceof l||!(!e||!e[A])},B=function e(r,s,u){var c;if(!r)return L;if(typeof r=="string"){var f=r.toLowerCase();I[f]&&(c=f),s&&(I[f]=s,c=f);var m=r.split("-");if(!c&&m.length>1)return e(m[0])}else{var j=r.name;I[j]=r,c=j}return!u&&c&&(L=c),c||!u&&L},$=function(e,r){if(U(e))return e.clone();var s=typeof r=="object"?r:{};return s.date=e,s.args=arguments,new l(s)},i=Y;i.l=B,i.i=U,i.w=function(e,r){return $(e,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var l=function(){function e(s){this.$L=B(s.locale,null,!0),this.parse(s),this.$x=this.$x||s.x||{},this[A]=!0}var r=e.prototype;return r.parse=function(s){this.$d=function(u){var c=u.date,f=u.utc;if(c===null)return new Date(NaN);if(i.u(c))return new Date;if(c instanceof Date)return new Date(c);if(typeof c=="string"&&!/Z$/i.test(c)){var m=c.match(V);if(m){var j=m[2]-1||0,T=(m[7]||"0").substring(0,3);return f?new Date(Date.UTC(m[1],j,m[3]||1,m[4]||0,m[5]||0,m[6]||0,T)):new Date(m[1],j,m[3]||1,m[4]||0,m[5]||0,m[6]||0,T)}}return new Date(c)}(s),this.init()},r.init=function(){var s=this.$d;this.$y=s.getFullYear(),this.$M=s.getMonth(),this.$D=s.getDate(),this.$W=s.getDay(),this.$H=s.getHours(),this.$m=s.getMinutes(),this.$s=s.getSeconds(),this.$ms=s.getMilliseconds()},r.$utils=function(){return i},r.isValid=function(){return this.$d.toString()!==W},r.isSame=function(s,u){var c=$(s);return this.startOf(u)<=c&&c<=this.endOf(u)},r.isAfter=function(s,u){return $(s)<this.startOf(u)},r.isBefore=function(s,u){return this.endOf(u)<$(s)},r.$g=function(s,u,c){return i.u(s)?this[u]:this.set(c,s)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(s,u){var c=this,f=!!i.u(u)||u,m=i.p(s),j=function(ct,z){var tt=i.w(c.$u?Date.UTC(c.$y,z,ct):new Date(c.$y,z,ct),c);return f?tt:tt.endOf(b)},T=function(ct,z){return i.w(c.toDate()[ct].apply(c.toDate("s"),(f?[0,0,0,0]:[23,59,59,999]).slice(z)),c)},K=this.$W,Z=this.$M,X=this.$D,O="set"+(this.$u?"UTC":"");switch(m){case D:return f?j(1,0):j(31,11);case d:return f?j(1,Z):j(0,Z+1);case M:var Q=this.$locale().weekStart||0,lt=(K<Q?K+7:K)-Q;return j(f?X-lt:X+(6-lt),Z);case b:case S:return T(O+"Hours",0);case g:return T(O+"Minutes",1);case k:return T(O+"Seconds",2);case p:return T(O+"Milliseconds",3);default:return this.clone()}},r.endOf=function(s){return this.startOf(s,!1)},r.$set=function(s,u){var c,f=i.p(s),m="set"+(this.$u?"UTC":""),j=(c={},c[b]=m+"Date",c[S]=m+"Date",c[d]=m+"Month",c[D]=m+"FullYear",c[g]=m+"Hours",c[k]=m+"Minutes",c[p]=m+"Seconds",c[y]=m+"Milliseconds",c)[f],T=f===b?this.$D+(u-this.$W):u;if(f===d||f===D){var K=this.clone().set(S,1);K.$d[j](T),K.init(),this.$d=K.set(S,Math.min(this.$D,K.daysInMonth())).$d}else j&&this.$d[j](T);return this.init(),this},r.set=function(s,u){return this.clone().$set(s,u)},r.get=function(s){return this[i.p(s)]()},r.add=function(s,u){var c,f=this;s=Number(s);var m=i.p(u),j=function(Z){var X=$(f);return i.w(X.date(X.date()+Math.round(Z*s)),f)};if(m===d)return this.set(d,this.$M+s);if(m===D)return this.set(D,this.$y+s);if(m===b)return j(1);if(m===M)return j(7);var T=(c={},c[k]=o,c[g]=h,c[p]=a,c)[m]||1,K=this.$d.getTime()+s*T;return i.w(K,this)},r.subtract=function(s,u){return this.add(-1*s,u)},r.format=function(s){var u=this,c=this.$locale();if(!this.isValid())return c.invalidDate||W;var f=s||"YYYY-MM-DDTHH:mm:ssZ",m=i.z(this),j=this.$H,T=this.$m,K=this.$M,Z=c.weekdays,X=c.months,O=c.meridiem,Q=function(z,tt,ut,_){return z&&(z[tt]||z(u,f))||ut[tt].slice(0,_)},lt=function(z){return i.s(j%12||12,z,"0")},ct=O||function(z,tt,ut){var _=z<12?"AM":"PM";return ut?_.toLowerCase():_};return f.replace(w,function(z,tt){return tt||function(ut){switch(ut){case"YY":return String(u.$y).slice(-2);case"YYYY":return i.s(u.$y,4,"0");case"M":return K+1;case"MM":return i.s(K+1,2,"0");case"MMM":return Q(c.monthsShort,K,X,3);case"MMMM":return Q(X,K);case"D":return u.$D;case"DD":return i.s(u.$D,2,"0");case"d":return String(u.$W);case"dd":return Q(c.weekdaysMin,u.$W,Z,2);case"ddd":return Q(c.weekdaysShort,u.$W,Z,3);case"dddd":return Z[u.$W];case"H":return String(j);case"HH":return i.s(j,2,"0");case"h":return lt(1);case"hh":return lt(2);case"a":return ct(j,T,!0);case"A":return ct(j,T,!1);case"m":return String(T);case"mm":return i.s(T,2,"0");case"s":return String(u.$s);case"ss":return i.s(u.$s,2,"0");case"SSS":return i.s(u.$ms,3,"0");case"Z":return m}return null}(z)||m.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(s,u,c){var f,m=this,j=i.p(u),T=$(s),K=(T.utcOffset()-this.utcOffset())*o,Z=this-T,X=function(){return i.m(m,T)};switch(j){case D:f=X()/12;break;case d:f=X();break;case v:f=X()/3;break;case M:f=(Z-K)/6048e5;break;case b:f=(Z-K)/864e5;break;case g:f=Z/h;break;case k:f=Z/o;break;case p:f=Z/a;break;default:f=Z}return c?f:i.a(f)},r.daysInMonth=function(){return this.endOf(d).$D},r.$locale=function(){return I[this.$L]},r.locale=function(s,u){if(!s)return this.$L;var c=this.clone(),f=B(s,u,!0);return f&&(c.$L=f),c},r.clone=function(){return i.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},e}(),x=l.prototype;return $.prototype=x,[["$ms",y],["$s",p],["$m",k],["$H",g],["$W",b],["$M",d],["$y",D],["$D",S]].forEach(function(e){x[e[1]]=function(r){return this.$g(r,e[0],e[1])}}),$.extend=function(e,r){return e.$i||(e(r,l,$),e.$i=!0),$},$.locale=B,$.isDayjs=U,$.unix=function(e){return $(1e3*e)},$.en=I[L],$.Ls=I,$.p={},$})}(Lt)),Lt.exports}var be=De();const N=ae(be),te=(t,n)=>{const a=new Date(t),o=a.getDay()||7,h=n==="sunday",y=h?o:o-1;return(h&&o!==0||o!==1)&&a.setHours(-24*y),a},pe=(t,n)=>{const a=new Date(t),o=a.getDay(),h=n==="sunday",y=7-(h?o+1:o);return(h&&o!==6||o!==0)&&a.setDate(a.getDate()+y),a},xe=(t,n,a="dd")=>{let o=[];const h=te(new Date,n);for(let y=0;y<7;y+=1){const p=N(h).locale(t).format(a);o=[...o,p],h.setDate(h.getDate()+1)}return o},we=(t,n)=>{const a=t.getMonth(),o=new Date(t.getFullYear(),a,1),h=new Date(t.getFullYear(),t.getMonth()+1,0),y=pe(h,n),p=te(o,n),k=[];for(;p<=y;){const g=[];for(let b=0;b<7;b+=1)g.push(new Date(p)),p.setDate(p.getDate()+1);k.push(g)}return k},_e=t=>{const n=t-6;let a=[];for(let o=0;o<12;o+=1){const h=n+o;a=[...a,h]}return a},Me=(t,n)=>{const a=new Date(1993,0,1);let o=[];for(let h=0;h<12;h+=1){const y=N(a).locale(t).format(n);o=[...o,y],a.setMonth(a.getMonth()+1)}return o},Pt=(t,n,a)=>t instanceof Date?N(t).locale(n).format(a):N(new Date(t,1,1)).locale(n).format(a),Rt=(t,n)=>(t==null?void 0:t.getFullYear())===(n==null?void 0:n.getFullYear())&&(t==null?void 0:t.getMonth())===(n==null?void 0:n.getMonth()),it=(t,n)=>Rt(t,n)&&(t==null?void 0:t.getDate())===(n==null?void 0:n.getDate()),$e=(t,n,a)=>{const o=n instanceof Date,h=a instanceof Date;if(!h&&!o)return!0;const y=o?ke(t,n):!0;return(h?Ce(t,a):!0)&&y},St=({date:t,minDate:n,maxDate:a})=>{const o=n instanceof Date,h=a instanceof Date;if(!h&&!o)return!0;const y=N(t).startOf("month"),p=N(t).endOf("month"),k=o?p.isAfter(n):!0;return(h?y.isBefore(a):!0)&&k},Zt=(t,n="asc")=>n==="asc"?t.sort((a,o)=>N(a).isAfter(o,"day")?1:-1):t.sort((a,o)=>N(a).isBefore(o,"day")?1:-1),ke=(t,n)=>(n instanceof Date||n instanceof N)&&(N(t).isSame(n)||Ut(t,n)),Ce=(t,n)=>(n instanceof Date||n instanceof N)&&(N(t).isSame(n)||ee(t,n)),Ut=(t,n)=>(n instanceof Date||n instanceof N)&&N(n).isBefore(t,"day"),ee=(t,n)=>(n instanceof Date||n instanceof N)&&N(n).isAfter(t,"day"),vt=(t,n,a=!0)=>{let o,h;for(const y of t.current.keys())n(y)&&(o=y);if(typeof o=="number"){const y=t.current.get(o);h=y==null?void 0:y.current}else{const y=[...t.current.values()],p=y[0],k=y[y.length-1];h=a?p.current:k.current}h&&(h.focus(),h.tabIndex=0)},Vt=t=>{for(const[n,a]of t.current.entries())if(a.current?re(a.current):!1)return n},Qt=t=>[...t.current.keys()][0],Xt=t=>{const n=[...t.current.keys()];return n[n.length-1]},Kt=t=>{for(const n of t.current.values())n.current&&(n.current.tabIndex=-1)},Se=({minDate:t,maxDate:n,excludeDate:a,disableOutsideDays:o,value:h,isOutside:y})=>Ut(h,n)||ee(h,t)||!!(a!=null&&a(h))||!!o&&!!y,[Ye,ft]=oe({strict:!1,name:"CalendarContext"}),We=({type:t,defaultType:n,onChangeType:a,value:o,defaultValue:h,onChange:y,month:p,defaultMonth:k,onChangeMonth:g,firstDayOfWeek:b="monday",amountOfMonths:M=1,paginateBy:d=M,withWeekdays:v=!0,disableOutsideDays:D=!1,hiddenOutsideDays:S=!1,minDate:W,maxDate:V,locale:w,yearFormat:q="YYYY",monthFormat:G="MMM",weekdayFormat:Y="dd",dateFormat:L="MMMM YYYY",weekendDays:I=[0,6],today:A=!1,excludeDate:U,holidays:B=[],typeRef:$,prevRef:i,nextRef:l,withHeader:x=!0,withControls:e=!0,withLabel:r=!0,maxSelectValues:s,enableMultiple:u=!1,enableRange:c=!1,__selectType:f="date",...m})=>{var Wt,_t;const{theme:j}=he();w??(w=((_t=(Wt=j.__config)==null?void 0:Wt.date)==null?void 0:_t.locale)??"en");const[T,K]=It({value:t,defaultValue:n??"date"}),Z=ce((J,nt,$t)=>{K(J),a==null||a(J,nt,$t)},[]),X=C.useRef(void 0),[O,Q]=It({value:o,defaultValue:h??(u||c?[]:void 0),onChange:y}),[lt,ct]=C.useState(void 0),z=Yt(O),tt=c&&z,ut=z||tt?O.filter(Boolean):[];tt&&(D=!1);const[_,P]=It({value:p,defaultValue:()=>(!z&&O?k??(k=new Date(new Date(O).setDate(1))):(z||tt)&&ut.length?k??(k=new Date(new Date(ut.at(-1)).setDate(1))):k??(k=new Date(new Date().setDate(1))),k),onChange:g,onUpdate:(J,nt)=>!it(J,nt)}),E=_.getFullYear(),[R,st]=C.useState(E),[et,F]=C.useState(R),at=W instanceof Date?W.getFullYear():1,ht=V instanceof Date?V.getFullYear():1e4,mt=_e(et),bt=N(_).add(M,"months").toDate(),pt=N(_).subtract(1,"months").toDate(),xt=C.useRef(new Map),wt=C.useRef(new Map),dt=C.useRef(new Map);Mt(()=>{if(k){if(tt&&Yt(X.current)&&Yt(o)){const J=X.current.filter(Boolean),nt=o.filter(Boolean);J.length===1&&(!it(J[0],nt[0])?nt[0]&&(k=new Date(new Date(nt[0]).setDate(1))):nt[1]&&(k=new Date(new Date(nt[1]).setDate(1))))}P(k),st(k.getFullYear()),F(k.getFullYear()),X.current=o}},[o]),Mt(()=>{if(!O||M>1||z||tt||!O)return;const J=O.getFullYear();T==="year"?(st(J),F(nt=>mt.includes(J)?nt:J)):P(O)},[O,M]),Mt(()=>{tt&&O.length!==1&&ct(void 0)},[tt,O]),Mt(()=>{f!=="year"&&(st(_.getFullYear()),F(_.getFullYear()))},[_.getFullYear()]),Mt(()=>{switch(T){case"year":vt(xt,J=>R===mt[J]);break;case"month":vt(wt,J=>_.getFullYear()===R&&_.getMonth()===J);break;default:vt(dt,J=>{const[,nt,$t]=J.split("-").map(Number);return z?O==null?void 0:O.some(Ht=>(Ht==null?void 0:Ht.getMonth())===nt&&Ht.getDate()===$t):(O==null?void 0:O.getMonth())===nt&&(O==null?void 0:O.getDate())===$t});break}},[T]),Mt(()=>{Q(o)},[o]);const gt=C.useCallback((J={},nt=null)=>({...m,...J,ref:nt}),[m]);return{type:T,setType:Z,value:O,setValue:Q,hoveredValue:lt,setHoveredValue:ct,year:R,setYear:st,internalYear:et,setInternalYear:F,minYear:at,maxYear:ht,rangeYears:mt,prevMonth:pt,nextMonth:bt,minDate:W,maxDate:V,month:_,setMonth:P,firstDayOfWeek:b,amountOfMonths:M,paginateBy:d,withWeekdays:v,withHeader:x,withControls:e,withLabel:r,disableOutsideDays:D,hiddenOutsideDays:S,locale:w,weekdayFormat:Y,yearFormat:q,monthFormat:G,dateFormat:L,weekendDays:I,holidays:B,today:A,excludeDate:U,getContainerProps:gt,typeRef:$,prevRef:i,nextRef:l,yearRefs:xt,monthRefs:wt,dayRefs:dt,maxSelectValues:s,__selectType:f,enableRange:c}},He=({index:t})=>{const{prevMonth:n,nextMonth:a,setMonth:o,setYear:h,setInternalYear:y,type:p,setType:k,paginateBy:g,minDate:b,maxDate:M,year:d,month:v,minYear:D,maxYear:S,rangeYears:W,amountOfMonths:V,typeRef:w,prevRef:q,nextRef:G,dayRefs:Y}=ft(),L=C.useCallback(()=>{switch(p){case"month":k("year",d,v.getMonth());break;case"date":k("month",d,v.getMonth());break}},[v,k,p,d]),I=C.useCallback(()=>{switch(p){case"year":y(l=>l-12);break;case"month":h(l=>l-1);break;default:Y.current.clear(),o(l=>N(l).subtract(g,"months").toDate());break}},[Y,g,y,o,h,p]),A=C.useCallback(()=>{switch(p){case"year":y(l=>l+12);break;case"month":h(l=>l+1);break;default:Y.current.clear(),o(l=>N(l).add(g,"months").toDate());break}},[Y,g,y,o,h,p]);At(w,L),At(q,I),At(G,A);const U=C.useCallback(l=>{const e={ArrowDown:L,ArrowLeft:()=>{(()=>{switch(p){case"year":return W[0]<=D;case"month":return d<=D;default:return!St({date:n,minDate:b,maxDate:M})}})()||I()},ArrowRight:()=>{(()=>{switch(p){case"year":return S<=W[W.length-1];case"month":return S<=d;default:return!St({date:a,minDate:b,maxDate:M})}})()||A()}}[l.key];e&&(l.preventDefault(),l.stopPropagation(),e(l))},[M,S,b,D,a,A,I,L,n,W,p,d]),B=C.useCallback((l={})=>({...l,onKeyDown:yt(U,l.onKeyDown)}),[U]),$=C.useCallback(({operation:l,...x})=>{const e=l==="prev",r=`Go to ${e?"previous":"next"} ${p==="date"?"month":"year"}`,s=(()=>{switch(p){case"year":return e?W[0]<=D:S<=W[W.length-1];case"month":return e?d<=D:S<=d;default:return typeof t!="number"?void 0:e?t!==0||!St({date:n,minDate:b,maxDate:M}):t+1!==V||!St({date:a,minDate:b,maxDate:M})}})();return{"aria-label":r,...x,onClick:yt(e?I:A,x.onClick),tabIndex:-1,"data-hidden":rt(s),"data-disabled":rt(s),"aria-disabled":kt(s)}},[V,t,M,S,b,D,a,A,I,n,W,p,d]),i=C.useCallback((l={})=>({pointerEvents:p!=="year"?"auto":"none",...l,onClick:yt(l.onClick,L),tabIndex:t?-1:0,"aria-live":"polite"}),[t,L,p]);return{getContainerProps:B,getControlProps:$,getLabelProps:i}},Gt=({className:t,index:n,label:a,controlProps:o,prevProps:h,nextProps:y,labelProps:p,...k})=>{const{type:g,withHeader:b,withControls:M,withLabel:d,styles:v}=ft(),{getContainerProps:D,getControlProps:S,getLabelProps:W}=He({index:n}),V={display:"flex",alignItems:"center",w:"100%",...v.header},{icon:w,...q}=p??{};return b?H.jsxs(ot.div,{className:Dt("ui-calendar__header",t),__css:V,...D(k),children:[M?H.jsx(Pe,{...S({operation:"prev",...o,...h})}):null,d?H.jsxs(ve,{...W({...q}),children:[a,g!=="year"?ie(w)?w:H.jsx(je,{...w}):null]}):null,M?H.jsx(Re,{...S({operation:"next",...o,...y})}):null]}):null},ve=({className:t,...n})=>{const{styles:a}=ft(),o={flex:1,h:"auto",fontSize:void 0,fontWeight:"normal",gap:1,...a.label};return H.jsx(Ot,{className:Dt("ui-calendar__header__label",t),variant:"ghost",__css:o,...n})},je=({className:t,...n})=>{const{styles:a}=ft(),o={...a.labelIcon};return H.jsx(Et,{className:Dt("ui-calendar__header__label__icon",t),__css:o,...n})},Pe=({className:t,...n})=>H.jsx(ne,{operation:"prev",className:Dt("ui-calendar__header__control--prev",t),icon:H.jsx(Et,{__css:{transform:"rotate(90deg)"}}),...n}),Re=({className:t,...n})=>H.jsx(ne,{operation:"next",className:Dt("ui-calendar__header__control--next",t),icon:H.jsx(Et,{__css:{transform:"rotate(-90deg)"}}),...n}),ne=({className:t,operation:n,...a})=>{const{styles:o}=ft(),h={minW:"auto",h:"auto",...o.control,...o[n]};return H.jsx(ge,{className:Dt("ui-calendar__header__control",t),variant:"ghost",__css:h,...a})},Fe=()=>{const{value:t,setValue:n,month:a,setMonth:o,weekendDays:h,minDate:y,maxDate:p,disableOutsideDays:k,hiddenOutsideDays:g,amountOfMonths:b,holidays:M,today:d,excludeDate:v,dayRefs:D,paginateBy:S,prevMonth:W,nextMonth:V,maxSelectValues:w,enableRange:q,hoveredValue:G,setHoveredValue:Y,locale:L,dateFormat:I}=ft(),A=C.useRef(null),U=a.getFullYear(),B=Yt(t),$=q&&B,i=$?Zt(t.filter(Boolean)):[],l=B&&w===t.length,x=!!i[0]&&Ut(i[0],G),e=$?i[x?1:0]:void 0,r=$?i[x?0:1]:void 0,s=e??G,u=r??G,c=i.length>=1&&!!u,f=i.length===1,m=b>=2,j=Nt(w)?N(x?u:s).subtract(w-1,"day").toDate():void 0,T=Nt(w)?N(x?u:s).add(w-1,"day").toDate():void 0,K=Nt(w)&&Math.abs(N(e).diff(r,"day"))>=w,Z=f||K?j:void 0,X=f||K?T:void 0,O=C.useCallback((_,P,E)=>{var et;const[R,,st]=((et=Qt(D))==null?void 0:et.split("-").map(Number))??[];if(R===E&&E<st){if(!St({date:W,minDate:y,maxDate:p}))return;D.current.clear(),o(F=>(A.current=F,N(F).subtract(S,"months").toDate()))}else{const F=D.current.get(`${_}-${P}-${E}`);F!=null&&F.current&&(f&&Y(N(F.current.dataset.value).toDate()),F.current.focus(),F.current.tabIndex=0)}},[f,D,p,y,S,W,o,Y]),Q=C.useCallback((_,P,E)=>{var et;const[R,,st]=((et=Xt(D))==null?void 0:et.split("-").map(Number))??[];if(R===_&&st<E){if(!St({date:V,minDate:y,maxDate:p}))return;D.current.clear(),o(F=>(A.current=F,N(F).add(S,"months").toDate()))}else{const F=D.current.get(`${_}-${P}-${E}`);F!=null&&F.current&&(f&&Y(N(F.current.dataset.value).toDate()),F.current.focus(),F.current.tabIndex=0)}},[f,D,p,y,V,S,o,Y]),lt=C.useCallback(_=>{var xt,wt;const[P,E,R]=(Vt(D)??"").split("-").map(Number),[st,et,F]=((xt=Qt(D))==null?void 0:xt.split("-").map(Number))??[],[at,ht,mt]=((wt=Xt(D))==null?void 0:wt.split("-").map(Number))??[],pt={ArrowDown:()=>{const dt=N(new Date(U,E)).endOf("month").date();R+7<=dt&&Q(P,E,R+7)},ArrowUp:()=>{const dt=N(new Date(U,E)).startOf("month").date();R-7>=dt&&Q(P,E,R-7)},ArrowLeft:()=>{if(P!==st)if(N(new Date(U,E)).startOf("month").date()<R)Q(P,E,R-1);else{const gt=N(new Date(U,E)).subtract(1,"month").endOf("month").date();Q(P-1,E-1,gt)}else O(P,E,R-1)},ArrowRight:()=>{if(P!==at){const dt=N(new Date(U,E)).endOf("month").date();if(R<dt)Q(P,E,R+1);else{const gt=N(new Date(U,E)).add(1,"month").startOf("month").date();Q(P+1,E+1,gt)}}else Q(P,E,R+1)},Home:()=>O(st,et,F),End:()=>Q(at,ht,mt)}[_.key];pt&&(_.preventDefault(),_.stopPropagation(),Kt(D),pt(_))},[D,Q,O,U]),ct=C.useCallback((_,P)=>{_.preventDefault(),_.stopPropagation();const E=le(_);!E||Bt(E)||n(R=>Yt(R)?$?(R=R.filter(Boolean),R.length>=2?[P]:R.some(F=>it(F,P))?[]:Zt([...R,P])):R.some(et=>it(et,P))?R.filter(et=>!it(et,P)):[...R,P]:P)},[n,$]),z=C.useCallback(_=>{f&&Y(_)},[f,Y]);Mt(()=>{A.current instanceof Date&&(vt(D,()=>!1,A.current<a),A.current=null)},[a.getMonth()]),Tt(()=>{D.current.clear()});const tt=C.useCallback(({month:_,...P})=>({role:"grid","aria-label":Pt(_,L,I),"aria-multiselectable":kt(B),...P,onKeyDown:yt(lt,P.onKeyDown)}),[lt,B,L,I]),ut=C.useCallback(({value:_,month:P,index:E,...R},st=null)=>{const et=A.current instanceof Date,F=M.some(Ct=>it(Ct,_)),at=!Rt(P,_),ht=h.includes(_.getDay()),mt=g&&at,bt=B?t.some(Ct=>it(Ct,_)):it(t,_),pt=bt&&(!m||!at),xt=B?t.some(Ct=>Rt(P,Ct)):Rt(P,t),wt=d&&it(new Date,_),gt=Se({value:_,minDate:Z??y,maxDate:X??p,isOutside:at,excludeDate:v,disableOutsideDays:k})||!bt&&l,Wt=_.getDate()===1,_t=!xt&&!at&&Wt||bt,J=$&&it(s,_)&&!it(u,_),nt=$&&it(u,_)&&!it(s,_),$t=J&&(!m||!at),Ht=nt&&(!m||!at),zt=c&&!it(s,u)&&!mt&&$e(_,s,u),qt=`${E}-${_.getMonth()}-${_.getDate()}`;return at||D.current.set(qt,C.createRef()),{isSelected:bt,isWeekend:ht,isOutside:at,isStart:J,isEnd:nt,isBetween:zt,isHidden:mt,ref:Ft(st,at?void 0:D.current.get(qt)),...R,tabIndex:E||et?-1:_t?0:-1,"data-selected":rt(pt),"data-outside":rt(at),"data-between":rt(zt),"data-start":rt($t),"data-end":rt(Ht),"data-holiday":rt(F),"data-weekend":rt(ht),"data-today":rt(wt),"data-value":_??"","data-disabled":rt(gt),"aria-selected":kt(pt),"aria-disabled":kt(gt),onClick:yt(Ct=>ct(Ct,_),R.onClick),onPointerEnter:yt(()=>z(_),R.onPointerEnter)}},[M,h,g,B,t,m,d,Z,y,X,p,v,k,l,$,s,u,c,D,ct,z]);return{getGridProps:tt,getButtonProps:ut}},Oe=({className:t,headerProps:n,tableProps:a,labelProps:o,controlProps:h,prevProps:y,nextProps:p,weekdayProps:k,dayProps:g,...b})=>{const{month:M,amountOfMonths:d,withWeekdays:v,firstDayOfWeek:D,locale:S,weekdayFormat:W,dateFormat:V,styles:w}=ft(),{getGridProps:q,getButtonProps:G}=Fe(),{component:Y=Ie,...L}=k??{},{component:I=Ae,...A}=g??{},{thead:U,tbody:B,tr:$,th:i,td:l,...x}=a??{},e=C.useMemo(()=>xe(S,D,W),[D,S,W]),r=b.w??b.width,s=b.minW??b.minWidth,u=b.maxW??b.maxWidth,c=b.h??b.height,f=b.minH??b.minHeight,m=b.maxH??b.maxHeight;return H.jsx(H.Fragment,{children:Array(d).fill(0).map((j,T)=>{var O,Q,lt,ct,z,tt,ut,_,P,E,R,st;const K=N(M).add(T,"months").toDate(),Z=we(K,D),X=Pt(K,S,V);return H.jsxs(ot.div,{__css:{...w.content},...jt(b),children:[H.jsx(Gt,{...n,label:X,index:T,labelProps:o,controlProps:h,prevProps:y,nextProps:p}),H.jsxs(ot.table,{className:Dt("ui-calendar__month",t),__css:{w:((O=w.content)==null?void 0:O.w)??((Q=w.content)==null?void 0:Q.width),minW:((lt=w.content)==null?void 0:lt.minW)??((ct=w.content)==null?void 0:ct.minWidth),maxW:((z=w.content)==null?void 0:z.maxW)??((tt=w.content)==null?void 0:tt.maxWidth),h:((ut=w.content)==null?void 0:ut.h)??((_=w.content)==null?void 0:_.height),minH:((P=w.content)==null?void 0:P.minH)??((E=w.content)==null?void 0:E.minHeight),maxH:((R=w.content)==null?void 0:R.maxH)??((st=w.content)==null?void 0:st.maxHeight),...w.date},...q({month:K,...jt({w:r,minW:s,maxW:u,h:c,minH:f,maxH:m,...x})}),children:[v?H.jsx(ot.thead,{...U,children:H.jsx(ot.tr,{__css:{...w.row},...$,children:e.map((et,F)=>H.jsx(ot.th,{__css:{fontWeight:"normal",...w.cell},...i,children:H.jsx(ot.div,{className:"ui-calendar__month__weekday",__css:{w:"100%",display:"flex",...w.weekday},...L,children:Y({weekday:et,index:F})})},F))})}):null,H.jsx(ot.tbody,{...B,children:Z.map((et,F)=>H.jsx(ot.tr,{__css:{...w.row},...$,children:et.map((at,ht)=>{const{isSelected:mt,isWeekend:bt,isOutside:pt,isStart:xt,isEnd:wt,isBetween:dt,isHidden:gt,...Wt}=G({...A,month:K,value:at,index:T}),_t=I({date:at,row:F,col:ht,weekday:e[ht],isSelected:mt,isWeekend:bt,isOutside:pt}),J=!ue(_t)&&!de(_t)&&!fe(_t),nt={display:gt||!J?"none":"inline-flex",minW:"auto",h:"auto",p:0,fontSize:void 0,fontWeight:"normal",_ripple:{display:"block"},...w.day};return H.jsx(ot.td,{__css:{...w.cell},"data-start":rt(xt),"data-end":rt(wt),"data-between":rt(dt),...l,children:H.jsx(Ot,{className:"ui-calendar__month__day",variant:"unstyled",__css:nt,...Wt,children:_t})},ht)})},F))})]})]},T)})})},Ie=({weekday:t})=>H.jsx(ot.span,{className:"ui-calendar__month__weekday__label",children:t}),Ae=({date:t})=>H.jsx(ot.span,{className:"ui-calendar__month__day__label",children:t.getDate()}),Ne=()=>{const{year:t,setYear:n,value:a,month:o,setMonth:h,setType:y,locale:p,yearFormat:k,monthFormat:g,minDate:b,maxDate:M,monthRefs:d,minYear:v,maxYear:D,__selectType:S}=ft(),W=Yt(a),V=C.useRef(null),w=Me(p,g),q=Pt(t,p,k),G=C.useCallback(i=>{if(i<0){if(t<=v)return;n(l=>(V.current=l,l-1))}else{const l=d.current.get(i);l!=null&&l.current&&(l.current.focus(),l.current.tabIndex=0)}},[v,d,n,t]),Y=C.useCallback(i=>{if(11<i){if(D<=t)return;n(l=>(V.current=l,l+1))}else{const l=d.current.get(i);l!=null&&l.current&&(l.current.focus(),l.current.tabIndex=0)}},[D,d,n,t]),L=C.useCallback(i=>{const l=Vt(d)??0,e={ArrowDown:()=>l+3<=11?Y(l+3):{},ArrowUp:()=>l-3>=0?G(l-3):{},ArrowLeft:()=>G(l-1),ArrowRight:()=>Y(l+1),Home:()=>G(0),End:()=>Y(11)}[i.key];e&&(i.preventDefault(),i.stopPropagation(),Kt(d),e(i))},[d,Y,G]),I=C.useCallback((i,l)=>{i.preventDefault(),i.stopPropagation(),!Bt(i.target)&&(h(new Date(t,l,1)),y("date",t,l))},[t,h,y]),A=C.useCallback(()=>{var i;return S==="date"?o.getFullYear()===t:(W?(i=a[0])==null?void 0:i.getFullYear():a==null?void 0:a.getFullYear())===t},[S,W,o,a,t]),U=C.useCallback(i=>{var l;return S==="date"?o.getMonth()===i:(W?(l=a[0])==null?void 0:l.getMonth():a==null?void 0:a.getMonth())===i},[S,W,o,a]);Mt(()=>{typeof V.current=="number"&&(vt(d,()=>!1,V.current<t),V.current=null)},[t]),Tt(()=>{d.current.clear()});const B=C.useCallback((i={})=>({role:"grid","aria-label":q,...i,onKeyDown:yt(L,i.onKeyDown)}),[q,L]),$=C.useCallback(({value:i,...l},x=null)=>{const e=typeof V.current=="number",r=A(),s=r&&U(i),u=!St({date:new Date(t,i),minDate:b,maxDate:M});d.current.set(i,C.createRef());let c=-1;return e?c=-1:(!r&&i===0||s)&&(c=0),{disabled:u,ref:Ft(x,d.current.get(i)),...l,tabIndex:c,"aria-selected":kt(s),"data-selected":rt(s),"data-disabled":rt(u),"data-value":i??"","aria-disabled":kt(u),onClick:yt(l.onClick,f=>I(f,i))}},[A,U,t,b,M,d,I]);return{label:q,rangeMonths:w,getGridProps:B,getButtonProps:$}},Le=({className:t,headerProps:n,labelProps:a,controlProps:o,prevProps:h,nextProps:y,monthProps:p,monthGridProps:k,...g})=>{var A,U,B,$,i,l,x,e,r,s,u,c;const{year:b,styles:M}=ft(),{label:d,rangeMonths:v,getGridProps:D,getButtonProps:S}=Ne(),{component:W,...V}=p??{},w=g.w??g.width,q=g.minW??g.minWidth,G=g.maxW??g.maxWidth,Y=g.h??g.height,L=g.minH??g.minHeight,I=g.maxH??g.maxHeight;return H.jsxs(ot.div,{__css:{...M.content},...jt(g),children:[H.jsx(Gt,{...n,label:d,labelProps:a,controlProps:o,prevProps:h,nextProps:y}),H.jsx(ot.div,{className:Dt("ui-calendar__month-list",t),__css:{w:((A=M.content)==null?void 0:A.w)??((U=M.content)==null?void 0:U.width),minW:((B=M.content)==null?void 0:B.minW)??(($=M.content)==null?void 0:$.minWidth),maxW:((i=M.content)==null?void 0:i.maxW)??((l=M.content)==null?void 0:l.maxWidth),h:((x=M.content)==null?void 0:x.h)??((e=M.content)==null?void 0:e.height),minH:((r=M.content)==null?void 0:r.minH)??((s=M.content)==null?void 0:s.minHeight),maxH:((u=M.content)==null?void 0:u.maxH)??((c=M.content)==null?void 0:c.maxHeight),display:"grid",...M.month},...D({...jt({w,minW:q,maxW:G,h:Y,minH:L,maxH:I}),...k}),children:v.map((f,m)=>H.jsx(Ot,{className:"ui-calendar__month-list__button",variant:"ghost",__css:{minW:"auto",h:"auto",p:0,fontSize:void 0,fontWeight:"normal",...M.button},...S({...V,value:m}),children:W?W({month:f,year:b,index:m}):f},m))})]})},Be=()=>{const{locale:t,yearFormat:n,internalYear:a,setYear:o,setInternalYear:h,month:y,setMonth:p,setType:k,year:g,rangeYears:b,minYear:M,maxYear:d,yearRefs:v,value:D,__selectType:S}=ft(),W=Yt(D),V=C.useRef(null),w=C.useRef(null),q=Pt(b[0],t,n),G=Pt(b[b.length-1],t,n),Y=`${q} - ${G}`,L=`From ${q} to ${G}`,I=C.useCallback(x=>{if(x<0){if(b[0]<=M)return;h(e=>(w.current=e,e-12))}else{const e=v.current.get(x);e!=null&&e.current&&(e.current.focus(),e.current.tabIndex=0)}},[M,b,h,v]),A=C.useCallback(x=>{if(11<x){if(d<=b[b.length-1])return;h(e=>(w.current=e,e+12))}else{const e=v.current.get(x);e!=null&&e.current&&(e.current.focus(),e.current.tabIndex=0)}},[d,b,h,v]),U=C.useCallback(x=>{const e=Vt(v)??0,s={ArrowDown:()=>e+4<=11?A(e+4):{},ArrowUp:()=>e-4>=0?I(e-4):{},ArrowLeft:()=>I(e-1),ArrowRight:()=>A(e+1),Home:()=>I(0),End:()=>A(11)}[x.key];s&&(x.preventDefault(),x.stopPropagation(),Kt(v),s(x))},[A,I,v]),B=C.useCallback((x,e)=>{x.preventDefault(),x.stopPropagation(),!Bt(x.target)&&(o(e),p(r=>new Date(r.setFullYear(e))),k("month",e,y.getMonth()))},[y,p,k,o]),$=C.useCallback(x=>{var e;return S==="date"||S==="month"?g===x:(W?(e=D[0])==null?void 0:e.getFullYear():D==null?void 0:D.getFullYear())===x},[S,W,D,g]);Mt(()=>{typeof w.current=="number"&&(vt(v,()=>!1,w.current<a),w.current=null)},[a]),Tt(()=>{v.current.clear()});const i=C.useCallback((x={},e=null)=>({ref:Ft(e,V),role:"grid","aria-label":L,...x,onKeyDown:yt(U,x.onKeyDown)}),[L,U]),l=C.useCallback(({value:x,index:e,...r},s=null)=>{const u=typeof w.current=="number",c=$(x),f=x<M||x>d;v.current.set(e,C.createRef());let m=-1;return u?m=-1:(!b.includes(g)&&b[0]===x||c)&&(m=0),{disabled:f,ref:Ft(s,v.current.get(e)),...r,tabIndex:m,"aria-selected":kt(c),"data-selected":rt(c),"data-value":x??"","data-disabled":rt(f),"aria-disabled":kt(f),onClick:yt(r.onClick,j=>B(j,x))}},[$,M,d,v,b,g,B]);return{label:Y,rangeYears:b,getGridProps:i,getButtonProps:l}},Te=({className:t,headerProps:n,labelProps:a,controlProps:o,prevProps:h,nextProps:y,yearProps:p,yearGridProps:k,...g})=>{var U,B,$,i,l,x,e,r,s,u,c,f;const{locale:b,yearFormat:M,styles:d}=ft(),{label:v,rangeYears:D,getGridProps:S,getButtonProps:W}=Be(),{component:V,...w}=p??{},q=g.w??g.width,G=g.minW??g.minWidth,Y=g.maxW??g.maxWidth,L=g.h??g.height,I=g.minH??g.minHeight,A=g.maxH??g.maxHeight;return H.jsxs(ot.div,{__css:{...d.content},...jt(g),children:[H.jsx(Gt,{...n,label:v,labelProps:a,controlProps:o,prevProps:h,nextProps:y}),H.jsx(ot.div,{className:Dt("ui-calendar__year-list",t),__css:{w:((U=d.content)==null?void 0:U.w)??((B=d.content)==null?void 0:B.width),minW:(($=d.content)==null?void 0:$.minW)??((i=d.content)==null?void 0:i.minWidth),maxW:((l=d.content)==null?void 0:l.maxW)??((x=d.content)==null?void 0:x.maxWidth),h:((e=d.content)==null?void 0:e.h)??((r=d.content)==null?void 0:r.height),minH:((s=d.content)==null?void 0:s.minH)??((u=d.content)==null?void 0:u.minHeight),maxH:((c=d.content)==null?void 0:c.maxH)??((f=d.content)==null?void 0:f.maxHeight),display:"grid",...d.year},...S({...jt({w:q,minW:G,maxW:Y,h:L,minH:I,maxH:A}),...k}),children:D.map((m,j)=>H.jsx(Ot,{className:"ui-calendar__year-list__button",variant:"ghost",__css:{minW:"auto",h:"auto",p:0,fontSize:void 0,fontWeight:"normal",...d.button},...W({...w,value:m,index:j}),children:V?V({year:m,index:j}):Pt(m,b,M)},j))})]})},Ee=C.forwardRef((t,n)=>{const[a,o]=ye("Calendar",t),{className:h,value:y,defaultValue:p,onChange:k,headerProps:g,tableProps:b,yearGridProps:M,monthGridProps:d,labelProps:v,controlProps:D,prevProps:S,nextProps:W,yearProps:V,monthProps:w,weekdayProps:q,dayProps:G,...Y}=me(o),{type:L,getContainerProps:I,...A}=We({value:y,defaultValue:p,onChange:k,...Y}),U={display:"flex",flexWrap:"wrap",alignItems:"flex-start",...a.container},B=Y.w??Y.width,$=Y.minW??Y.minWidth,i=Y.maxW??Y.maxWidth,l=Y.h??Y.height,x=Y.minH??Y.minHeight,e=Y.maxH??Y.maxHeight;return H.jsx(Ye,{value:{type:L,styles:a,...A},children:H.jsxs(ot.div,{className:Dt("ui-calendar",h),__css:U,...I({},n),children:[L==="year"?H.jsx(Te,{headerProps:g,labelProps:v,controlProps:D,prevProps:S,nextProps:W,yearGridProps:M,yearProps:V,w:B,minW:$,maxW:i,h:l,minH:x,maxH:e}):null,L==="month"?H.jsx(Le,{headerProps:g,labelProps:v,controlProps:D,prevProps:S,nextProps:W,monthGridProps:d,monthProps:w,w:B,minW:$,maxW:i,h:l,minH:x,maxH:e}):null,L==="date"?H.jsx(Oe,{headerProps:g,tableProps:b,labelProps:v,controlProps:D,prevProps:S,nextProps:W,weekdayProps:q,dayProps:G,w:B,minW:$,maxW:i,h:l,minH:x,maxH:e}):null]})})});Ee.displayName="Calendar";export{Ee as C,ee as a,it as b,N as d,Ut as i,De as r};
