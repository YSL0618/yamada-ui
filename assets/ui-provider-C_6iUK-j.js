import{j as s}from"./extends-CwFRzn3r.js";import{a as S,d as E}from"./index-D8zeFWGN.js";import{b,c as M,f as y,C as N,ag as g,ah as I}from"./factory-CBW6YcbY.js";import{e as C,R as L,G as R}from"./theme-provider-B8NHi_rL.js";import{r as d}from"./index-BwDkhjyp.js";import{M as _,u as T,l as U,e as k}from"./motion-B7t0mTYZ.js";import{L as z}from"./loading-provider-DLs_jzZg.js";import{u as A}from"./index-BhJ-TW00.js";import{n as j}from"./notice-J75QkQZo.js";import{A as G}from"./index-CGy0U2a3.js";import{P as H}from"./portal-DCEThVLn.js";import{m as K}from"./factory-B6ZnNkK9.js";function O({children:i,isValidProp:o,...t}){o&&U(o),t={...d.useContext(_),...t},t.isStatic=T(()=>t.isStatic);const n=d.useMemo(()=>t,[JSON.stringify(t.transition),t.transformPagePoint,t.reducedMotion]);return s.jsx(_.Provider,{value:n,children:i})}const W=({appendToParentPortal:i,containerRef:o,gap:t="fallback(4, 1rem)",variants:n,itemProps:a,listProps:m})=>{const u=d.useSyncExternalStore(j.subscribe,j.getSnapshot,j.getSnapshot),c=Object.entries(u).map(([e,x])=>{const l=e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,r=e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,v=e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",h=e.includes("right")?void 0:"env(safe-area-inset-left, 0px)",f={bottom:r,display:"flex",flexDirection:"column",gap:t,left:h,margin:t,pointerEvents:"none",position:"fixed",right:v,top:l,zIndex:"fallback(zarbon, 160)"};return s.jsx(b.ul,{className:M("ui-notice__list",`ui-notice__list--${e}`),__css:f,...m,children:s.jsx(G,{initial:!1,children:x.map(p=>s.jsx(P,{variants:n,itemProps:a,...p},p.id))})},e)});return s.jsx(H,{appendToParentPortal:i,containerRef:o,children:c})},F={animate:{opacity:1,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]},x:0,y:0},exit:{opacity:0,scale:.95,transition:{duration:.2,ease:[.4,0,1,1]}},initial:({placement:i})=>({[["bottom","top"].includes(i)?"y":"x"]:(i==="bottom"||i.includes("right")?1:-1)*24,opacity:0})},P=d.memo(({style:i,duration:o=5e3,isDelete:t=!1,message:n,placement:a,variants:m=F,itemProps:u,onCloseComplete:c,onDelete:e})=>{const[x,l]=d.useState(o),r=k();y(()=>{r||c==null||c()},[r]),y(()=>{l(o)},[o]);const v=()=>l(null),h=()=>l(o),f=()=>{r&&e()};d.useEffect(()=>{r&&t&&e()},[r,t,e]),A(f,x);const p={maxW:"36rem",minW:"20rem",pointerEvents:"auto",...i};return s.jsx(K.li,{className:"ui-notice__list__item",style:{display:"flex",justifyContent:a.includes("left")?"flex-start":a.includes("right")?"flex-end":"center"},animate:"animate",custom:{placement:a},exit:"exit",initial:"initial",layout:!0,variants:m,onHoverEnd:h,onHoverStart:v,...u,children:s.jsx(b.div,{className:"ui-notice__list__item__inner",__css:p,children:N(n,{onClose:f})})})});P.displayName="NoticeComponent";const st=({children:i,colorModeManager:o,colorModeStorageKey:t,config:n=S,disableEnvironment:a,disableGlobalStyle:m,disableResetStyle:u,environment:c,theme:e=E,themeSchemeManager:x,themeSchemeStorageKey:l})=>{var r;return s.jsx(g,{disabled:a,environment:c,children:s.jsx(C,{config:n,storageKey:l,theme:e,themeSchemeManager:x,children:s.jsx(I,{colorModeManager:o,config:n,storageKey:t,children:s.jsx(O,{...(r=n.motion)==null?void 0:r.config,children:s.jsxs(z,{...n.loading,children:[u?null:s.jsx(L,{}),m?null:s.jsx(R,{}),i,s.jsx(W,{...n.notice})]})})})})})};export{st as U};
