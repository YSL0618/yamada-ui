import{j as g}from"./extends-CwFRzn3r.js";import{r as u}from"./index-BwDkhjyp.js";import{m as w}from"./forward-ref-scR1bmHx.js";import{M as l,t as A,a as H}from"./utils-CZR-v0D9.js";import{A as I,m as M}from"./factory-BoNL08IU.js";import{u as T}from"./use-component-style-Dk4hKw8J.js";import{o as R}from"./theme-provider-CXgbrDrx.js";import{c as v,P as B}from"./factory-uBtAHRUq.js";const E=s=>s!=null&&parseFloat(s.toString())>0,F={enter:({animationOpacity:s,delay:i,duration:r,endingHeight:n,enter:o,transition:e,transitionEnd:t}={})=>({...s?{opacity:1}:{},height:n,transition:A(e==null?void 0:e.enter)(i,r),transitionEnd:t==null?void 0:t.enter,...o}),exit:({animationOpacity:s,delay:i,duration:r,exit:n,startingHeight:o,transition:e,transitionEnd:t}={})=>({...s?{opacity:E(o)?1:0}:{},height:o,transition:H(e==null?void 0:e.exit)(i,r),transitionEnd:t==null?void 0:t.exit,...n})},D={animate:"enter",exit:"exit",initial:"exit",variants:F},y=w((s,i)=>{const[r,n]=T("Collapse",s);let{className:o,animationOpacity:e,delay:t,duration:a,endingHeight:_,isOpen:m,startingHeight:h,transition:c,transitionEnd:N,unmountOnExit:p,__css:C,...f}=R(n);const[x,O]=u.useState(!1);u.useEffect(()=>{B()&&O(!0)},[]);const P=m||p?"enter":"exit";m=p?m:!0;const S=u.useMemo(()=>x?c||{enter:{height:{duration:a??.3,ease:l.ease},opacity:{duration:a??.4,ease:l.ease}},exit:{height:{duration:a??.3,ease:l.ease},opacity:{duration:a??.4,ease:l.ease}}}:{enter:{duration:0}},[x,a,c]),d={animationOpacity:e,delay:t,duration:a,endingHeight:_,startingHeight:h,transition:S,transitionEnd:N},j={...r,...C};return g.jsx(I,{custom:d,initial:!1,children:m?g.jsx(M.div,{ref:i,className:v("ui-collapse",o),...f,...D,style:{overflow:"hidden",...f.style},animate:P,custom:d,initial:p?"exit":!1,__css:j}):null})});y.displayName="Collapse";y.__ui__="Collapse";export{y as C};
