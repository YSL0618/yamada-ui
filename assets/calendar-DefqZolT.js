import{j as R}from"./jsx-runtime-Nms4Y4qS.js";import{r as S}from"./index-BwDkhjyp.js";import{c as ee,g as ne}from"./_commonjsHelpers-BosuxZz1.js";import{u as It}from"./index-JO6qx1eo.js";import{ag as se,l as ae,k as re,f as xt,s as Yt,e as At,h as yt,d as nt,x as Mt,b as st,c as Dt,j as oe,g as Nt,af as ce,aw as Bt,R as Tt,a as Ft,A as vt,C as ie,q as le,ax as ue}from"./factory-C2Uq3ahE.js";import{u as de,o as fe}from"./theme-provider-jP6jS-pg.js";import{B as Ot}from"./button-Bi9n-vY3.js";import{c as Et}from"./icon-sIHrqgYT.js";import{I as he}from"./icon-button-BYhYpu9p.js";import{a as me}from"./use-component-style-Bx1vUO5y.js";var Lt={exports:{}},qt;function ge(){return qt||(qt=1,function(t,e){(function(n,r){t.exports=r()})(ee,function(){var n=1e3,r=6e4,g=36e5,y="millisecond",D="second",l="minute",H="hour",k="day",d="week",m="month",E="quarter",p="year",v="date",W="Invalid Date",K=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,F={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(c){var s=["th","st","nd","rd"],a=c%100;return"["+c+(s[(a-20)%10]||s[a]||s[0])+"]"}},z=function(c,s,a){var u=String(c);return!u||u.length>=s?c:""+Array(s+1-u.length).join(a)+c},U={s:z,z:function(c){var s=-c.utcOffset(),a=Math.abs(s),u=Math.floor(a/60),o=a%60;return(s<=0?"+":"-")+z(u,2,"0")+":"+z(o,2,"0")},m:function c(s,a){if(s.date()<a.date())return-c(a,s);var u=12*(a.year()-s.year())+(a.month()-s.month()),o=s.clone().add(u,m),C=a-o<0,$=s.clone().add(u+(C?-1:1),m);return+(-(u+(a-o)/(C?o-$:$-o))||0)},a:function(c){return c<0?Math.ceil(c)||0:Math.floor(c)},p:function(c){return{M:m,y:p,w:d,d:k,D:v,h:H,m:l,s:D,ms:y,Q:E}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(c){return c===void 0}},B="en",O={};O[B]=F;var b="$isDayjsObject",f=function(c){return c instanceof M||!(!c||!c[b])},h=function c(s,a,u){var o;if(!s)return B;if(typeof s=="string"){var C=s.toLowerCase();O[C]&&(o=C),a&&(O[C]=a,o=C);var $=s.split("-");if(!o&&$.length>1)return c($[0])}else{var j=s.name;O[j]=s,o=j}return!u&&o&&(B=o),o||!u&&B},i=function(c,s){if(f(c))return c.clone();var a=typeof s=="object"?s:{};return a.date=c,a.args=arguments,new M(a)},_=U;_.l=h,_.i=f,_.w=function(c,s){return i(c,{locale:s.$L,utc:s.$u,x:s.$x,$offset:s.$offset})};var M=function(){function c(a){this.$L=h(a.locale,null,!0),this.parse(a),this.$x=this.$x||a.x||{},this[b]=!0}var s=c.prototype;return s.parse=function(a){this.$d=function(u){var o=u.date,C=u.utc;if(o===null)return new Date(NaN);if(_.u(o))return new Date;if(o instanceof Date)return new Date(o);if(typeof o=="string"&&!/Z$/i.test(o)){var $=o.match(K);if($){var j=$[2]-1||0,A=($[7]||"0").substring(0,3);return C?new Date(Date.UTC($[1],j,$[3]||1,$[4]||0,$[5]||0,$[6]||0,A)):new Date($[1],j,$[3]||1,$[4]||0,$[5]||0,$[6]||0,A)}}return new Date(o)}(a),this.init()},s.init=function(){var a=this.$d;this.$y=a.getFullYear(),this.$M=a.getMonth(),this.$D=a.getDate(),this.$W=a.getDay(),this.$H=a.getHours(),this.$m=a.getMinutes(),this.$s=a.getSeconds(),this.$ms=a.getMilliseconds()},s.$utils=function(){return _},s.isValid=function(){return this.$d.toString()!==W},s.isSame=function(a,u){var o=i(a);return this.startOf(u)<=o&&o<=this.endOf(u)},s.isAfter=function(a,u){return i(a)<this.startOf(u)},s.isBefore=function(a,u){return this.endOf(u)<i(a)},s.$g=function(a,u,o){return _.u(a)?this[u]:this.set(o,a)},s.unix=function(){return Math.floor(this.valueOf()/1e3)},s.valueOf=function(){return this.$d.getTime()},s.startOf=function(a,u){var o=this,C=!!_.u(u)||u,$=_.p(a),j=function(rt,Z){var x=_.w(o.$u?Date.UTC(o.$y,Z,rt):new Date(o.$y,Z,rt),o);return C?x:x.endOf(k)},A=function(rt,Z){return _.w(o.toDate()[rt].apply(o.toDate("s"),(C?[0,0,0,0]:[23,59,59,999]).slice(Z)),o)},q=this.$W,G=this.$M,V=this.$D,N="set"+(this.$u?"UTC":"");switch($){case p:return C?j(1,0):j(31,11);case m:return C?j(1,G):j(0,G+1);case d:var at=this.$locale().weekStart||0,lt=(q<at?q+7:q)-at;return j(C?V-lt:V+(6-lt),G);case k:case v:return A(N+"Hours",0);case H:return A(N+"Minutes",1);case l:return A(N+"Seconds",2);case D:return A(N+"Milliseconds",3);default:return this.clone()}},s.endOf=function(a){return this.startOf(a,!1)},s.$set=function(a,u){var o,C=_.p(a),$="set"+(this.$u?"UTC":""),j=(o={},o[k]=$+"Date",o[v]=$+"Date",o[m]=$+"Month",o[p]=$+"FullYear",o[H]=$+"Hours",o[l]=$+"Minutes",o[D]=$+"Seconds",o[y]=$+"Milliseconds",o)[C],A=C===k?this.$D+(u-this.$W):u;if(C===m||C===p){var q=this.clone().set(v,1);q.$d[j](A),q.init(),this.$d=q.set(v,Math.min(this.$D,q.daysInMonth())).$d}else j&&this.$d[j](A);return this.init(),this},s.set=function(a,u){return this.clone().$set(a,u)},s.get=function(a){return this[_.p(a)]()},s.add=function(a,u){var o,C=this;a=Number(a);var $=_.p(u),j=function(G){var V=i(C);return _.w(V.date(V.date()+Math.round(G*a)),C)};if($===m)return this.set(m,this.$M+a);if($===p)return this.set(p,this.$y+a);if($===k)return j(1);if($===d)return j(7);var A=(o={},o[l]=r,o[H]=g,o[D]=n,o)[$]||1,q=this.$d.getTime()+a*A;return _.w(q,this)},s.subtract=function(a,u){return this.add(-1*a,u)},s.format=function(a){var u=this,o=this.$locale();if(!this.isValid())return o.invalidDate||W;var C=a||"YYYY-MM-DDTHH:mm:ssZ",$=_.z(this),j=this.$H,A=this.$m,q=this.$M,G=o.weekdays,V=o.months,N=o.meridiem,at=function(Z,x,P,Y){return Z&&(Z[x]||Z(u,C))||P[x].slice(0,Y)},lt=function(Z){return _.s(j%12||12,Z,"0")},rt=N||function(Z,x,P){var Y=Z<12?"AM":"PM";return P?Y.toLowerCase():Y};return C.replace(w,function(Z,x){return x||function(P){switch(P){case"YY":return String(u.$y).slice(-2);case"YYYY":return _.s(u.$y,4,"0");case"M":return q+1;case"MM":return _.s(q+1,2,"0");case"MMM":return at(o.monthsShort,q,V,3);case"MMMM":return at(V,q);case"D":return u.$D;case"DD":return _.s(u.$D,2,"0");case"d":return String(u.$W);case"dd":return at(o.weekdaysMin,u.$W,G,2);case"ddd":return at(o.weekdaysShort,u.$W,G,3);case"dddd":return G[u.$W];case"H":return String(j);case"HH":return _.s(j,2,"0");case"h":return lt(1);case"hh":return lt(2);case"a":return rt(j,A,!0);case"A":return rt(j,A,!1);case"m":return String(A);case"mm":return _.s(A,2,"0");case"s":return String(u.$s);case"ss":return _.s(u.$s,2,"0");case"SSS":return _.s(u.$ms,3,"0");case"Z":return $}return null}(Z)||$.replace(":","")})},s.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},s.diff=function(a,u,o){var C,$=this,j=_.p(u),A=i(a),q=(A.utcOffset()-this.utcOffset())*r,G=this-A,V=function(){return _.m($,A)};switch(j){case p:C=V()/12;break;case m:C=V();break;case E:C=V()/3;break;case d:C=(G-q)/6048e5;break;case k:C=(G-q)/864e5;break;case H:C=G/g;break;case l:C=G/r;break;case D:C=G/n;break;default:C=G}return o?C:_.a(C)},s.daysInMonth=function(){return this.endOf(m).$D},s.$locale=function(){return O[this.$L]},s.locale=function(a,u){if(!a)return this.$L;var o=this.clone(),C=h(a,u,!0);return C&&(o.$L=C),o},s.clone=function(){return _.w(this.$d,this)},s.toDate=function(){return new Date(this.valueOf())},s.toJSON=function(){return this.isValid()?this.toISOString():null},s.toISOString=function(){return this.$d.toISOString()},s.toString=function(){return this.$d.toUTCString()},c}(),J=M.prototype;return i.prototype=J,[["$ms",y],["$s",D],["$m",l],["$H",H],["$W",k],["$M",m],["$y",p],["$D",v]].forEach(function(c){J[c[1]]=function(s){return this.$g(s,c[0],c[1])}}),i.extend=function(c,s){return c.$i||(c(s,M,i),c.$i=!0),i},i.locale=h,i.isDayjs=f,i.unix=function(c){return i(1e3*c)},i.en=O[B],i.Ls=O,i.p={},i})}(Lt)),Lt.exports}var ye=ge();const L=ne(ye),Qt=(t,e)=>{const n=new Date(t),r=n.getDay()||7,g=e==="sunday",y=g?r:r-1;return(g&&r!==0||r!==1)&&n.setHours(-24*y),n},De=(t,e)=>{const n=new Date(t),r=n.getDay(),g=e==="sunday",y=7-(g?r+1:r);return(g&&r!==6||r!==0)&&n.setDate(n.getDate()+y),n},be=(t,e,n="dd")=>{let r=[];const g=Qt(new Date,e);for(let y=0;y<7;y+=1){const D=L(g).locale(t).format(n);r=[...r,D],g.setDate(g.getDate()+1)}return r},pe=(t,e)=>{const n=t.getMonth(),r=new Date(t.getFullYear(),n,1),g=new Date(t.getFullYear(),t.getMonth()+1,0),y=De(g,e),D=Qt(r,e),l=[];for(;D<=y;){const H=[];for(let k=0;k<7;k+=1)H.push(new Date(D)),D.setDate(D.getDate()+1);l.push(H)}return l},xe=t=>{const e=t-6;let n=[];for(let r=0;r<12;r+=1){const g=e+r;n=[...n,g]}return n},we=(t,e)=>{const n=new Date(1993,0,1);let r=[];for(let g=0;g<12;g+=1){const y=L(n).locale(t).format(e);r=[...r,y],n.setMonth(n.getMonth()+1)}return r},Rt=(t,e,n)=>t instanceof Date?L(t).locale(e).format(n):L(new Date(t,1,1)).locale(e).format(n),Pt=(t,e)=>(t==null?void 0:t.getFullYear())===(e==null?void 0:e.getFullYear())&&(t==null?void 0:t.getMonth())===(e==null?void 0:e.getMonth()),it=(t,e)=>Pt(t,e)&&(t==null?void 0:t.getDate())===(e==null?void 0:e.getDate()),_e=(t,e,n)=>{const r=e instanceof Date,g=n instanceof Date;if(!g&&!r)return!0;const y=r?Me(t,e):!0;return(g?$e(t,n):!0)&&y},St=({date:t,minDate:e,maxDate:n})=>{const r=e instanceof Date,g=n instanceof Date;if(!g&&!r)return!0;const y=L(t).startOf("month"),D=L(t).endOf("month"),l=r?D.isAfter(e):!0;return(g?y.isBefore(n):!0)&&l},Jt=(t,e="asc")=>e==="asc"?t.sort((n,r)=>L(n).isAfter(r,"day")?1:-1):t.sort((n,r)=>L(n).isBefore(r,"day")?1:-1),Me=(t,e)=>(e instanceof Date||e instanceof L)&&(L(t).isSame(e)||Ut(t,e)),$e=(t,e)=>(e instanceof Date||e instanceof L)&&(L(t).isSame(e)||Xt(t,e)),Ut=(t,e)=>(e instanceof Date||e instanceof L)&&L(e).isBefore(t,"day"),Xt=(t,e)=>(e instanceof Date||e instanceof L)&&L(e).isAfter(t,"day"),Ht=(t,e,n=!0)=>{let r,g;for(const y of t.current.keys())e(y)&&(r=y);if(typeof r=="number"){const y=t.current.get(r);g=y==null?void 0:y.current}else{const y=[...t.current.values()],D=y[0],l=y[y.length-1];g=n?D.current:l.current}g&&(g.focus(),g.tabIndex=0)},Vt=t=>{for(const[e,n]of t.current.entries())if(n.current?se(n.current):!1)return e},Zt=t=>[...t.current.keys()][0],Gt=t=>{const e=[...t.current.keys()];return e[e.length-1]},Kt=t=>{for(const e of t.current.values())e.current&&(e.current.tabIndex=-1)},ke=({minDate:t,maxDate:e,excludeDate:n,disableOutsideDays:r,value:g,isOutside:y})=>Ut(g,e)||Xt(g,t)||!!(n!=null&&n(g))||!!r&&!!y,[Ce,mt]=ae({strict:!1,name:"CalendarContext"}),Se=({type:t,defaultType:e,onChangeType:n,value:r,defaultValue:g,onChange:y,month:D,defaultMonth:l,onChangeMonth:H,firstDayOfWeek:k="monday",amountOfMonths:d=1,paginateBy:m=d,withWeekdays:E=!0,disableOutsideDays:p=!1,hiddenOutsideDays:v=!1,minDate:W,maxDate:K,locale:w,yearFormat:F="YYYY",monthFormat:z="MMM",weekdayFormat:U="dd",dateFormat:B="MMMM YYYY",weekendDays:O=[0,6],today:b=!1,excludeDate:f,holidays:h=[],typeRef:i,prevRef:_,nextRef:M,withHeader:J=!0,withControls:c=!0,withLabel:s=!0,maxSelectValues:a,enableMultiple:u=!1,enableRange:o=!1,__selectType:C="date",...$})=>{var $t,gt;const{theme:j}=de();w??(w=((gt=($t=j.__config)==null?void 0:$t.date)==null?void 0:gt.locale)??"en");const[A,q]=It({value:t,defaultValue:e??"date"}),G=re((Q,et,pt)=>{q(Q),n==null||n(Q,et,pt)},[]),V=S.useRef(void 0),[N,at]=It({value:r,defaultValue:g??(u||o?[]:void 0),onChange:y}),[lt,rt]=S.useState(void 0),Z=Yt(N),x=o&&Z,P=Z||x?N.filter(Boolean):[];x&&(p=!1);const[Y,I]=It({value:D,defaultValue:()=>(!Z&&N?l??(l=new Date(new Date(N).setDate(1))):(Z||x)&&P.length?l??(l=new Date(new Date(P.at(-1)).setDate(1))):l??(l=new Date(new Date().setDate(1))),l),onChange:H,onUpdate:(Q,et)=>!it(Q,et)}),ot=Y.getFullYear(),[X,T]=S.useState(ot),[tt,ct]=S.useState(X),bt=W instanceof Date?W.getFullYear():1,dt=K instanceof Date?K.getFullYear():1e4,ft=xe(tt),wt=L(Y).add(d,"months").toDate(),_t=L(Y).subtract(1,"months").toDate(),ut=S.useRef(new Map),ht=S.useRef(new Map),Wt=S.useRef(new Map);xt(()=>{if(l){if(x&&Yt(V.current)&&Yt(r)){const Q=V.current.filter(Boolean),et=r.filter(Boolean);Q.length===1&&(!it(Q[0],et[0])?et[0]&&(l=new Date(new Date(et[0]).setDate(1))):et[1]&&(l=new Date(new Date(et[1]).setDate(1))))}I(l),T(l.getFullYear()),ct(l.getFullYear()),V.current=r}},[r]),xt(()=>{if(!N||d>1||Z||x||!N)return;const Q=N.getFullYear();A==="year"?(T(Q),ct(et=>ft.includes(Q)?et:Q)):I(N)},[N,d]),xt(()=>{x&&N.length!==1&&rt(void 0)},[x,N]),xt(()=>{C!=="year"&&(T(Y.getFullYear()),ct(Y.getFullYear()))},[Y.getFullYear()]),xt(()=>{switch(A){case"year":Ht(ut,Q=>X===ft[Q]);break;case"month":Ht(ht,Q=>Y.getFullYear()===X&&Y.getMonth()===Q);break;default:Ht(Wt,Q=>{const[,et,pt]=Q.split("-").map(Number);return Z?N==null?void 0:N.some(kt=>(kt==null?void 0:kt.getMonth())===et&&kt.getDate()===pt):(N==null?void 0:N.getMonth())===et&&(N==null?void 0:N.getDate())===pt});break}},[A]),xt(()=>{at(r)},[r]);const jt=S.useCallback((Q={},et=null)=>({...$,...Q,ref:et}),[$]);return{type:A,setType:G,value:N,setValue:at,hoveredValue:lt,setHoveredValue:rt,year:X,setYear:T,internalYear:tt,setInternalYear:ct,minYear:bt,maxYear:dt,rangeYears:ft,prevMonth:_t,nextMonth:wt,minDate:W,maxDate:K,month:Y,setMonth:I,firstDayOfWeek:k,amountOfMonths:d,paginateBy:m,withWeekdays:E,withHeader:J,withControls:c,withLabel:s,disableOutsideDays:p,hiddenOutsideDays:v,locale:w,weekdayFormat:U,yearFormat:F,monthFormat:z,dateFormat:B,weekendDays:O,holidays:h,today:b,excludeDate:f,getContainerProps:jt,typeRef:i,prevRef:_,nextRef:M,yearRefs:ut,monthRefs:ht,dayRefs:Wt,maxSelectValues:a,__selectType:C,enableRange:o}},Ye=({index:t})=>{const{prevMonth:e,nextMonth:n,setMonth:r,setYear:g,setInternalYear:y,type:D,setType:l,paginateBy:H,minDate:k,maxDate:d,year:m,month:E,minYear:p,maxYear:v,rangeYears:W,amountOfMonths:K,typeRef:w,prevRef:F,nextRef:z,dayRefs:U}=mt(),B=S.useCallback(()=>{switch(D){case"month":l("year",m,E.getMonth());break;case"date":l("month",m,E.getMonth());break}},[E,l,D,m]),O=S.useCallback(()=>{switch(D){case"year":y(M=>M-12);break;case"month":g(M=>M-1);break;default:U.current.clear(),r(M=>L(M).subtract(H,"months").toDate());break}},[U,H,y,r,g,D]),b=S.useCallback(()=>{switch(D){case"year":y(M=>M+12);break;case"month":g(M=>M+1);break;default:U.current.clear(),r(M=>L(M).add(H,"months").toDate());break}},[U,H,y,r,g,D]);At(w,B),At(F,O),At(z,b);const f=S.useCallback(M=>{const c={ArrowDown:B,ArrowLeft:()=>{(()=>{switch(D){case"year":return W[0]<=p;case"month":return m<=p;default:return!St({date:e,minDate:k,maxDate:d})}})()||O()},ArrowRight:()=>{(()=>{switch(D){case"year":return v<=W[W.length-1];case"month":return v<=m;default:return!St({date:n,minDate:k,maxDate:d})}})()||b()}}[M.key];c&&(M.preventDefault(),M.stopPropagation(),c(M))},[d,v,k,p,n,b,O,B,e,W,D,m]),h=S.useCallback((M={})=>({...M,onKeyDown:yt(f,M.onKeyDown)}),[f]),i=S.useCallback(({operation:M,...J})=>{const c=M==="prev",s=`Go to ${c?"previous":"next"} ${D==="date"?"month":"year"}`,a=(()=>{switch(D){case"year":return c?W[0]<=p:v<=W[W.length-1];case"month":return c?m<=p:v<=m;default:return typeof t!="number"?void 0:c?t!==0||!St({date:e,minDate:k,maxDate:d}):t+1!==K||!St({date:n,minDate:k,maxDate:d})}})();return{"aria-label":s,...J,onClick:yt(c?O:b,J.onClick),tabIndex:-1,"data-hidden":nt(a),"data-disabled":nt(a),"aria-disabled":Mt(a)}},[K,t,d,v,k,p,n,b,O,e,W,D,m]),_=S.useCallback((M={})=>({pointerEvents:D!=="year"?"auto":"none",...M,onClick:yt(M.onClick,B),tabIndex:t?-1:0,"aria-live":"polite"}),[t,B,D]);return{getContainerProps:h,getControlProps:i,getLabelProps:_}},zt=({className:t,index:e,label:n,controlProps:r,prevProps:g,nextProps:y,labelProps:D,...l})=>{const{type:H,withHeader:k,withControls:d,withLabel:m,styles:E}=mt(),{getContainerProps:p,getControlProps:v,getLabelProps:W}=Ye({index:e}),K={display:"flex",alignItems:"center",w:"100%",...E.header},{icon:w,...F}=D??{};return k?R.jsxs(st.div,{className:Dt("ui-calendar__header",t),__css:K,...p(l),children:[d?R.jsx(ve,{...v({operation:"prev",...r,...g})}):null,m?R.jsxs(We,{...W({...F}),children:[n,H!=="year"?oe(w)?w:R.jsx(He,{...w}):null]}):null,d?R.jsx(je,{...v({operation:"next",...r,...y})}):null]}):null},We=({className:t,...e})=>{const{styles:n}=mt(),r={flex:1,h:"auto",fontSize:void 0,fontWeight:"normal",gap:1,...n.label};return R.jsx(Ot,{className:Dt("ui-calendar__header__label",t),variant:"ghost",__css:r,...e})},He=({className:t,...e})=>{const{styles:n}=mt(),r={...n.labelIcon};return R.jsx(Et,{className:Dt("ui-calendar__header__label__icon",t),__css:r,...e})},ve=({className:t,...e})=>R.jsx(te,{operation:"prev",className:Dt("ui-calendar__header__control--prev",t),icon:R.jsx(Et,{__css:{transform:"rotate(90deg)"}}),...e}),je=({className:t,...e})=>R.jsx(te,{operation:"next",className:Dt("ui-calendar__header__control--next",t),icon:R.jsx(Et,{__css:{transform:"rotate(-90deg)"}}),...e}),te=({className:t,operation:e,...n})=>{const{styles:r}=mt(),g={minW:"auto",h:"auto",...r.control,...r[e]};return R.jsx(he,{className:Dt("ui-calendar__header__control",t),variant:"ghost",__css:g,...n})},Re=()=>{const{value:t,setValue:e,month:n,setMonth:r,weekendDays:g,minDate:y,maxDate:D,disableOutsideDays:l,hiddenOutsideDays:H,amountOfMonths:k,holidays:d,today:m,excludeDate:E,dayRefs:p,paginateBy:v,prevMonth:W,nextMonth:K,maxSelectValues:w,enableRange:F,hoveredValue:z,setHoveredValue:U}=mt(),B=S.useRef(null),O=n.getFullYear(),b=Yt(t),f=F&&b,h=f?Jt(t.filter(Boolean)):[],i=b&&w===t.length,_=!!h[0]&&Ut(h[0],z),M=f?h[_?1:0]:void 0,J=f?h[_?0:1]:void 0,c=M??z,s=J??z,a=h.length>=1&&!!s,u=h.length===1,o=k>=2,C=Nt(w)?L(_?s:c).subtract(w-1,"day").toDate():void 0,$=Nt(w)?L(_?s:c).add(w-1,"day").toDate():void 0,j=Nt(w)&&Math.abs(L(M).diff(J,"day"))>=w,A=u||j?C:void 0,q=u||j?$:void 0,G=S.useCallback((x,P,Y)=>{var X;const[I,,ot]=((X=Zt(p))==null?void 0:X.split("-").map(Number))??[];if(I===Y&&Y<ot){if(!St({date:W,minDate:y,maxDate:D}))return;p.current.clear(),r(T=>(B.current=T,L(T).subtract(v,"months").toDate()))}else{const T=p.current.get(`${x}-${P}-${Y}`);T!=null&&T.current&&(u&&U(L(T.current.dataset.value).toDate()),T.current.focus(),T.current.tabIndex=0)}},[u,p,D,y,v,W,r,U]),V=S.useCallback((x,P,Y)=>{var X;const[I,,ot]=((X=Gt(p))==null?void 0:X.split("-").map(Number))??[];if(I===x&&ot<Y){if(!St({date:K,minDate:y,maxDate:D}))return;p.current.clear(),r(T=>(B.current=T,L(T).add(v,"months").toDate()))}else{const T=p.current.get(`${x}-${P}-${Y}`);T!=null&&T.current&&(u&&U(L(T.current.dataset.value).toDate()),T.current.focus(),T.current.tabIndex=0)}},[u,p,D,y,K,v,r,U]),N=S.useCallback(x=>{var wt,_t;const[P,Y,I]=(Vt(p)??"").split("-").map(Number),[ot,X,T]=((wt=Zt(p))==null?void 0:wt.split("-").map(Number))??[],[tt,ct,bt]=((_t=Gt(p))==null?void 0:_t.split("-").map(Number))??[],ft={ArrowDown:()=>{const ut=L(new Date(O,Y)).endOf("month").date();I+7<=ut&&V(P,Y,I+7)},ArrowUp:()=>{const ut=L(new Date(O,Y)).startOf("month").date();I-7>=ut&&V(P,Y,I-7)},ArrowLeft:()=>{if(P!==ot)if(L(new Date(O,Y)).startOf("month").date()<I)V(P,Y,I-1);else{const ht=L(new Date(O,Y)).subtract(1,"month").endOf("month").date();V(P-1,Y-1,ht)}else G(P,Y,I-1)},ArrowRight:()=>{if(P!==tt){const ut=L(new Date(O,Y)).endOf("month").date();if(I<ut)V(P,Y,I+1);else{const ht=L(new Date(O,Y)).add(1,"month").startOf("month").date();V(P+1,Y+1,ht)}}else V(P,Y,I+1)},Home:()=>G(ot,X,T),End:()=>V(tt,ct,bt)}[x.key];ft&&(x.preventDefault(),x.stopPropagation(),Kt(p),ft(x))},[p,V,G,O]),at=S.useCallback((x,P)=>{x.preventDefault(),x.stopPropagation();const Y=ce(x);!Y||Bt(Y)||e(I=>Yt(I)?f?(I=I.filter(Boolean),I.length>=2?[P]:I.some(T=>it(T,P))?[]:Jt([...I,P])):I.some(X=>it(X,P))?I.filter(X=>!it(X,P)):[...I,P]:P)},[e,f]),lt=S.useCallback(x=>{u&&U(x)},[u,U]);xt(()=>{B.current instanceof Date&&(Ht(p,()=>!1,B.current<n),B.current=null)},[n.getMonth()]),Tt(()=>{p.current.clear()});const rt=S.useCallback((x={})=>({...x,"aria-multiselectable":Mt(b),onKeyDown:yt(N,x.onKeyDown)}),[N,b]),Z=S.useCallback(({value:x,month:P,index:Y,...I},ot=null)=>{const X=B.current instanceof Date,T=d.some(Ct=>it(Ct,x)),tt=!Pt(P,x),ct=g.includes(x.getDay()),bt=H&&tt,dt=b?t.some(Ct=>it(Ct,x)):it(t,x),ft=dt&&(!o||!tt),wt=b?t.some(Ct=>Pt(P,Ct)):Pt(P,t),_t=m&&it(new Date,x),ht=ke({value:x,minDate:A??y,maxDate:q??D,isOutside:tt,excludeDate:E,disableOutsideDays:l})||!dt&&i,Wt=x.getDate()===1,jt=!wt&&!tt&&Wt||dt,$t=f&&it(c,x)&&!it(s,x),gt=f&&it(s,x)&&!it(c,x),Q=$t&&(!o||!tt),et=gt&&(!o||!tt),pt=a&&!it(c,s)&&!bt&&_e(x,c,s),kt=`${Y}-${x.getMonth()}-${x.getDate()}`;return tt||p.current.set(kt,S.createRef()),{isSelected:dt,isWeekend:ct,isOutside:tt,isStart:$t,isEnd:gt,isBetween:pt,isHidden:bt,ref:Ft(ot,tt?void 0:p.current.get(kt)),...I,tabIndex:Y||X?-1:jt?0:-1,"data-selected":nt(ft),"data-outside":nt(tt),"data-between":nt(pt),"data-start":nt(Q),"data-end":nt(et),"data-holiday":nt(T),"data-weekend":nt(ct),"data-today":nt(_t),"data-value":x??"","data-disabled":nt(ht),"aria-selected":Mt(ft),"aria-disabled":Mt(ht),onClick:yt(Ct=>at(Ct,x),I.onClick),onPointerEnter:yt(()=>lt(x),I.onPointerEnter)}},[d,g,H,b,t,o,m,A,y,q,D,E,l,i,f,c,s,a,p,at,lt]);return{getContainerProps:rt,getButtonProps:Z}},Pe=({className:t,headerProps:e,tableProps:n,labelProps:r,controlProps:g,prevProps:y,nextProps:D,weekdayProps:l,dayProps:H,...k})=>{const{month:d,amountOfMonths:m,withWeekdays:E,firstDayOfWeek:p,locale:v,weekdayFormat:W,dateFormat:K,styles:w}=mt(),{getContainerProps:F,getButtonProps:z}=Re(),{component:U=Fe,...B}=l??{},{component:O=Oe,...b}=H??{},{thead:f,tbody:h,tr:i,th:_,td:M,...J}=n??{},c=S.useMemo(()=>be(v,p,W),[p,v,W]),s=k.w??k.width,a=k.minW??k.minWidth,u=k.maxW??k.maxWidth,o=k.h??k.height,C=k.minH??k.minHeight,$=k.maxH??k.maxHeight;return R.jsx(R.Fragment,{children:Array(m).fill(0).map((j,A)=>{var N,at,lt,rt,Z,x,P,Y,I,ot,X,T;const q=L(d).add(A,"months").toDate(),G=pe(q,p),V=Rt(q,v,K);return R.jsxs(st.div,{__css:{...w.content},...vt(k),children:[R.jsx(zt,{...e,label:V,index:A,labelProps:r,controlProps:g,prevProps:y,nextProps:D}),R.jsxs(st.table,{role:"grid","aria-label":V,className:Dt("ui-calendar__month",t),__css:{w:((N=w.content)==null?void 0:N.w)??((at=w.content)==null?void 0:at.width),minW:((lt=w.content)==null?void 0:lt.minW)??((rt=w.content)==null?void 0:rt.minWidth),maxW:((Z=w.content)==null?void 0:Z.maxW)??((x=w.content)==null?void 0:x.maxWidth),h:((P=w.content)==null?void 0:P.h)??((Y=w.content)==null?void 0:Y.height),minH:((I=w.content)==null?void 0:I.minH)??((ot=w.content)==null?void 0:ot.minHeight),maxH:((X=w.content)==null?void 0:X.maxH)??((T=w.content)==null?void 0:T.maxHeight),...w.date},...F(vt({w:s,minW:a,maxW:u,h:o,minH:C,maxH:$,...J})),children:[E?R.jsx(st.thead,{...f,children:R.jsx(st.tr,{__css:{...w.row},...i,children:c.map((tt,ct)=>R.jsx(st.th,{__css:{fontWeight:"normal",...w.cell},..._,children:R.jsx(st.div,{className:"ui-calendar__month__weekday",__css:{w:"100%",display:"flex",...w.weekday},...B,children:U({weekday:tt,index:ct})})},ct))})}):null,R.jsx(st.tbody,{...h,children:G.map((tt,ct)=>R.jsx(st.tr,{__css:{...w.row},...i,children:tt.map((bt,dt)=>{const{isSelected:ft,isWeekend:wt,isOutside:_t,isStart:ut,isEnd:ht,isBetween:Wt,isHidden:jt,...$t}=z({...b,month:q,value:bt,index:A}),gt=O({date:bt,row:ct,col:dt,weekday:c[dt],isSelected:ft,isWeekend:wt,isOutside:_t}),Q=!ie(gt)&&!le(gt)&&!ue(gt),et={display:jt||!Q?"none":"inline-flex",minW:"auto",h:"auto",p:0,fontSize:void 0,fontWeight:"normal",_ripple:{display:"block"},...w.day};return R.jsx(st.td,{__css:{...w.cell},"data-start":nt(ut),"data-end":nt(ht),"data-between":nt(Wt),...M,children:R.jsx(Ot,{className:"ui-calendar__month__day",variant:"unstyled",__css:et,...$t,children:gt})},dt)})},ct))})]})]},A)})})},Fe=({weekday:t})=>R.jsx(st.span,{className:"ui-calendar__month__weekday__label",children:t}),Oe=({date:t})=>R.jsx(st.span,{className:"ui-calendar__month__day__label",children:t.getDate()}),Ie=()=>{const{year:t,setYear:e,value:n,month:r,setMonth:g,setType:y,locale:D,monthFormat:l,minDate:H,maxDate:k,monthRefs:d,minYear:m,maxYear:E,__selectType:p}=mt(),v=Yt(n),W=S.useRef(null),K=we(D,l),w=S.useCallback(h=>{if(h<0){if(t<=m)return;e(i=>(W.current=i,i-1))}else{const i=d.current.get(h);i!=null&&i.current&&(i.current.focus(),i.current.tabIndex=0)}},[m,d,e,t]),F=S.useCallback(h=>{if(11<h){if(E<=t)return;e(i=>(W.current=i,i+1))}else{const i=d.current.get(h);i!=null&&i.current&&(i.current.focus(),i.current.tabIndex=0)}},[E,d,e,t]),z=S.useCallback(h=>{const i=Vt(d)??0,M={ArrowDown:()=>i+3<=11?F(i+3):{},ArrowUp:()=>i-3>=0?w(i-3):{},ArrowLeft:()=>w(i-1),ArrowRight:()=>F(i+1),Home:()=>w(0),End:()=>F(11)}[h.key];M&&(h.preventDefault(),h.stopPropagation(),Kt(d),M(h))},[d,F,w]),U=S.useCallback((h,i)=>{h.preventDefault(),h.stopPropagation(),!Bt(h.target)&&(g(new Date(t,i,1)),y("date",t,i))},[t,g,y]),B=S.useCallback(()=>{var h;return p==="date"?r.getFullYear()===t:(v?(h=n[0])==null?void 0:h.getFullYear():n==null?void 0:n.getFullYear())===t},[p,v,r,n,t]),O=S.useCallback(h=>{var i;return p==="date"?r.getMonth()===h:(v?(i=n[0])==null?void 0:i.getMonth():n==null?void 0:n.getMonth())===h},[p,v,r,n]);xt(()=>{typeof W.current=="number"&&(Ht(d,()=>!1,W.current<t),W.current=null)},[t]),Tt(()=>{d.current.clear()});const b=S.useCallback((h={})=>({...h,onKeyDown:yt(z,h.onKeyDown)}),[z]),f=S.useCallback(({value:h,...i},_=null)=>{const M=typeof W.current=="number",J=B(),c=J&&O(h),s=!St({date:new Date(t,h),minDate:H,maxDate:k});d.current.set(h,S.createRef());let a=-1;return M?a=-1:(!J&&h===0||c)&&(a=0),{isDisabled:s,ref:Ft(_,d.current.get(h)),...i,tabIndex:a,"aria-selected":Mt(c),"data-selected":nt(c),"data-disabled":nt(s),"data-value":h??"","aria-disabled":Mt(s),onClick:yt(i.onClick,u=>U(u,h))}},[B,O,t,H,k,d,U]);return{rangeMonths:K,getContainerProps:b,getButtonProps:f}},Ae=({className:t,headerProps:e,labelProps:n,controlProps:r,prevProps:g,nextProps:y,monthProps:D,...l})=>{var f,h,i,_,M,J,c,s,a,u,o,C;const{year:H,locale:k,yearFormat:d,styles:m}=mt(),{rangeMonths:E,getContainerProps:p,getButtonProps:v}=Ie(),{component:W,...K}=D??{},w=l.w??l.width,F=l.minW??l.minWidth,z=l.maxW??l.maxWidth,U=l.h??l.height,B=l.minH??l.minHeight,O=l.maxH??l.maxHeight,b=Rt(H,k,d);return R.jsxs(st.div,{__css:{...m.content},...vt(l),children:[R.jsx(zt,{...e,label:b,labelProps:n,controlProps:r,prevProps:g,nextProps:y}),R.jsx(st.div,{role:"grid","aria-label":b,className:Dt("ui-calendar__month-list",t),__css:{w:((f=m.content)==null?void 0:f.w)??((h=m.content)==null?void 0:h.width),minW:((i=m.content)==null?void 0:i.minW)??((_=m.content)==null?void 0:_.minWidth),maxW:((M=m.content)==null?void 0:M.maxW)??((J=m.content)==null?void 0:J.maxWidth),h:((c=m.content)==null?void 0:c.h)??((s=m.content)==null?void 0:s.height),minH:((a=m.content)==null?void 0:a.minH)??((u=m.content)==null?void 0:u.minHeight),maxH:((o=m.content)==null?void 0:o.maxH)??((C=m.content)==null?void 0:C.maxHeight),display:"grid",...m.month},...p(vt({w,minW:F,maxW:z,h:U,minH:B,maxH:O})),children:E.map(($,j)=>R.jsx(Ot,{className:"ui-calendar__month-list__button",variant:"ghost",__css:{minW:"auto",h:"auto",p:0,fontSize:void 0,fontWeight:"normal",...m.button},...v({...K,value:j}),children:W?W({month:$,year:H,index:j}):$},j))})]})},Ne=()=>{const{internalYear:t,setYear:e,setInternalYear:n,month:r,setMonth:g,setType:y,year:D,rangeYears:l,minYear:H,maxYear:k,yearRefs:d,value:m,__selectType:E}=mt(),p=Yt(m),v=S.useRef(null),W=S.useRef(null),K=S.useCallback(b=>{if(b<0){if(l[0]<=H)return;n(f=>(W.current=f,f-12))}else{const f=d.current.get(b);f!=null&&f.current&&(f.current.focus(),f.current.tabIndex=0)}},[H,l,n,d]),w=S.useCallback(b=>{if(11<b){if(k<=l[l.length-1])return;n(f=>(W.current=f,f+12))}else{const f=d.current.get(b);f!=null&&f.current&&(f.current.focus(),f.current.tabIndex=0)}},[k,l,n,d]),F=S.useCallback(b=>{const f=Vt(d)??0,i={ArrowDown:()=>f+4<=11?w(f+4):{},ArrowUp:()=>f-4>=0?K(f-4):{},ArrowLeft:()=>K(f-1),ArrowRight:()=>w(f+1),Home:()=>K(0),End:()=>w(11)}[b.key];i&&(b.preventDefault(),b.stopPropagation(),Kt(d),i(b))},[w,K,d]),z=S.useCallback((b,f)=>{b.preventDefault(),b.stopPropagation(),!Bt(b.target)&&(e(f),g(h=>new Date(h.setFullYear(f))),y("month",f,r.getMonth()))},[r,g,y,e]),U=S.useCallback(b=>{var f;return E==="date"||E==="month"?D===b:(p?(f=m[0])==null?void 0:f.getFullYear():m==null?void 0:m.getFullYear())===b},[E,p,m,D]);xt(()=>{typeof W.current=="number"&&(Ht(d,()=>!1,W.current<t),W.current=null)},[t]),Tt(()=>{d.current.clear()});const B=S.useCallback((b={},f=null)=>({ref:Ft(f,v),...b,onKeyDown:yt(F,b.onKeyDown)}),[F]),O=S.useCallback(({value:b,index:f,...h},i=null)=>{const _=typeof W.current=="number",M=U(b),J=b<H||b>k;d.current.set(f,S.createRef());let c=-1;return _?c=-1:(!l.includes(D)&&l[0]===b||M)&&(c=0),{isDisabled:J,ref:Ft(i,d.current.get(f)),...h,tabIndex:c,"aria-selected":Mt(M),"data-selected":nt(M),"data-value":b??"","data-disabled":nt(J),"aria-disabled":Mt(J),onClick:yt(h.onClick,s=>z(s,b))}},[U,H,k,d,l,D,z]);return{rangeYears:l,getContainerProps:B,getButtonProps:O}},Le=({className:t,headerProps:e,labelProps:n,controlProps:r,prevProps:g,nextProps:y,yearProps:D,...l})=>{var f,h,i,_,M,J,c,s,a,u,o,C;const{locale:H,yearFormat:k,styles:d}=mt(),{rangeYears:m,getContainerProps:E,getButtonProps:p}=Ne(),{component:v,...W}=D??{},K=l.w??l.width,w=l.minW??l.minWidth,F=l.maxW??l.maxWidth,z=l.h??l.height,U=l.minH??l.minHeight,B=l.maxH??l.maxHeight,O=Rt(m[0],H,k),b=Rt(m[m.length-1],H,k);return R.jsxs(st.div,{__css:{...d.content},...vt(l),children:[R.jsx(zt,{...e,label:`${O} - ${b}`,labelProps:n,controlProps:r,prevProps:g,nextProps:y}),R.jsx(st.div,{role:"grid","aria-label":`From ${O} to ${b}`,className:Dt("ui-calendar__year-list",t),__css:{w:((f=d.content)==null?void 0:f.w)??((h=d.content)==null?void 0:h.width),minW:((i=d.content)==null?void 0:i.minW)??((_=d.content)==null?void 0:_.minWidth),maxW:((M=d.content)==null?void 0:M.maxW)??((J=d.content)==null?void 0:J.maxWidth),h:((c=d.content)==null?void 0:c.h)??((s=d.content)==null?void 0:s.height),minH:((a=d.content)==null?void 0:a.minH)??((u=d.content)==null?void 0:u.minHeight),maxH:((o=d.content)==null?void 0:o.maxH)??((C=d.content)==null?void 0:C.maxHeight),display:"grid",...d.year},...E(vt({w:K,minW:w,maxW:F,h:z,minH:U,maxH:B})),children:m.map(($,j)=>R.jsx(Ot,{className:"ui-calendar__year-list__button",variant:"ghost",__css:{minW:"auto",h:"auto",p:0,fontSize:void 0,fontWeight:"normal",...d.button},...p({...W,value:$,index:j}),children:v?v({year:$,index:j}):Rt($,H,k)},j))})]})},Be=S.forwardRef((t,e)=>{const[n,r]=me("Calendar",t),{className:g,value:y,defaultValue:D,onChange:l,headerProps:H,tableProps:k,labelProps:d,controlProps:m,prevProps:E,nextProps:p,yearProps:v,monthProps:W,weekdayProps:K,dayProps:w,...F}=fe(r),{type:z,getContainerProps:U,...B}=Se({value:y,defaultValue:D,onChange:l,...F}),O={display:"flex",flexWrap:"wrap",alignItems:"flex-start",...n.container},b=F.w??F.width,f=F.minW??F.minWidth,h=F.maxW??F.maxWidth,i=F.h??F.height,_=F.minH??F.minHeight,M=F.maxH??F.maxHeight;return R.jsx(Ce,{value:{type:z,styles:n,...B},children:R.jsxs(st.div,{className:Dt("ui-calendar",g),__css:O,...U({},e),children:[z==="year"?R.jsx(Le,{headerProps:H,labelProps:d,controlProps:m,prevProps:E,nextProps:p,yearProps:v,w:b,minW:f,maxW:h,h:i,minH:_,maxH:M}):null,z==="month"?R.jsx(Ae,{headerProps:H,labelProps:d,controlProps:m,prevProps:E,nextProps:p,monthProps:W,w:b,minW:f,maxW:h,h:i,minH:_,maxH:M}):null,z==="date"?R.jsx(Pe,{headerProps:H,tableProps:k,labelProps:d,controlProps:m,prevProps:E,nextProps:p,weekdayProps:K,dayProps:w,w:b,minW:f,maxW:h,h:i,minH:_,maxH:M}):null]})})});Be.displayName="Calendar";export{Be as C,Xt as a,it as b,L as d,Ut as i,ge as r};
