import{j as r}from"./jsx-runtime-CfatFE5O.js";import{u as Pe}from"./index-DcJSUYRC.js";import{u as m}from"./index-B4UZJbBZ.js";import{u as we}from"./index-D0QjGqiR.js";import{u as ye}from"./index-C6P-3PHl.js";import{r as o}from"./index-ClcD9ViR.js";import{A as Ce}from"./index-BkD6i14w.js";import{P as Oe}from"./portal-DBnEVTNa.js";import{s as d}from"./slide-fade-BhjlDBiO.js";import{s as Te}from"./scale-fade-13h1cMen.js";import{m as ke}from"./forward-ref-2BKBy0Yi.js";import{u as De}from"./use-component-style-D7fUVUlo.js";import{o as Ee}from"./theme-provider-Dit74geM.js";import{E as R,a as je,h as u,F as I,b as _,c as Fe}from"./factory-Bqmz9C5P.js";import{m as Re}from"./factory-Cbq3E2qU.js";const Ie=(f="scale",x)=>{const i={duration:x,enter:{visibility:"visible"},reverse:!0,transitionEnd:{exit:{visibility:"hidden"}}};switch(f){case"scale":return{...Te,custom:{...i,scale:.95}};case"top":return{...d,custom:{...i,offsetY:-16}};case"right":return{...d,custom:{...i,offsetX:16}};case"left":return{...d,custom:{...i,offsetX:-16}};case"bottom":return{...d,custom:{...i,offsetY:16}}}},z=ke(({withPortal:f=!0,z:x,zIndex:i,portalProps:N,...W},A)=>{let[{z:S,zIndex:B,...L},X]=De("Tooltip",W);const{className:Y,animation:b,boundary:K,children:g,closeDelay:P=0,closeOnClick:w,closeOnEsc:M=!0,closeOnMouseDown:Z=!1,closeOnPointerDown:q=!1,closeOnScroll:G,defaultIsOpen:H,defaultOpen:J=H,isDisabled:Q,disabled:y=Q,duration:U,eventListeners:V,flip:$,gutter:ee,isOpen:oe,label:h,matchWidth:te,modifiers:ne,offset:re,open:se=oe,openDelay:C=0,placement:ie,preventOverflow:ce,strategy:le,onClose:ae,onOpen:ue,...pe}=Ee(X),O=o.useId(),{open:t,onClose:T,onOpen:k}=Pe({defaultOpen:J,open:se,onClose:ae,onOpen:ue}),s=o.useRef(null),c=o.useRef(),l=o.useRef(),{referenceRef:D,transformOrigin:me,getPopperProps:de}=ye({boundary:K,enabled:t,eventListeners:V,flip:$,gutter:ee,matchWidth:te,modifiers:ne,offset:re,placement:ie,preventOverflow:ce,strategy:le}),E=q||Z,a=o.useCallback(()=>{l.current&&(clearTimeout(l.current),l.current=void 0),T()},[T]),p=o.useCallback(()=>{if(!y&&!c.current){t&&a();const e=R(s.current);c.current=e.setTimeout(k,C)}},[y,t,C,a,k]),n=o.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=void 0);const e=R(s.current);l.current=e.setTimeout(a,P)},[P,a]),j=o.useCallback(()=>t&&w?n():void 0,[t,w,n]),F=o.useCallback(()=>t&&E?n():void 0,[t,E,n]),fe=o.useCallback(e=>t&&e.key==="Escape"?n():void 0,[t,n]),xe=o.useCallback((e={},ge=null)=>({...e,ref:je(s,ge,D),onBlur:u(e.onBlur,n),onClick:u(e.onClick,j),onFocus:u(e.onFocus,p),onPointerDown:u(e.onPointerDown,F),onPointerEnter:u(e.onPointerEnter,p)}),[D,j,F,p,n]);if(m(()=>I(s.current),"keydown",e=>M?fe(e):void 0),m(()=>I(s.current),"scroll",()=>t&&G?a():void 0),m(()=>s.current,"pointerleave",e=>{e.pointerType!=="touch"&&n()}),m(()=>s.current,"touchstart",()=>{t?n():p()},{passive:!0}),we({ref:s,handler:()=>{n()}}),o.useEffect(()=>()=>{clearTimeout(c.current),clearTimeout(l.current)},[]),!h)return r.jsx(r.Fragment,{children:g});const v=o.Children.only(g),he=o.cloneElement(v,xe({...v.props,"aria-describedby":O},v.ref)),ve={position:"relative",...L},be=i??x??B??S;return r.jsxs(r.Fragment,{children:[he,r.jsx(_.span,{id:O,style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute",whiteSpace:"nowrap",width:"1px"},children:h}),r.jsx(Ce,{children:t?r.jsx(Oe,{disabled:!f,...N,children:r.jsx(_.div,{...de(),pointerEvents:"none",zIndex:be,children:r.jsx(Re.div,{ref:A,className:Fe("ui-tooltip",Y),style:{transformOrigin:me},role:"tooltip",...b!=="none"?Ie(b,U):{},animate:"enter",exit:"exit",initial:"exit",__css:ve,...pe,children:h})})}):null})]})});z.displayName="Tooltip";z.__ui__="Tooltip";export{z as T};
