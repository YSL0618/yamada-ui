import{j as e}from"./jsx-runtime-CfatFE5O.js";import{a as S,d as E}from"./index-DTJiSQyB.js";import{b,c as N,l as y,I,ak as M,al as g}from"./factory-Dfrbb1EY.js";import{I as C}from"./i18n-provider-BEOsEj1w.js";import{e as k,R as L,G as R}from"./theme-provider-DSx3k1bh.js";import{r as x}from"./index-ClcD9ViR.js";import{M as P,u as T,l as U,e as z}from"./proxy-Bq47Fk52.js";import{L as A}from"./loading-provider-C58sem2v.js";import{u as G}from"./index-D7KS8MXr.js";import{n as h}from"./notice-DqMOeslb.js";import{A as H}from"./index-r0TXmcNt.js";import{P as K}from"./portal-ZwKcqPm6.js";import{m as O}from"./memo-CTsy6qLS.js";import{m as W}from"./factory-Dgu6MzDY.js";function F({children:o,isValidProp:r,...t}){r&&U(r),t={...x.useContext(P),...t},t.isStatic=T(()=>t.isStatic);const s=x.useMemo(()=>t,[JSON.stringify(t.transition),t.transformPagePoint,t.reducedMotion]);return e.jsx(P.Provider,{value:s,children:o})}const J=({appendToParentPortal:o,containerRef:r,gap:t="fallback(4, 1rem)",variants:s,itemProps:a,listProps:m})=>{const d=x.useSyncExternalStore(h.subscribe,h.getSnapshot,h.getSnapshot),l=Object.entries(d).map(([i,u])=>{const c=i.includes("top")?"env(safe-area-inset-top, 0px)":void 0,n=i.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,v=i.includes("left")?void 0:"env(safe-area-inset-right, 0px)",_=i.includes("right")?void 0:"env(safe-area-inset-left, 0px)",f={bottom:n,display:"flex",flexDirection:"column",gap:t,left:_,margin:t,pointerEvents:"none",position:"fixed",right:v,top:c,zIndex:"fallback(zarbon, 160)"};return e.jsx(b.ul,{className:N("ui-notice__list",`ui-notice__list--${i}`),__css:f,...m,children:e.jsx(H,{initial:!1,children:u.map(p=>e.jsx(j,{variants:s,itemProps:a,...p},p.id))})},i)});return e.jsx(K,{appendToParentPortal:o,containerRef:r,children:l})},V={animate:{opacity:1,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]},x:0,y:0},exit:{opacity:0,scale:.95,transition:{duration:.2,ease:[.4,0,1,1]}},initial:({placement:o})=>({[["bottom","top"].includes(o)?"y":"x"]:(o==="bottom"||o.includes("right")?1:-1)*24,opacity:0})},j=O(({style:o,duration:r=5e3,isDelete:t=!1,message:s,placement:a,variants:m=V,itemProps:d,onCloseComplete:l,onDelete:i})=>{const[u,c]=x.useState(r),n=z();y(()=>{n||l==null||l()},[n]),y(()=>{c(r)},[r]);const v=()=>c(null),_=()=>c(r),f=()=>{n&&i()};x.useEffect(()=>{n&&t&&i()},[n,t,i]),G(f,u);const p={maxW:"36rem",minW:"20rem",pointerEvents:"auto",...o};return e.jsx(W.li,{className:"ui-notice__list__item",style:{display:"flex",justifyContent:a.includes("left")?"flex-start":a.includes("right")?"flex-end":"center"},animate:"animate",custom:{placement:a},exit:"exit",initial:"initial",layout:!0,variants:m,onHoverEnd:_,onHoverStart:v,...d,children:e.jsx(b.div,{className:"ui-notice__list__item__inner",__css:p,children:I(s,{onClose:f})})})});j.displayName="NoticeComponent";j.__ui__="NoticeComponent";const rt=({children:o,colorModeManager:r,colorModeStorageKey:t,config:s=S,disableEnvironment:a,disableGlobalStyle:m,disableResetStyle:d,environment:l,theme:i=E,themeSchemeManager:u,themeSchemeStorageKey:c})=>{var n;return e.jsx(M,{disabled:a,environment:l,children:e.jsx(C,{direction:s.direction,locale:s.locale,children:e.jsx(k,{config:s,storageKey:c,theme:i,themeSchemeManager:u,children:e.jsx(g,{colorModeManager:r,config:s,storageKey:t,children:e.jsx(F,{...(n=s.motion)==null?void 0:n.config,children:e.jsxs(A,{...s.loading,children:[d?null:e.jsx(L,{}),m?null:e.jsx(R,{}),o,e.jsx(J,{...s.notice})]})})})})})})};export{rt as U};
