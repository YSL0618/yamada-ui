import{j as r}from"./extends-CwFRzn3r.js";import{u as ue}from"./index-B235ufy_.js";import{u as m}from"./index-DX1ItL2L.js";import{u as pe}from"./index-DqLTqNdm.js";import{u as me}from"./index-D5XgxADb.js";import{r as o}from"./index-BwDkhjyp.js";import{A as de,m as fe}from"./factory-B9-LT_yD.js";import{P as xe}from"./portal-CQMr5Yur.js";import{s as d}from"./slide-fade-BgUViYAp.js";import{s as he}from"./scale-fade-DE9-Gd5d.js";import{m as Pe}from"./forward-ref-scR1bmHx.js";import{u as be}from"./use-component-style-D0DGb12b.js";import{o as ge}from"./theme-provider-Bw55Thfs.js";import{y as R,a as ve,h as u,z as F,b as z,c as Oe}from"./factory-DfCPDZht.js";const we=(f="scale",x)=>{const i={reverse:!0,duration:x,enter:{visibility:"visible"},transitionEnd:{exit:{visibility:"hidden"}}};switch(f){case"scale":return{...he,custom:{...i,scale:.95}};case"top":return{...d,custom:{...i,offsetY:-16}};case"right":return{...d,custom:{...i,offsetX:16}};case"left":return{...d,custom:{...i,offsetX:-16}};case"bottom":return{...d,custom:{...i,offsetY:16}}}},We=Pe(({z:f,zIndex:x,portalProps:i,withPortal:A=!0,...N},S)=>{let[{z:W,zIndex:B,...X},Y]=be("Tooltip",N);const{className:_,children:b,label:h,placement:K,modifiers:L,gutter:M,offset:Z,openDelay:g=0,closeDelay:v=0,isDisabled:O,closeOnClick:w,closeOnScroll:q,closeOnMouseDown:G=!1,closeOnPointerDown:H=!1,closeOnEsc:J=!0,animation:C,duration:Q,isOpen:U,defaultIsOpen:V,onOpen:$,onClose:ee,...oe}=ge(Y),y=H||G,D=o.useId(),{isOpen:t,onOpen:T,onClose:k}=ue({isOpen:U,defaultIsOpen:V,onOpen:$,onClose:ee}),s=o.useRef(null),c=o.useRef(),l=o.useRef(),{referenceRef:E,getPopperProps:te,transformOrigin:ne}=me({enabled:t,placement:K,modifiers:L,gutter:M,offset:Z}),a=o.useCallback(()=>{l.current&&(clearTimeout(l.current),l.current=void 0),k()},[k]),p=o.useCallback(()=>{if(!O&&!c.current){t&&a();const e=R(s.current);c.current=e.setTimeout(T,g)}},[O,t,g,a,T]),n=o.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=void 0);const e=R(s.current);l.current=e.setTimeout(a,v)},[v,a]),j=o.useCallback(()=>t&&w?n():void 0,[t,w,n]),I=o.useCallback(()=>t&&y?n():void 0,[t,y,n]),re=o.useCallback(e=>t&&e.key==="Escape"?n():void 0,[t,n]),se=o.useCallback((e={},ae=null)=>({...e,ref:ve(s,ae,E),onPointerEnter:u(e.onPointerEnter,p),onClick:u(e.onClick,j),onPointerDown:u(e.onPointerDown,I),onFocus:u(e.onFocus,p),onBlur:u(e.onBlur,n)}),[E,j,I,p,n]);if(m(()=>F(s.current),"keydown",e=>J?re(e):void 0),m(()=>F(s.current),"scroll",()=>t&&q?a():void 0),m(()=>s.current,"pointerleave",e=>{e.pointerType!=="touch"&&n()}),m(()=>s.current,"touchstart",()=>{t?n():p()},{passive:!0}),pe({ref:s,handler:()=>{n()}}),o.useEffect(()=>()=>{clearTimeout(c.current),clearTimeout(l.current)},[]),!h)return r.jsx(r.Fragment,{children:b});const P=o.Children.only(b),ie=o.cloneElement(P,se({...P.props,"aria-describedby":D},P.ref)),ce={position:"relative",...X},le=x??f??B??W;return r.jsxs(r.Fragment,{children:[ie,r.jsx(z.span,{id:D,style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},children:h}),r.jsx(de,{children:t?r.jsx(xe,{isDisabled:!A,...i,children:r.jsx(z.div,{...te(),zIndex:le,pointerEvents:"none",children:r.jsx(fe.div,{ref:S,className:Oe("ui-tooltip",_),role:"tooltip",style:{transformOrigin:ne},...C!=="none"?we(C,Q):{},initial:"exit",animate:t?"enter":"exit",exit:"exit",__css:ce,...oe,children:h})})}):null})]})});export{We as T};
