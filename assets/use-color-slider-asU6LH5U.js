import{u as fe}from"./index-BJROMb8v.js";import{u as de,a as pe,b as be}from"./index-P_C2szIQ.js";import{r}from"./index-BwDkhjyp.js";import{u as ge,f as ve}from"./form-control-aTmtpG9F.js";import{U as Ce,k as G,f as he,a as I,d as Pe,h as D}from"./factory-BFmlPmGv.js";import{r as J,c as F,v as Se,p as ye}from"./number-CcP_arM8.js";const Fe=({focusThumbOnChange:d=!0,...V})=>{d||(V.isReadOnly=!0);const{id:E,name:A,value:Q,defaultValue:W,min:s=0,max:l,step:B=1,onChange:Y,onChangeStart:Z,onChangeEnd:_,thumbColor:T,style:U,...ee}=ge(V),[{"aria-readonly":b,required:$,disabled:h,readOnly:P,onFocus:K,onBlur:z,...u},L]=Ce(ee,ve),te=G(Z),S=G(_),[ne,y]=fe({value:Q,defaultValue:W??s+(l-s)/2,onChange:Y}),a=F(ne,s,l),N=Se(a,s,l),[j,q]=r.useState(!1),w=!(h||P),m=B||(l-s)/100,k=(l-s)/10,H=r.useRef(null),x=r.useRef(null),R=r.useRef(null),o=de({value:a,min:s,max:l,step:B,isInteractive:w,eventSource:null,focusThumbOnChange:d}),g=pe(R),oe=r.useCallback(e=>{var X;if(!x.current)return;const{min:t,max:n,step:c}=o.current;o.current.eventSource="pointer";const{left:f,width:ue}=x.current.getBoundingClientRect(),{clientX:ie}=((X=e.touches)==null?void 0:X[0])??e;let me=(ie-f)/ue,p=ye(me,t,n);return c&&(p=parseFloat(J(p,t,c))),p=F(p,t,n),p},[o]),M=e=>{const{value:t}=o.current,n=oe(e);n!=null&&n!==t&&y(n)},re=r.useCallback(()=>{const{focusThumbOnChange:e}=o.current;e&&setTimeout(()=>{var t;return(t=R.current)==null?void 0:t.focus()})},[o]),i=r.useCallback(e=>{const{isInteractive:t,min:n,max:c}=o.current;t&&(e=parseFloat(J(e,n,m)),e=F(e,n,c),y(e))},[y,o,m]),v=r.useCallback((e=m)=>i(a+e),[i,a,m]),C=r.useCallback((e=m)=>i(a-e),[i,a,m]),O=r.useCallback(e=>{const{min:t,max:n}=o.current,f={ArrowRight:()=>v(),ArrowUp:()=>v(),ArrowLeft:()=>C(),ArrowDown:()=>C(),PageUp:()=>v(k),PageDown:()=>C(k),Home:()=>i(t),End:()=>i(n)}[e.key];f&&(e.preventDefault(),e.stopPropagation(),f(e),o.current.eventSource="keyboard")},[i,o,C,v,k]);be(H,{onSessionStart:e=>{const{isInteractive:t,value:n}=o.current;t&&(q(!0),re(),M(e),te(n))},onSessionEnd:()=>{const{isInteractive:e,value:t}=o.current;e&&(q(!1),S(t))},onMove:e=>{const{isInteractive:t}=o.current;t&&M(e)}}),he(()=>{const{eventSource:e,value:t}=o.current;e==="keyboard"&&S(t)},[a,S]);const ae=r.useCallback((e={},t=null)=>{const{width:n}=g??{width:0},c={...e.style,...U,paddingInline:`${n/2}px`};return{...e,...u,...L,ref:I(t,H),tabIndex:-1,style:c}},[L,u,U,g]),se=r.useCallback((e={},t=null)=>({...u,"aria-readonly":b,...e,id:E,ref:t,type:"hidden",name:A,value:a,required:$,disabled:h,readOnly:P}),[b,h,u,E,A,P,$,a]),ce=r.useCallback((e={},t=null)=>({...u,...e,ref:I(t,x)}),[u]),le=r.useCallback((e={},t=null)=>{const n=N,{width:c}=g??{width:0},f={...e.style,position:"absolute",userSelect:"none",touchAction:"none",left:`calc(${n}% - ${c/2}px)`};return{"aria-label":"Slider thumb",bg:T??`hsl(${a}, 100%, 50%)`,...u,"aria-readonly":b,...e,ref:I(t,R),tabIndex:w&&d?0:void 0,role:"slider","aria-valuenow":a,"aria-valuemin":s,"aria-valuemax":l,"data-active":Pe(j&&d),onKeyDown:D(e.onKeyDown,O),onFocus:D(e.onFocus,K),onBlur:D(e.onBlur,z),style:f}},[N,g,T,a,u,b,w,d,s,l,j,O,K,z]);return{value:a,getContainerProps:ae,getTrackProps:ce,getInputProps:se,getThumbProps:le}};export{Fe as u};
