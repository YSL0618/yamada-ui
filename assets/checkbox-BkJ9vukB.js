import{j as t}from"./jsx-runtime-CfatFE5O.js";import{t as ie}from"./index-DOxqo9Dt.js";import{r as o}from"./index-ClcD9ViR.js";import{p as le,a0 as ue,b as j,c as de,Z as he,k as V,u as G,f as pe,a as ee,d as x,h as r}from"./factory-CehSyZ2b.js";import{e as fe,c as ke,f as me}from"./form-control-DPI4oJtA.js";import{A as xe}from"./index-r0TXmcNt.js";import{a as Ce}from"./use-component-style-PhZ538dD.js";import{o as be}from"./theme-provider-BOnS9RWG.js";import{m as T}from"./factory-C8sDf1Q7.js";const[Ee,ye]=le({name:"CheckboxGroupContext",strict:!1}),ve=({id:n,...R})=>{const y=o.useId();n??(n=y);const{id:w,name:i,defaultIsChecked:k,isChecked:h,isIndeterminate:l,selectOnEnter:F,tabIndex:E,value:S,onChange:v,...M}=ke({id:n,...R}),[{"aria-readonly":A,disabled:p,readOnly:_,required:N,onBlur:O,onFocus:f,...u},q]=he(M,me),[C,I]=o.useState(!1),[b,g]=o.useState(!1),[P,B]=o.useState(!1),[D,m]=o.useState(!1),s=o.useRef(null),[L,se]=o.useState(!0),[te,K]=o.useState(!!k),U=h!==void 0,a=U?h:te,Z=V(e=>{if(_||p){e.preventDefault();return}U||K(!a||l?!0:e.target.checked),v==null||v(e)},[_,p,U,a,l]),z=V(f),J=V(O),Q=o.useCallback(({key:e})=>{var d;e===" "&&m(!0),F&&e==="Enter"&&((d=s.current)==null||d.click())},[m,F]),Y=o.useCallback(({key:e})=>{e===" "&&m(!1)},[m]);o.useEffect(()=>ie(I),[]),G(()=>{s.current&&(s.current.indeterminate=!!l)},[l]),pe(()=>{p&&g(!1)},[p,g]),G(()=>{var e;(e=s.current)!=null&&e.form&&(s.current.form.onreset=()=>K(!!k))},[]),G(()=>{s.current&&s.current.checked!==a&&K(s.current.checked)},[s.current]);const ne=o.useCallback((e={},d=null)=>({...u,...e,ref:ee(d,c=>{c&&se(c.tagName==="LABEL")}),"data-checked":x(a),onClick:r(e.onClick,()=>{var c;L||((c=s.current)==null||c.click(),requestAnimationFrame(()=>{var $;return($=s.current)==null?void 0:$.focus()}))})}),[a,L,u]),ae=o.useCallback((e={},d=null)=>({...u,...e,ref:d,"aria-hidden":!0,"data-active":x(D),"data-checked":x(a),"data-focus":x(b),"data-focus-visible":x(b&&C),"data-hover":x(P),"data-indeterminate":x(l),onMouseDown:r(e.onMouseDown,c=>{b&&c.preventDefault(),m(!0)}),onMouseEnter:r(e.onMouseEnter,()=>B(!0)),onMouseLeave:r(e.onMouseLeave,()=>B(!1)),onMouseUp:r(e.onMouseUp,()=>m(!1))}),[D,a,b,P,C,l,u]),ce=o.useCallback((e={},d=null)=>({...u,...e,id:n,ref:ee(s,d),type:"checkbox",name:i,style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute",whiteSpace:"nowrap",width:"1px"},"aria-checked":l?"mixed":a,checked:a,disabled:p,readOnly:_,required:N,tabIndex:E,value:S,onBlur:r(e.onBlur,J,()=>g(!1)),onChange:r(e.onChange,Z),onFocus:r(e.onFocus,z,()=>g(!0)),onKeyDown:r(e.onKeyDown,Q),onKeyUp:r(e.onKeyUp,Y)}),[l,u,n,i,S,E,N,p,_,a,Z,J,z,Q,Y]),re=o.useCallback((e={},d=null)=>({...u,...e,ref:d,"data-checked":x(a),onMouseDown:r(e.onMouseDown,c=>{c.preventDefault(),c.stopPropagation()}),onTouchStart:r(e.onTouchStart,c=>{c.preventDefault(),c.stopPropagation()})}),[a,u]);return{isActive:D,isChecked:a,isFocused:b,isFocusVisible:C,isHovered:P,isIndeterminate:l,props:q,getContainerProps:ne,getIconProps:ae,getInputProps:ce,getLabelProps:re}},oe=o.forwardRef((n,R)=>{const y=ye(),{value:w,...i}={...y},k=fe(n),[h,l]=Ce("Checkbox",{...i,...n}),{className:F,children:E,gap:S="0.5rem",isDisabled:v=i.isDisabled??k.isDisabled,isInvalid:M=i.isInvalid??k.isInvalid,isReadOnly:A=i.isReadOnly??k.isReadOnly,isRequired:p=i.isRequired??k.isRequired,iconProps:_,inputProps:N,labelProps:O,...f}=be(l),u=w&&f.value?w.includes(f.value):f.isChecked,q=i.onChange&&f.value?ue(i.onChange,f.onChange):f.onChange,{isChecked:C,isIndeterminate:I,props:b,getContainerProps:g,getIconProps:P,getInputProps:B,getLabelProps:D}=ve({...f,isChecked:u,isDisabled:v,isInvalid:M,isReadOnly:A,isRequired:p,onChange:q}),{children:m,...s}={..._},L=o.cloneElement(m??t.jsx(X,{}),{isChecked:C,isDisabled:v,isIndeterminate:I,isInvalid:M,isReadOnly:A,isRequired:p,__css:{opacity:C||I?1:0,transform:C||I?"scale(1)":"scale(0.95)",transitionDuration:"normal",transitionProperty:"transform"}});return t.jsxs(j.label,{className:de("ui-checkbox",F),...g(),__css:{alignItems:"center",cursor:"pointer",display:"inline-flex",gap:S,position:"relative",verticalAlign:"top",...h.container},...b,children:[t.jsx(j.input,{className:"ui-checkbox__input",...B(N,R)}),t.jsx(j.div,{className:"ui-checkbox__icon",__css:{display:"inline-block",pointerEvents:A?"none":void 0,position:"relative",userSelect:"none",...h.icon},...P(s),children:L}),t.jsx(j.span,{className:"ui-checkbox__label",__css:{...h.label},...D(O),children:E})]})});oe.displayName="Checkbox";oe.__ui__="Checkbox";const X=({isChecked:n,isDisabled:R,isIndeterminate:y,isInvalid:w,isReadOnly:i,isRequired:k,...h})=>t.jsx(xe,{initial:!1,children:y||n?t.jsx(j.div,{__css:{left:"50%",position:"absolute",top:"50%",transform:"translate(-50%, -50%)"},children:t.jsx(T.div,{style:{alignItems:"center",display:"flex",justifyContent:"center"},animate:"checked",exit:"unchecked",initial:"unchecked",variants:{checked:{scale:1},unchecked:{scale:.5}},children:y?t.jsx(W,{...h}):t.jsx(H,{...h})})}):null});X.displayName="CheckboxIcon";X.__ui__="CheckboxIcon";const H=n=>t.jsx(T.svg,{style:{fill:"none",stroke:"currentColor",strokeDasharray:16,strokeWidth:2},variants:{checked:{opacity:1,strokeDashoffset:0,transition:{duration:.2}},unchecked:{opacity:0,strokeDashoffset:16}},viewBox:"0 0 12 10",width:"1.2em",...n,children:t.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})});H.displayName="CheckboxCheckIcon";H.__ui__="CheckboxCheckIcon";const W=n=>t.jsx(T.svg,{style:{stroke:"currentColor",strokeWidth:4},variants:{checked:{opacity:1,scaleX:1,transition:{opacity:{duration:.02},scaleX:{duration:0}}},unchecked:{opacity:0,scaleX:.65}},viewBox:"0 0 24 24",width:"1.2em",...n,children:t.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})});W.displayName="CheckboxIndeterminateIcon";W.__ui__="CheckboxIndeterminateIcon";export{oe as C,Ee as a,ve as u};
