import{j as d}from"./jsx-runtime-CfatFE5O.js";import{r as M}from"./index-ClcD9ViR.js";import{A as D,g as es,B as L,b as C,c as h,d as m,C as F,h as V}from"./factory-Nur_zO5a.js";import{f as x}from"./forward-ref-D13m8o2p.js";import{a as as}from"./use-component-style-DXYrx7jC.js";import{o as rs}from"./theme-provider-BsBO7Bt7.js";const[is,g]=D({name:"FormControlContext",strict:!1}),[ls,N]=D({name:"FormControlStyleContext",strict:!1}),w=x(({id:r,...a},l)=>{const[o,t]=as("FormControl",a);let{className:n,children:u,disabled:i,errorMessage:c,helperMessage:_,invalid:s,isDisabled:p=!1,isInvalid:e=!1,isReadOnly:v=!1,isReplace:f=!0,isRequired:y=!1,label:b,optionalIndicator:E,readOnly:P,replace:O,required:B,requiredIndicator:k,errorMessageProps:T,helperMessageProps:z,labelProps:G,...J}=rs(t);const K=M.useId(),Q=M.useId();r??(r=K),i??(i=p),s??(s=e),P??(P=v),O??(O=f),B??(B=y);const[S,A]=M.useState(!1),H=es(u),U=L(H,j),W=L(H,I),X=L(H,R),Y=!!U,Z=!!W,$=!!X,ss={...o.container};return d.jsx(is,{value:{id:r,disabled:i,focused:S,invalid:s,labelId:Q,readOnly:P,replace:O,required:B,onBlur:()=>A(!1),onFocus:()=>A(!0)},children:d.jsx(ls,{value:o,children:d.jsxs(C.div,{ref:l,className:h("ui-form__control",n),"data-disabled":m(i),"data-focus":m(S),"data-invalid":m(s),"data-readonly":m(P),__css:ss,...J,children:[!Y&&b?d.jsx(j,{optionalIndicator:E,requiredIndicator:k,...G,children:b}):null,u,!Z&&_?d.jsx(I,{...z,children:_}):null,!$&&c?d.jsx(R,{...T,children:c}):null]})})})});w.displayName="FormControl";w.__ui__="FormControl";const ms=({id:r,disabled:a,invalid:l,isDisabled:o,isInvalid:t,isReadOnly:n,isRequired:u,readOnly:i,required:c,..._})=>{const s=g(),p=r??(s==null?void 0:s.id),e=s==null?void 0:s.labelId,v=a??o??(s==null?void 0:s.disabled),f=i??n??(s==null?void 0:s.readOnly),y=c??u??(s==null?void 0:s.required),b=l??t??(s==null?void 0:s.invalid);return{id:p,disabled:v,invalid:b,isDisabled:v,isInvalid:b,isReadOnly:f,isRequired:y,labelId:e,readOnly:f,required:y,..._}},_s=({id:r,disabled:a,invalid:l,isDisabled:o,isInvalid:t,isReadOnly:n,isRequired:u,readOnly:i,required:c,onBlur:_,onFocus:s,...p})=>{const e=g();return a??(a=o??(e==null?void 0:e.disabled)),c??(c=u??(e==null?void 0:e.required)),i??(i=n??(e==null?void 0:e.readOnly)),l??(l=t??(e==null?void 0:e.invalid)),{id:r??(e==null?void 0:e.id),"aria-disabled":F(a),"aria-invalid":F(l),"aria-readonly":F(i),"aria-required":F(c),"data-readonly":m(i),disabled:a,readOnly:i,required:c,onBlur:V(e==null?void 0:e.onBlur,_),onFocus:V(e==null?void 0:e.onFocus,s),...a||i?{_active:{},_focus:{},_focusVisible:{},_hover:{},_invalid:{}}:{},...p}},ps=["disabled","required","readOnly","aria-disabled","aria-readonly","aria-required","aria-invalid","data-readonly","onFocus","onBlur","_hover","_active","_focus","_invalid","_focusVisible"],j=x(({id:r,htmlFor:a,className:l,children:o,isRequired:t,optionalIndicator:n=null,requiredIndicator:u=null,...i},c)=>{const{id:_,disabled:s,focused:p,invalid:e,labelId:v,readOnly:f,required:y}=g()??{},b=N()??{};r??(r=v),t??(t=y);const E={display:"block",pointerEvents:f?"none":void 0,...b.label};return d.jsxs(C.label,{id:r,ref:c,htmlFor:a??_,className:h("ui-form__label",l),style:{cursor:s?"not-allowed":void 0},"data-disabled":m(s),"data-focus":m(p),"data-invalid":m(e),"data-readonly":m(f),__css:E,...i,children:[o,t?u?d.jsx(q,{children:u}):d.jsx(q,{}):n]})});j.displayName="Label";j.__ui__="Label";const q=x(({className:r,children:a,...l},o)=>{const n={...(N()??{}).requiredIndicator};return M.isValidElement(a)?a:d.jsx(C.span,{ref:o,className:h("ui-form__required-indicator",r),"aria-hidden":!0,role:"presentation",__css:n,...l,children:a??d.jsx(d.Fragment,{children:"*"})})});q.displayName="RequiredIndicator";q.__ui__="RequiredIndicator";const I=x(({className:r,...a},l)=>{const{id:o,invalid:t,replace:n}=g()??{},u=N()??{};if(n&&t)return null;const i={...u.helperMessage};return d.jsx(C.span,{ref:l,className:h("ui-form__helper-message",r),"aria-describedby":o,__css:i,...a})});I.displayName="HelperMessage";I.__ui__="HelperMessage";const R=x(({className:r,...a},l)=>{const{invalid:o}=g()??{},t=N()??{};if(!o)return null;const n={...t.errorMessage};return d.jsx(C.span,{ref:l,className:h("ui-form__error-message",r),"aria-live":"polite",__css:n,...a})});R.displayName="ErrorMessage";R.__ui__="ErrorMessage";export{R as E,is as F,I as H,j as L,q as R,ls as a,g as b,N as c,w as d,ms as e,ps as f,_s as u};
