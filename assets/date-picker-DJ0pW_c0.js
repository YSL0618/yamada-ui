import{j as s}from"./extends-CwFRzn3r.js";import{u as dt}from"./index-Br7ZWcgB.js";import{r as t}from"./index-BwDkhjyp.js";import{d as ae,i as Ge,a as Je,b as pt,C as ft}from"./calendar-x-YxfJNl.js";import{u as mt}from"./index-Dz6agydm.js";import{u as Ct}from"./index-B6ycpjcM.js";import{u as Pt}from"./index-BzBNm7Tp.js";import{u as kt,f as ht}from"./form-control-DAXawruh.js";import{u as gt,o as _t}from"./theme-provider-Bpmh2ODM.js";import{V as yt,U as bt,a7 as Dt,aj as vt,W as xt,a as oe,h as Y,d as It,o as jt,f as Qe,ak as Ot,b as K,c as L,z as wt,p as Ft,j as Vt}from"./factory-BgMvz7NM.js";import{P as Nt,b as Et,a as Bt}from"./popover-content-CkkufdAv.js";import{P as Rt}from"./portal-C14XFhbI.js";import{b as St,a as Tt}from"./icon-CvhI1IwG.js";import{f as ne}from"./forward-ref-BWI-Phbn.js";import{a as Mt}from"./use-component-style-D3MffxdG.js";const zt=c=>{var Ue,qe;const{theme:u}=gt();let{id:r,enableMultiple:C,enableRange:P,value:d,defaultValue:l,onChange:p,type:k,defaultType:h,onChangeType:x,month:E,defaultMonth:O,onChangeMonth:I,firstDayOfWeek:B,amountOfMonths:j,paginateBy:R,withWeekdays:M,disableOutsideDays:z,hiddenOutsideDays:H,minDate:f,maxDate:m,locale:g,yearFormat:y,monthFormat:S,weekdayFormat:T,dateFormat:a,weekendDays:n,today:b,excludeDate:_,calendarVariant:ce,calendarSize:ue,calendarColorScheme:de,holidays:pe,withHeader:fe,withControls:me,withLabel:Ce,maxSelectValues:Pe,minSelectValues:ke,__selectType:he,calendarProps:ge,allowInput:D=!0,allowInputBeyond:U=!1,parseDate:q,pattern:Ze=/[^0-9\-\/]/g,inputFormat:G="YYYY/MM/DD",autoFocus:W=!0,onClear:J,isOpen:$e,defaultIsOpen:et,onOpen:tt,onClose:at,closeOnBlur:te=!0,closeOnEsc:_e=!0,openDelay:ye,closeDelay:be,isLazy:De,lazyBehavior:ve,animation:xe,duration:Ie=.2,offset:je,gutter:Oe,preventOverflow:we,flip:Fe,matchWidth:Ve,boundary:Ne,eventListeners:Ee,strategy:Be,placement:Re="bottom-start",modifiers:Se,onEnter:Te,onDelete:Me,...w}=kt(c);r??(r=t.useId()),g??(g=((qe=(Ue=u.__config)==null?void 0:Ue.date)==null?void 0:qe.locale)??"en");const{"aria-readonly":Yt,...F}=yt(w,ht),[ze,ot]=bt(w,Dt),{disabled:Q,readOnly:X}=F,{isOpen:i,onOpen:He,onClose:V}=Ct({isOpen:$e,defaultIsOpen:et,onOpen:tt,onClose:at}),Z=t.useRef(null),A=t.useRef(null),nt=t.useCallback(e=>{let o=(q==null?void 0:q(e))??ae(e,G,g).toDate();if(o!=null&&!(_!=null&&_(o)))return U||(m&&Ge(o,m)&&(o=m),f&&Je(o,f)&&(o=f)),o},[U,_,G,g,m,f,q]),st=t.useCallback(e=>{if(e!=null&&!(_!=null&&_(e)))return U||(m&&Ge(e,m)&&(e=m),f&&Je(e,f)&&(e=f)),ae(e).locale(g??"en").format(G)},[U,_,G,g,m,f]),v=t.useCallback(()=>{var e;Q||X||(He(),W&&D&&((e=A.current)==null||e.focus()))},[W,D,Q,X,He]),We=t.useCallback(()=>{var e;i?W&&D&&((e=A.current)==null||e.focus()):v()},[W,D,i,v]),Ye=t.useCallback(()=>{i||v()},[i,v]),Ae=t.useCallback(e=>{const o=vt(e);xt(Z.current,o)||te&&i&&V()},[te,i,V]),Ke=t.useCallback(e=>{if(e.key===" "&&(e.key=e.code),Q||X)return;const $={Space:i?void 0:N=>{N.preventDefault(),N.stopPropagation(),v()},Enter:i?Te:N=>{N.preventDefault(),N.stopPropagation(),v()},Escape:_e?N=>{N.preventDefault(),N.stopPropagation(),V()}:void 0,Backspace:Me}[e.key];$&&$(e)},[_e,Q,X,i,V,Te,Me,v]),Le=t.useCallback(e=>{var o;e.stopPropagation(),J==null||J(),W&&D&&i&&((o=A.current)==null||o.focus())},[W,D,i,J]);Pt({ref:Z,handler:V,enabled:i&&te});const rt=t.useCallback((e={},o=null)=>({ref:oe(Z,o),...ze,...e,...F,onClick:Y(e.onClick,w.onClick,We),onBlur:Y(e.onBlur,w.onBlur,Ae)}),[ze,F,Ae,We,w]),it=t.useCallback(e=>({openDelay:ye,closeDelay:be,isLazy:De,lazyBehavior:ve,animation:xe,duration:Ie,offset:je,gutter:Oe,preventOverflow:we,flip:Fe,matchWidth:Ve,boundary:Ne,eventListeners:Ee,strategy:Be,placement:Re,modifiers:Se,...e,isOpen:i,onOpen:v,onClose:V,trigger:"never",closeOnButton:!1,closeOnBlur:!1}),[xe,Ne,be,Ie,Ee,Fe,Oe,De,i,ve,Ve,Se,je,V,v,ye,Re,we,Be]),lt=t.useCallback((e={},o=null)=>{const $={...e.style,...D?{}:{cursor:"pointer"}};return{ref:oe(A,o),tabIndex:D?-1:0,role:"combobox","aria-haspopup":"dialog","aria-controls":r,...e,...F,style:$,"data-active":It(i),"aria-expanded":i,onFocus:Y(e.onFocus,w.onFocus,Ye),onKeyDown:Y(e.onKeyDown,w.onKeyDown,Ke)}},[r,D,F,i,w,Ye,Ke]),ct=t.useCallback(e=>({...e,type:k,defaultType:h,onChangeType:x,month:E,defaultMonth:O,onChangeMonth:I,firstDayOfWeek:B,amountOfMonths:j,paginateBy:R,withWeekdays:M,disableOutsideDays:z,hiddenOutsideDays:H,yearFormat:y,monthFormat:S,weekdayFormat:T,dateFormat:a,weekendDays:n,today:b,holidays:pe,withHeader:fe,withControls:me,withLabel:Ce,maxSelectValues:Pe,minSelectValues:ke,variant:ce,size:ue,colorScheme:de,...ge,value:d,defaultValue:l,onChange:p,minDate:f,maxDate:m,excludeDate:_,locale:g,__selectType:he,enableMultiple:C,enableRange:P}),[H,Pe,ke,C,P,j,de,ge,ue,ce,a,O,h,l,z,_,B,pe,g,m,f,E,S,p,I,x,R,b,k,d,T,n,me,fe,Ce,M,y,he]),ut=t.useCallback(({clear:e,...o})=>({...o,...F,onClick:Y(o.onClick,e?Le:void 0)}),[F,Le]);return{id:r,allowInput:D,pattern:Ze,inputProps:ot,formControlProps:F,containerRef:Z,inputRef:A,isOpen:i,onOpen:v,onClose:V,dateToString:st,stringToDate:nt,getContainerProps:rt,getPopoverProps:it,getFieldProps:lt,getCalendarProps:ct,getIconProps:ut}},[Ht,se]=jt({strict:!1,name:"DatePickerContext"}),Wt=({value:c,defaultValue:u,onChange:r,placeholder:C,closeOnSelect:P=!0,...d})=>{const[l,p]=mt({value:c,defaultValue:u,onChange:r,onUpdate:(a,n)=>!pt(a,n)}),{inputRef:k,id:h,allowInput:x,pattern:E,inputProps:O,formControlProps:I,onClose:B,dateToString:j,stringToDate:R,getContainerProps:M,getPopoverProps:z,getFieldProps:H,getCalendarProps:f,getIconProps:m}=zt({...d,value:l,defaultValue:u,onChange:a=>{const n=j(a);p(a),y(n),P&&a&&B()},onClear:()=>{p(void 0),y(void 0)},onClose:()=>{var n;const a=j(l);y(a),(n=d.onClose)==null||n.call(d)}}),[g,y]=t.useState(j(l)),S=t.useCallback(a=>{let n=a.target.value;n=n.replace(E,"");const b=R(n);y(n),b&&ae(b).isValid()?p(b):p(void 0)},[E,R,y,p]);Qe(()=>{p(c)},[c]),Qe(()=>{if(k.current&&Ot(k.current))return;const a=j(l);y(a)},[l]);const T=t.useCallback((a={},n=null)=>{const b={...a.style,...O.style,...x?{}:{pointerEvents:"none"}};return{placeholder:C,...I,autoComplete:"off",...O,...a,ref:n,style:b,id:h,tabIndex:x?0:-1,value:g??"",cursor:I.readOnly?"default":"text",pointerEvents:I.disabled?"none":"auto",onChange:Y(a.onChange,S)}},[O,x,C,I,h,g,S]);return{id:h,value:l,onClose:B,getContainerProps:M,getPopoverProps:z,getFieldProps:H,getInputProps:T,getIconProps:m,getCalendarProps:f}},Xe=ne((c,u)=>{const[r,C]=Mt("DatePicker",c);let{className:P,children:d,isClearable:l=!0,color:p,h:k,height:h,minH:x,minHeight:E,containerProps:O,contentProps:I,fieldProps:B,inputProps:j,iconProps:R,clearIconProps:M,portalProps:z={isDisabled:!0},...H}=_t(C);const{getPopoverProps:f,getContainerProps:m,getCalendarProps:g,getFieldProps:y,getInputProps:S,getIconProps:T,onClose:a,value:n,id:b}=Wt(H);k??(k=h),x??(x=E);const _={w:"100%",h:"fit-content",color:p,...r.container};return s.jsx(Ht,{value:r,children:s.jsx(Nt,{...f(),children:s.jsxs(K.div,{className:L("ui-date-picker",P),__css:_,...m(O),children:[s.jsxs(K.div,{className:"ui-date-picker__inner",__css:{position:"relative",...r.inner},children:[s.jsx(re,{...y({h:k,minH:x,...B},u),inputProps:S(j)}),l&&n?s.jsx(le,{...T({clear:!0,...M})}):s.jsx(ee,{...T({clear:!1,...R})})]}),s.jsx(Rt,{...z,children:s.jsxs(Et,{as:"div",id:b,role:"dialog","aria-modal":"true",className:"ui-date-picker__content",__css:{...r.content},...I,children:[s.jsx(ft,{className:"ui-date-picker__calendar",...g()}),wt(d,{value:n,onClose:a})]})})]})})})});Xe.displayName="DatePicker";Xe.__ui__="DatePicker";const re=ne(({className:c,h:u,minH:r,inputProps:C,...P},d)=>{const l=se(),{ref:p,...k}=C,h={pe:"2rem",h:u,minH:r,display:"flex",alignItems:"center",...l.field};return s.jsx(Bt,{children:s.jsx(K.div,{className:L("ui-date-picker__field",c),__css:h,...P,children:s.jsx(K.input,{"aria-label":"Input date value",ref:oe(d,p),className:"ui-date-picker__field__input",display:"inline-block",w:"100%",...k})})})});re.displayName="DatePickerField";re.__ui__="DatePickerField";const ee=ne(({className:c,children:u,__css:r,...C},P)=>{const l={position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",cursor:"pointer",...se().icon,...r},k=Ft(u).map(h=>t.cloneElement(h,{focusable:!1,"aria-hidden":!0,style:{maxWidth:"1em",maxHeight:"1em",color:"currentColor"}}));return s.jsx(K.div,{ref:P,className:L("ui-date-picker__icon",c),__css:l,...C,children:Vt(u)?k:s.jsx(ie,{})})});ee.displayName="DatePickerIcon";ee.__ui__="DatePickerIcon";const ie=({className:c,...u})=>s.jsx(St,{className:L("ui-date-picker__icon__calendar",c),viewBox:"0 0 24 24",...u,children:s.jsx("path",{fill:"currentColor",d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})});ie.displayName="DatePickerCalendarIcon";ie.__ui__="DatePickerCalendarIcon";const le=({className:c,children:u,...r})=>{const C=t.useRef(null),P=se(),d=r.disabled,l=dt({ref:C,isDisabled:d,...r});return s.jsx(ee,{"aria-label":"Clear value",className:L("ui-date-picker__icon--clear",c),__css:P.clearIcon,...l,children:u??s.jsx(Tt,{w:"0.5em",h:"0.5em"})})};le.displayName="DatePickerClearIcon";le.__ui__="DatePickerClearIcon";export{Xe as D,Ht as a,re as b,le as c,ee as d,se as e,zt as u};
