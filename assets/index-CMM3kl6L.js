import{a as Q}from"./index-JkdTfK17.js";import{r as e}from"./index-BwDkhjyp.js";import{H as R,a as H,d as S}from"./factory-uBtAHRUq.js";const I=g=>{const{isContentEditable:k,tagName:f}=g.target;return f!=="INPUT"&&f!=="TEXTAREA"&&!k},$=({ref:g,clickOnEnter:k=!0,clickOnSpace:f=!0,disableTouchBehavior:C=!0,focusOnClick:x=!0,isDisabled:r,isFocusable:V,tabIndex:N,onClick:b,onKeyDown:n,onKeyUp:s,onMouseDown:c,onMouseLeave:d,onMouseOver:m,onMouseUp:i,...A}={})=>{const[a,X]=e.useState(!0),[p,l]=e.useState(!1),u=Q(),j=a?N:N||0,E=r&&!V,h=t=>{t&&t.tagName!=="BUTTON"&&X(!1)},y=e.useCallback(t=>{if(r){t.stopPropagation(),t.preventDefault();return}x&&t.currentTarget.focus(),b==null||b(t)},[r,x,b]),P=e.useCallback(t=>{p&&I(t)&&(t.preventDefault(),t.stopPropagation(),l(!1),u.remove(document,"keyup",P,!1))},[p,u]),q=e.useCallback(t=>{n==null||n(t),!(r||t.defaultPrevented||t.metaKey)&&(!I(t.nativeEvent)||a||(f&&t.key===" "&&(t.preventDefault(),l(!0)),k&&t.key==="Enter"&&(t.preventDefault(),t.currentTarget.click()),u.add(document,"keyup",P,!1)))},[r,a,n,k,f,u,P]),z=e.useCallback(t=>{s==null||s(t),!(r||t.defaultPrevented||t.metaKey)&&(!I(t.nativeEvent)||a||f&&t.key===" "&&(t.preventDefault(),l(!1),t.currentTarget.click()))},[f,a,r,s]),T=e.useCallback(t=>{t.button===0&&(l(!1),u.remove(document,"mouseup",T,!1))},[u]),B=e.useCallback(t=>{if(t.button===0){if(r){t.stopPropagation(),t.preventDefault();return}a||l(!0),t.currentTarget.focus({preventScroll:!0}),u.add(document,"mouseup",T,!1),c==null||c(t)}},[r,a,c,u,T]),F=e.useCallback(t=>{t.button===0&&(a||l(!1),i==null||i(t))},[i,a]),G=e.useCallback(t=>{if(r){t.preventDefault();return}C&&R()||m==null||m(t)},[r,m,C]),J=e.useCallback(t=>{p&&(t.preventDefault(),l(!1)),!(C&&R())&&(d==null||d(t))},[p,d,C]);return a?{...A,ref:H(g,h),type:"button","aria-disabled":E?void 0:r,disabled:E,onClick:y,onKeyDown:n,onKeyUp:s,onMouseDown:c,onMouseLeave:d,onMouseOver:m,onMouseUp:i}:{...A,ref:H(g,h),"aria-disabled":r?"true":void 0,"data-active":S(p),role:"button",tabIndex:E?void 0:j,onClick:y,onKeyDown:q,onKeyUp:z,onMouseDown:B,onMouseLeave:J,onMouseOver:G,onMouseUp:F}};export{$ as u};
