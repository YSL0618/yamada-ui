import{t as oe}from"./index-DImDLiuZ.js";import{r as t}from"./index-ClcD9ViR.js";import{u as ne,f as ae}from"./form-control-C7lyVmHF.js";import{L as se,p as y,u as D,l as re,a as H,d as c,h as s}from"./factory-Dfrbb1EY.js";const he=({id:k,...T})=>{const _=t.useId();k??(k=_);let{id:ce,name:M,checked:v,defaultChecked:x,defaultIsChecked:j,indeterminate:i,isChecked:N,isIndeterminate:p,selectOnEnter:S,tabIndex:E,value:L,onChange:P,...z}=ne({id:k,...T});v??(v=N),i??(i=p),x??(x=j);const[{"aria-readonly":ue,disabled:d,readOnly:m,required:B,onBlur:G,onFocus:J,...l},Q]=se(z,ae),[f,W]=t.useState(!1),[u,C]=t.useState(!1),[b,I]=t.useState(!1),[g,h]=t.useState(!1),a=t.useRef(null),[A,X]=t.useState(!0),[Y,F]=t.useState(!!x),w=v!==void 0,o=w?v:Y,K=y(e=>{if(m||d){e.preventDefault();return}w||F(!o||i?!0:e.target.checked),P==null||P(e)},[m,d,w,o,i]),U=y(J),R=y(G),V=t.useCallback(({key:e})=>{var r;e===" "&&h(!0),S&&e==="Enter"&&((r=a.current)==null||r.click())},[h,S]),O=t.useCallback(({key:e})=>{e===" "&&h(!1)},[h]);t.useEffect(()=>oe(W),[]),D(()=>{a.current&&(a.current.indeterminate=!!p)},[p]),re(()=>{d&&C(!1)},[d,C]),D(()=>{var e;(e=a.current)!=null&&e.form&&(a.current.form.onreset=()=>F(!!x))},[]),D(()=>{a.current&&a.current.checked!==o&&F(a.current.checked)},[a.current]);const Z=t.useCallback((e={},r=null)=>({...l,...e,ref:H(r,n=>{n&&X(n.tagName==="LABEL")}),"data-checked":c(o),"data-focus":c(u),"data-focus-visible":c(u&&f),onClick:s(e.onClick,()=>{var n;A||((n=a.current)==null||n.click(),requestAnimationFrame(()=>{var q;return(q=a.current)==null?void 0:q.focus()}))})}),[o,A,u,f,l]),$=t.useCallback((e={},r=null)=>({...l,...e,ref:r,"aria-hidden":!0,"data-active":c(g),"data-checked":c(o),"data-focus":c(u),"data-focus-visible":c(u&&f),"data-hover":c(b),"data-indeterminate":c(i),onMouseDown:s(e.onMouseDown,n=>{u&&n.preventDefault(),h(!0)}),onMouseEnter:s(e.onMouseEnter,()=>I(!0)),onMouseLeave:s(e.onMouseLeave,()=>I(!1)),onMouseUp:s(e.onMouseUp,()=>h(!1))}),[g,o,u,b,f,i,l]),ee=t.useCallback((e={},r=null)=>({...l,...e,id:k,ref:H(a,r),type:"checkbox",name:M,style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute",whiteSpace:"nowrap",width:"1px"},"aria-checked":i?"mixed":o,checked:o,disabled:d,readOnly:m,required:B,tabIndex:E,value:L,onBlur:s(e.onBlur,R,()=>C(!1)),onChange:s(e.onChange,K),onFocus:s(e.onFocus,U,()=>C(!0)),onKeyDown:s(e.onKeyDown,V),onKeyUp:s(e.onKeyUp,O)}),[i,l,k,M,L,E,B,d,m,o,K,R,U,V,O]),te=t.useCallback((e={},r=null)=>({...l,...e,ref:r,"data-checked":c(o),onMouseDown:s(e.onMouseDown,n=>{n.preventDefault(),n.stopPropagation()}),onTouchStart:s(e.onTouchStart,n=>{n.preventDefault(),n.stopPropagation()})}),[o,l]);return{active:g,checked:o,focused:u,focusVisible:f,hovered:b,indeterminate:i,isActive:g,isChecked:o,isFocused:u,isFocusVisible:f,isHovered:b,isIndeterminate:p,props:Q,getContainerProps:Z,getIconProps:$,getInputProps:ee,getLabelProps:te}};export{he as u};
