import{t as oe}from"./index-5c62fTH4.js";import{r as t}from"./index-ClcD9ViR.js";import{u as ne,f as ae}from"./form-control-DNngTyAT.js";import{L as se,q as P,u as w,n as ce,a as H,d as r,h as s}from"./factory-Bqmz9C5P.js";const he=({id:k,...T})=>{const _=t.useId();k??(k=_);const{id:re,name:y,isChecked:j,checked:D=j,defaultIsChecked:N,defaultChecked:M=N,isIndeterminate:p,indeterminate:i=p,selectOnEnter:S,tabIndex:E,value:L,onChange:g,...z}=ne({id:k,...T}),[{"aria-readonly":ue,disabled:d,readOnly:m,required:B,onBlur:G,onFocus:J,...l},Q]=se(z,ae),[f,W]=t.useState(!1),[u,b]=t.useState(!1),[C,I]=t.useState(!1),[v,h]=t.useState(!1),a=t.useRef(null),[A,X]=t.useState(!0),[Y,x]=t.useState(!!M),F=D!==void 0,o=F?D:Y,K=P(e=>{if(m||d){e.preventDefault();return}F||x(!o||i?!0:e.target.checked),g==null||g(e)},[m,d,F,o,i]),U=P(J),R=P(G),V=t.useCallback(({key:e})=>{var c;e===" "&&h(!0),S&&e==="Enter"&&((c=a.current)==null||c.click())},[h,S]),q=t.useCallback(({key:e})=>{e===" "&&h(!1)},[h]);t.useEffect(()=>oe(W),[]),w(()=>{a.current&&(a.current.indeterminate=!!p)},[p]),ce(()=>{d&&b(!1)},[d,b]),w(()=>{var e;(e=a.current)!=null&&e.form&&(a.current.form.onreset=()=>x(!!M))},[]),w(()=>{a.current&&a.current.checked!==o&&x(a.current.checked)},[a.current]);const Z=t.useCallback((e={},c=null)=>({...l,...e,ref:H(c,n=>{n&&X(n.tagName==="LABEL")}),"data-checked":r(o),"data-focus":r(u),"data-focus-visible":r(u&&f),onClick:s(e.onClick,()=>{var n;A||((n=a.current)==null||n.click(),requestAnimationFrame(()=>{var O;return(O=a.current)==null?void 0:O.focus()}))})}),[o,A,u,f,l]),$=t.useCallback((e={},c=null)=>({...l,...e,ref:c,"aria-hidden":!0,"data-active":r(v),"data-checked":r(o),"data-focus":r(u),"data-focus-visible":r(u&&f),"data-hover":r(C),"data-indeterminate":r(i),onMouseDown:s(e.onMouseDown,n=>{u&&n.preventDefault(),h(!0)}),onMouseEnter:s(e.onMouseEnter,()=>I(!0)),onMouseLeave:s(e.onMouseLeave,()=>I(!1)),onMouseUp:s(e.onMouseUp,()=>h(!1))}),[v,o,u,C,f,i,l]),ee=t.useCallback((e={},c=null)=>({...l,...e,id:k,ref:H(a,c),type:"checkbox",name:y,style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute",whiteSpace:"nowrap",width:"1px"},"aria-checked":i?"mixed":o,checked:o,disabled:d,readOnly:m,required:B,tabIndex:E,value:L,onBlur:s(e.onBlur,R,()=>b(!1)),onChange:s(e.onChange,K),onFocus:s(e.onFocus,U,()=>b(!0)),onKeyDown:s(e.onKeyDown,V),onKeyUp:s(e.onKeyUp,q)}),[i,l,k,y,L,E,B,d,m,o,K,R,U,V,q]),te=t.useCallback((e={},c=null)=>({...l,...e,ref:c,"data-checked":r(o),onMouseDown:s(e.onMouseDown,n=>{n.preventDefault(),n.stopPropagation()}),onTouchStart:s(e.onTouchStart,n=>{n.preventDefault(),n.stopPropagation()})}),[o,l]);return{active:v,checked:o,focused:u,focusVisible:f,hovered:C,indeterminate:i,isActive:v,isChecked:o,isFocused:u,isFocusVisible:f,isHovered:C,isIndeterminate:p,props:Q,getContainerProps:Z,getIconProps:$,getInputProps:ee,getLabelProps:te}};export{he as u};
