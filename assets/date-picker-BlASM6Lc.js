import{j as r}from"./extends-CwFRzn3r.js";import{u as pt}from"./index-Cu2YeAMN.js";import{r as n}from"./index-BwDkhjyp.js";import{d as ee,i as Ge,a as Je,b as ft,C as mt}from"./calendar-BAzkxBks.js";import{u as Ct}from"./index-DK-MzzHQ.js";import{u as Pt}from"./index-NtBqJrwW.js";import{u as kt}from"./index-CL25N26u.js";import{u as ht,f as gt}from"./form-control-CExpHBXs.js";import{u as yt,o as _t}from"./theme-provider-gLqcKpHk.js";import{W as bt,V as Dt,a6 as vt,ai as xt,X as It,a as oe,h as W,d as jt,o as Ot,f as Qe,aj as wt,b as K,c as L,z as Vt,p as Ft,j as Nt}from"./factory-CTJ-ITwV.js";import{P as Et,b as St,a as Bt}from"./popover-trigger-B7hqUX_i.js";import{P as Rt}from"./portal-C-ggyOLy.js";import{b as Tt,a as Mt}from"./icon-DlOX_f12.js";import{f as ne}from"./forward-ref-BWI-Phbn.js";import{a as zt}from"./use-component-style-_O1yHJxH.js";const Ht=C=>{var Xe,qe;const{theme:p}=yt();let{id:s,type:m,allowInput:a=!0,allowInputBeyond:u=!1,amountOfMonths:c,animation:f,autoFocus:d=!0,boundary:P,calendarColorScheme:h,calendarSize:V,calendarVariant:F,closeDelay:N,closeOnBlur:g=!0,closeOnEsc:T=!0,dateFormat:M,defaultIsOpen:Y,defaultMonth:z,defaultType:H,defaultValue:v,disableOutsideDays:x,duration:E=.2,enableMultiple:k,enableRange:S,eventListeners:B,excludeDate:t,firstDayOfWeek:i,flip:y,gutter:U,hiddenOutsideDays:le,holidays:ce,inputFormat:X="YYYY/MM/DD",isLazy:ue,isOpen:$e,lazyBehavior:de,locale:R,matchWidth:pe,maxDate:_,maxSelectValues:fe,minDate:b,minSelectValues:me,modifiers:Ce,month:Pe,monthFormat:ke,offset:he,openDelay:ge,paginateBy:ye,parseDate:q,pattern:et=/[^0-9\-\/]/g,placement:_e="bottom-start",preventOverflow:be,strategy:De,today:ve,value:xe,weekdayFormat:Ie,weekendDays:je,withControls:Oe,withHeader:we,withLabel:Ve,withWeekdays:Fe,yearFormat:Ne,calendarProps:Ee,onChange:Se,onChangeMonth:Be,onChangeType:Re,onClear:G,onClose:tt,onDelete:Te,onEnter:Me,onOpen:ot,__selectType:ze,...I}=ht(C);const nt=n.useId();s??(s=nt),R??(R=((qe=(Xe=p.__config)==null?void 0:Xe.date)==null?void 0:qe.locale)??"en");const{"aria-readonly":At,...j}=bt(I,gt),[He,at]=Dt(I,vt),{disabled:J,readOnly:Q}=j,{isOpen:l,onClose:O,onOpen:We}=Pt({defaultIsOpen:Y,isOpen:$e,onClose:tt,onOpen:ot}),Z=n.useRef(null),A=n.useRef(null),st=n.useCallback(e=>{let o=q==null?void 0:q(e);if(!o&&ee(e).isValid()&&(o=ee(e,X,R).toDate()),o!=null&&!(t!=null&&t(o)))return u||(_&&Ge(o,_)&&(o=_),b&&Je(o,b)&&(o=b)),o},[u,t,X,R,_,b,q]),rt=n.useCallback(e=>{if(e!=null&&!(t!=null&&t(e)))return u||(_&&Ge(e,_)&&(e=_),b&&Je(e,b)&&(e=b)),ee(e).locale(R).format(X)},[u,t,X,R,_,b]),D=n.useCallback(()=>{var e;J||Q||(We(),d&&a&&((e=A.current)==null||e.focus()))},[d,a,J,Q,We]),Ye=n.useCallback(()=>{var e;l?d&&a&&((e=A.current)==null||e.focus()):D()},[d,a,l,D]),Ae=n.useCallback(()=>{l||D()},[l,D]),Ke=n.useCallback(e=>{const o=xt(e);It(Z.current,o)||g&&l&&O()},[g,l,O]),Le=n.useCallback(e=>{if(e.key===" "&&(e.key=e.code),J||Q)return;const $={Backspace:Te,Enter:l?Me:w=>{w.preventDefault(),w.stopPropagation(),D()},Escape:T?w=>{w.preventDefault(),w.stopPropagation(),O()}:void 0,Space:l?void 0:w=>{w.preventDefault(),w.stopPropagation(),D()}}[e.key];$&&$(e)},[T,J,Q,l,O,Me,Te,D]),Ue=n.useCallback(e=>{var o;e.stopPropagation(),G==null||G(),d&&a&&l&&((o=A.current)==null||o.focus())},[d,a,l,G]);kt({ref:Z,enabled:l&&g,handler:O});const it=n.useCallback((e={},o=null)=>({ref:oe(Z,o),...He,...e,...j,onBlur:W(e.onBlur,I.onBlur,Ke),onClick:W(e.onClick,I.onClick,Ye)}),[He,j,Ke,Ye,I]),lt=n.useCallback(e=>({animation:f,boundary:P,closeDelay:N,duration:E,eventListeners:B,flip:y,gutter:U,isLazy:ue,lazyBehavior:de,matchWidth:pe,modifiers:Ce,offset:he,openDelay:ge,placement:_e,preventOverflow:be,strategy:De,...e,closeOnBlur:!1,closeOnButton:!1,isOpen:l,trigger:"never",onClose:O,onOpen:D}),[f,P,N,E,B,y,U,ue,l,de,pe,Ce,he,O,D,ge,_e,be,De]),ct=n.useCallback((e={},o=null)=>{const $={...e.style,...a?{}:{cursor:"pointer"}};return{ref:oe(A,o),"aria-controls":s,"aria-haspopup":"dialog",role:"combobox",tabIndex:a?-1:0,...e,...j,style:$,"aria-expanded":l,"data-active":jt(l),onFocus:W(e.onFocus,I.onFocus,Ae),onKeyDown:W(e.onKeyDown,I.onKeyDown,Le)}},[s,a,j,l,I,Ae,Le]),ut=n.useCallback(e=>({...e,type:m,colorScheme:h,size:V,variant:F,amountOfMonths:c,dateFormat:M,defaultMonth:z,defaultType:H,disableOutsideDays:x,firstDayOfWeek:i,hiddenOutsideDays:le,holidays:ce,maxSelectValues:fe,minSelectValues:me,month:Pe,monthFormat:ke,paginateBy:ye,today:ve,weekdayFormat:Ie,weekendDays:je,withControls:Oe,withHeader:we,withLabel:Ve,withWeekdays:Fe,yearFormat:Ne,onChangeMonth:Be,onChangeType:Re,...Ee,defaultValue:v,enableMultiple:k,enableRange:S,excludeDate:t,locale:R,maxDate:_,minDate:b,value:xe,onChange:Se,__selectType:ze}),[le,fe,me,k,S,c,h,Ee,V,F,M,z,H,v,x,t,i,ce,R,_,b,Pe,ke,Se,Be,Re,ye,ve,m,xe,Ie,je,Oe,we,Ve,Fe,Ne,ze]),dt=n.useCallback(({clear:e,...o})=>({...o,...j,onClick:W(o.onClick,e?Ue:void 0)}),[j,Ue]);return{id:s,allowInput:a,containerRef:Z,dateToString:rt,inputRef:A,isOpen:l,pattern:et,stringToDate:st,formControlProps:j,getCalendarProps:ut,getContainerProps:it,getFieldProps:ct,getIconProps:dt,getPopoverProps:lt,inputProps:at,onClose:O,onOpen:D}},[Wt,ae]=Ot({name:"DatePickerContext",errorMessage:`useDatePickerContext returned is 'undefined'. Seems you forgot to wrap the components in "<DatePicker />"`}),Yt=({closeOnSelect:C=!0,defaultValue:p,placeholder:s,value:m,onChange:a,...u})=>{const[c,f]=Ct({defaultValue:p,value:m,onChange:a,onUpdate:(t,i)=>!ft(t,i)}),{id:d,allowInput:P,dateToString:h,inputRef:V,pattern:F,stringToDate:N,formControlProps:g,getCalendarProps:T,getContainerProps:M,getFieldProps:Y,getIconProps:z,getPopoverProps:H,inputProps:v,onClose:x}=Ht({...u,defaultValue:p,value:c,onChange:t=>{const i=h(t);f(t),k(i),C&&t&&x()},onClear:()=>{f(void 0),k(void 0)},onClose:()=>{var i;const t=h(c);k(t),(i=u.onClose)==null||i.call(u)}}),[E,k]=n.useState(h(c)),S=n.useCallback(t=>{let i=t.target.value;i=i.replace(F,"");const y=N(i);k(i),y&&ee(y).isValid()?f(y):f(void 0)},[F,N,k,f]);Qe(()=>{f(m)},[m]),Qe(()=>{if(V.current&&wt(V.current))return;const t=h(c);k(t)},[c]);const B=n.useCallback((t={},i=null)=>{const y={...t.style,...v.style,...P?{}:{pointerEvents:"none"}};return{placeholder:s,...g,autoComplete:"off",...v,...t,id:d,ref:i,style:y,cursor:g.readOnly?"default":"text",pointerEvents:g.disabled?"none":"auto",tabIndex:P?0:-1,value:E??"",onChange:W(t.onChange,S)}},[v,P,s,g,d,E,S]);return{id:d,value:c,getCalendarProps:T,getContainerProps:M,getFieldProps:Y,getIconProps:z,getInputProps:B,getPopoverProps:H,onClose:x}},Ze=ne((C,p)=>{const[s,m]=zt("DatePicker",C);let{className:a,children:u,color:c,h:f,height:d,isClearable:P=!0,minH:h,minHeight:V,clearIconProps:F,containerProps:N,contentProps:g,fieldProps:T,iconProps:M,inputProps:Y,portalProps:z={isDisabled:!0},...H}=_t(m);const{id:v,value:x,getCalendarProps:E,getContainerProps:k,getFieldProps:S,getIconProps:B,getInputProps:t,getPopoverProps:i,onClose:y}=Yt(H);f??(f=d),h??(h=V);const U={color:c,h:"fit-content",w:"100%",...s.container};return r.jsx(Wt,{value:s,children:r.jsx(Et,{...i(),children:r.jsxs(K.div,{className:L("ui-date-picker",a),__css:U,...k(N),children:[r.jsxs(K.div,{className:"ui-date-picker__inner",__css:{position:"relative",...s.inner},children:[r.jsx(se,{...S({h:f,minH:h,...T},p),inputProps:t(Y)}),P&&x?r.jsx(ie,{...B({clear:!0,...F})}):r.jsx(te,{...B({clear:!1,...M})})]}),r.jsx(Rt,{...z,children:r.jsxs(St,{id:v,as:"div",className:"ui-date-picker__content","aria-modal":"true",role:"dialog",__css:{...s.content},...g,children:[r.jsx(mt,{className:"ui-date-picker__calendar",...E()}),Vt(u,{value:x,onClose:y})]})})]})})})});Ze.displayName="DatePicker";Ze.__ui__="DatePicker";const se=ne(({className:C,h:p,minH:s,inputProps:m,...a},u)=>{const c=ae(),{ref:f,...d}=m,P={alignItems:"center",display:"flex",h:p,minH:s,pe:"2rem",...c.field};return r.jsx(Bt,{children:r.jsx(K.div,{className:L("ui-date-picker__field",C),__css:P,...a,children:r.jsx(K.input,{ref:oe(u,f),className:"ui-date-picker__field__input","aria-label":"Input date value",display:"inline-block",w:"100%",...d})})})});se.displayName="DatePickerField";se.__ui__="DatePickerField";const te=ne(({className:C,children:p,__css:s,...m},a)=>{const c={alignItems:"center",cursor:"pointer",display:"inline-flex",justifyContent:"center",pointerEvents:"none",position:"absolute",top:"50%",transform:"translateY(-50%)",...ae().icon,...s},d=Ft(p).map(P=>n.cloneElement(P,{style:{color:"currentColor",maxHeight:"1em",maxWidth:"1em"},"aria-hidden":!0,focusable:!1}));return r.jsx(K.div,{ref:a,className:L("ui-date-picker__icon",C),__css:c,...m,children:Nt(p)?d:r.jsx(re,{})})});te.displayName="DatePickerIcon";te.__ui__="DatePickerIcon";const re=({className:C,...p})=>r.jsx(Tt,{className:L("ui-date-picker__icon__calendar",C),viewBox:"0 0 24 24",...p,children:r.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z",fill:"currentColor"})});re.displayName="DatePickerCalendarIcon";re.__ui__="DatePickerCalendarIcon";const ie=({className:C,children:p,...s})=>{const m=n.useRef(null),a=ae(),u=s.disabled,c=pt({ref:m,isDisabled:u,...s});return r.jsx(te,{className:L("ui-date-picker__icon--clear",C),"aria-label":"Clear value",__css:a.clearIcon,...c,children:p??r.jsx(Mt,{h:"0.5em",w:"0.5em"})})};ie.displayName="DatePickerClearIcon";ie.__ui__="DatePickerClearIcon";export{Ze as D,Wt as a,se as b,ie as c,te as d,ae as e,Ht as u};
