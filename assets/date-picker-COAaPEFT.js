import{j as s}from"./extends-CwFRzn3r.js";import{u as lt}from"./index-CQq5lcce.js";import{r as t}from"./index-BwDkhjyp.js";import{d as te,i as Ke,a as Le,b as it,C as ct}from"./calendar-BWe8j0U6.js";import{u as ut}from"./index-BJROMb8v.js";import{u as pt}from"./index-LwUC2h1G.js";import{u as dt}from"./index-DBauCgbQ.js";import{u as ft,f as mt}from"./form-control-aTmtpG9F.js";import{u as Ct,o as Pt}from"./theme-provider-BxuddooS.js";import{V as ht,U as gt,a7 as kt,aj as yt,W as bt,a as oe,h as Y,d as vt,o as _t,f as Ue,ak as xt,b as K,c as L,z as Dt,p as jt,j as It}from"./factory-BFmlPmGv.js";import{P as Ot,b as wt,a as Vt}from"./popover-content-C6GkyTo6.js";import{P as Ft}from"./portal-DgOtrSNE.js";import{b as Et,a as Bt}from"./icon-C9JvswpF.js";import{f as ne}from"./forward-ref-BWI-Phbn.js";import{a as Rt}from"./use-component-style-EAJDzyrD.js";const St=c=>{var Ye,Ae;const{theme:u}=Ct();let{id:r,enableMultiple:C,enableRange:P,value:p,defaultValue:i,onChange:d,type:h,defaultType:g,onChangeType:D,month:B,defaultMonth:O,onChangeMonth:j,firstDayOfWeek:R,amountOfMonths:I,paginateBy:S,withWeekdays:M,disableOutsideDays:z,hiddenOutsideDays:H,minDate:f,maxDate:m,locale:k,yearFormat:b,monthFormat:T,weekdayFormat:N,dateFormat:o,weekendDays:a,today:v,excludeDate:y,calendarVariant:se,calendarSize:re,calendarColorScheme:le,holidays:ie,withHeader:ce,withControls:ue,withLabel:pe,maxSelectValues:de,minSelectValues:fe,__selectType:me,calendarProps:Ce,allowInput:_=!0,allowInputBeyond:U=!1,parseDate:q,pattern:Ge=/[^0-9\-\/]/g,inputFormat:G="YYYY/MM/DD",autoFocus:W=!0,onClear:J,isOpen:Je,defaultIsOpen:Qe,onOpen:Xe,onClose:Ze,closeOnBlur:ee=!0,closeOnEsc:Pe=!0,openDelay:he,closeDelay:ge,isLazy:ke,lazyBehavior:ye,animation:be,duration:ve=.2,offset:_e,gutter:xe,preventOverflow:De,flip:je,matchWidth:Ie,boundary:Oe,eventListeners:we,strategy:Ve,placement:Fe="bottom-start",modifiers:Ee,onEnter:Be,onDelete:Re,...w}=ft(c);r??(r=t.useId()),k??(k=((Ae=(Ye=u.__config)==null?void 0:Ye.date)==null?void 0:Ae.locale)??"en");const{"aria-readonly":Wt,...V}=ht(w,mt),[Se,$e]=gt(w,kt),{disabled:Q,readOnly:X}=V,{isOpen:l,onOpen:Te,onClose:F}=pt({isOpen:Je,defaultIsOpen:Qe,onOpen:Xe,onClose:Ze}),Z=t.useRef(null),A=t.useRef(null),et=t.useCallback(e=>{let n=(q==null?void 0:q(e))??te(e,G,k).toDate();if(n!=null&&!(y!=null&&y(n)))return U||(m&&Ke(n,m)&&(n=m),f&&Le(n,f)&&(n=f)),n},[U,y,G,k,m,f,q]),tt=t.useCallback(e=>{if(e!=null&&!(y!=null&&y(e)))return U||(m&&Ke(e,m)&&(e=m),f&&Le(e,f)&&(e=f)),te(e).locale(k??"en").format(G)},[U,y,G,k,m,f]),x=t.useCallback(()=>{var e;Q||X||(Te(),W&&_&&((e=A.current)==null||e.focus()))},[W,_,Q,X,Te]),Ne=t.useCallback(()=>{var e;l?W&&_&&((e=A.current)==null||e.focus()):x()},[W,_,l,x]),Me=t.useCallback(()=>{l||x()},[l,x]),ze=t.useCallback(e=>{const n=yt(e);bt(Z.current,n)||ee&&l&&F()},[ee,l,F]),He=t.useCallback(e=>{if(e.key===" "&&(e.key=e.code),Q||X)return;const $={Space:l?void 0:E=>{E.preventDefault(),E.stopPropagation(),x()},Enter:l?Be:E=>{E.preventDefault(),E.stopPropagation(),x()},Escape:Pe?E=>{E.preventDefault(),E.stopPropagation(),F()}:void 0,Backspace:Re}[e.key];$&&$(e)},[Pe,Q,X,l,F,Be,Re,x]),We=t.useCallback(e=>{var n;e.stopPropagation(),J==null||J(),W&&_&&l&&((n=A.current)==null||n.focus())},[W,_,l,J]);dt({ref:Z,handler:F,enabled:l&&ee});const ot=t.useCallback((e={},n=null)=>({ref:oe(Z,n),...Se,...e,...V,onClick:Y(e.onClick,w.onClick,Ne),onBlur:Y(e.onBlur,w.onBlur,ze)}),[Se,V,ze,Ne,w]),nt=t.useCallback(e=>({openDelay:he,closeDelay:ge,isLazy:ke,lazyBehavior:ye,animation:be,duration:ve,offset:_e,gutter:xe,preventOverflow:De,flip:je,matchWidth:Ie,boundary:Oe,eventListeners:we,strategy:Ve,placement:Fe,modifiers:Ee,...e,isOpen:l,onOpen:x,onClose:F,trigger:"never",closeOnButton:!1,closeOnBlur:!1}),[be,Oe,ge,ve,we,je,xe,ke,l,ye,Ie,Ee,_e,F,x,he,Fe,De,Ve]),at=t.useCallback((e={},n=null)=>{const $={...e.style,..._?{}:{cursor:"pointer"}};return{ref:oe(A,n),tabIndex:_?-1:0,role:"combobox","aria-haspopup":"dialog","aria-controls":r,...e,...V,style:$,"data-active":vt(l),"aria-expanded":l,onFocus:Y(e.onFocus,w.onFocus,Me),onKeyDown:Y(e.onKeyDown,w.onKeyDown,He)}},[r,_,V,l,w,Me,He]),st=t.useCallback(e=>({...e,type:h,defaultType:g,onChangeType:D,month:B,defaultMonth:O,onChangeMonth:j,firstDayOfWeek:R,amountOfMonths:I,paginateBy:S,withWeekdays:M,disableOutsideDays:z,hiddenOutsideDays:H,yearFormat:b,monthFormat:T,weekdayFormat:N,dateFormat:o,weekendDays:a,today:v,holidays:ie,withHeader:ce,withControls:ue,withLabel:pe,maxSelectValues:de,minSelectValues:fe,variant:se,size:re,colorScheme:le,...Ce,value:p,defaultValue:i,onChange:d,minDate:f,maxDate:m,excludeDate:y,locale:k,__selectType:me,enableMultiple:C,enableRange:P}),[H,de,fe,C,P,I,le,Ce,re,se,o,O,g,i,z,y,R,ie,k,m,f,B,T,d,j,D,S,v,h,p,N,a,ue,ce,pe,M,b,me]),rt=t.useCallback(({clear:e,...n})=>({...n,...V,onClick:Y(n.onClick,e?We:void 0)}),[V,We]);return{id:r,allowInput:_,pattern:Ge,inputProps:$e,formControlProps:V,containerRef:Z,inputRef:A,isOpen:l,onOpen:x,onClose:F,dateToString:tt,stringToDate:et,getContainerProps:ot,getPopoverProps:nt,getFieldProps:at,getCalendarProps:st,getIconProps:rt}},[Tt,ae]=_t({strict:!1,name:"DatePickerContext"}),Nt=({value:c,defaultValue:u,onChange:r,placeholder:C,closeOnSelect:P=!0,...p})=>{const[i,d]=ut({value:c,defaultValue:u,onChange:r,onUpdate:(o,a)=>!it(o,a)}),{inputRef:h,id:g,allowInput:D,pattern:B,inputProps:O,formControlProps:j,onClose:R,dateToString:I,stringToDate:S,getContainerProps:M,getPopoverProps:z,getFieldProps:H,getCalendarProps:f,getIconProps:m}=St({...p,value:i,defaultValue:u,onChange:o=>{const a=I(o);d(o),b(a),P&&o&&R()},onClear:()=>{d(void 0),b(void 0)},onClose:()=>{var a;const o=I(i);b(o),(a=p.onClose)==null||a.call(p)}}),[k,b]=t.useState(I(i)),T=t.useCallback(o=>{let a=o.target.value;a=a.replace(B,"");const v=S(a);b(a),v&&te(v).isValid()?d(v):d(void 0)},[B,S,b,d]);Ue(()=>{d(c)},[c]),Ue(()=>{if(h.current&&xt(h.current))return;const o=I(i);b(o)},[i]);const N=t.useCallback((o={},a=null)=>{const v={...o.style,...O.style,...D?{}:{pointerEvents:"none"}};return{placeholder:C,...j,autoComplete:"off",...O,...o,ref:a,style:v,id:g,tabIndex:D?0:-1,value:k??"",cursor:j.readOnly?"default":"text",pointerEvents:j.disabled?"none":"auto",onChange:Y(o.onChange,T)}},[O,D,C,j,g,k,T]);return{id:g,value:i,onClose:R,getContainerProps:M,getPopoverProps:z,getFieldProps:H,getInputProps:N,getIconProps:m,getCalendarProps:f}},no=ne((c,u)=>{const[r,C]=Rt("DatePicker",c);let{className:P,children:p,isClearable:i=!0,color:d,h,height:g,minH:D,minHeight:B,containerProps:O,contentProps:j,fieldProps:R,inputProps:I,iconProps:S,clearIconProps:M,portalProps:z={isDisabled:!0},...H}=Pt(C);const{getPopoverProps:f,getContainerProps:m,getCalendarProps:k,getFieldProps:b,getInputProps:T,getIconProps:N,onClose:o,value:a,id:v}=Nt(H);h??(h=g),D??(D=B);const y={w:"100%",h:"fit-content",color:d,...r.container};return s.jsx(Tt,{value:r,children:s.jsx(Ot,{...f(),children:s.jsxs(K.div,{className:L("ui-date-picker",P),__css:y,...m(O),children:[s.jsxs(K.div,{className:"ui-date-picker__inner",__css:{position:"relative",...r.inner},children:[s.jsx(Mt,{...b({h,minH:D,...R},u),inputProps:T(I)}),i&&a?s.jsx(Ht,{...N({clear:!0,...M})}):s.jsx(qe,{...N({clear:!1,...S})})]}),s.jsx(Ft,{...z,children:s.jsxs(wt,{as:"div",id:v,role:"dialog","aria-modal":"true",className:"ui-date-picker__content",__css:{...r.content},...j,children:[s.jsx(ct,{className:"ui-date-picker__calendar",...k()}),Dt(p,{value:a,onClose:o})]})})]})})})}),Mt=ne(({className:c,h:u,minH:r,inputProps:C,...P},p)=>{const i=ae(),{ref:d,...h}=C,g={pe:"2rem",h:u,minH:r,display:"flex",alignItems:"center",...i.field};return s.jsx(Vt,{children:s.jsx(K.div,{className:L("ui-date-picker__field",c),__css:g,...P,children:s.jsx(K.input,{"aria-label":"Input date value",ref:oe(p,d),className:"ui-date-picker__field__input",display:"inline-block",w:"100%",...h})})})}),qe=ne(({className:c,children:u,__css:r,...C},P)=>{const i={position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",cursor:"pointer",...ae().icon,...r},h=jt(u).map(g=>t.cloneElement(g,{focusable:!1,"aria-hidden":!0,style:{maxWidth:"1em",maxHeight:"1em",color:"currentColor"}}));return s.jsx(K.div,{ref:P,className:L("ui-date-picker__icon",c),__css:i,...C,children:It(u)?h:s.jsx(zt,{})})}),zt=({className:c,...u})=>s.jsx(Et,{className:L("ui-date-picker__icon__calendar",c),viewBox:"0 0 24 24",...u,children:s.jsx("path",{fill:"currentColor",d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})}),Ht=({className:c,children:u,...r})=>{const C=t.useRef(null),P=ae(),p=r.disabled,i=lt({ref:C,isDisabled:p,...r});return s.jsx(qe,{"aria-label":"Clear value",className:L("ui-date-picker__icon--clear",c),__css:P.clearIcon,...i,children:u??s.jsx(Bt,{w:"0.5em",h:"0.5em"})})};export{no as D,Tt as a,Mt as b,Ht as c,qe as d,ae as e,St as u};
