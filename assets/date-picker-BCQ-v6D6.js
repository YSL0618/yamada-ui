import{j as r}from"./jsx-runtime-CfatFE5O.js";import{u as dt}from"./index-Ci6jtn_l.js";import{r as o}from"./index-ClcD9ViR.js";import{d as $,i as Qe,a as Xe,b as ft,C as mt}from"./calendar-C9DE7MAI.js";import{u as Ct}from"./index-DKQLNlvR.js";import{u as Pt}from"./index-B1nZG4Mb.js";import{u as kt}from"./index-BMKmWsig.js";import{u as ht,f as gt}from"./form-control-CFvK9TXx.js";import{u as _t}from"./i18n-provider-CHVVk7pM.js";import{u as yt,o as bt}from"./theme-provider-BsBO7Bt7.js";import{a2 as Dt,L as vt,af as xt,aq as It,a3 as jt,a as ae,h as K,d as Ze,A as Ot,n as te,ar as wt,b as G,c as J,I as Ft,g as Vt,p as Nt}from"./factory-Nur_zO5a.js";import{P as St,b as Bt,a as Et}from"./popover-trigger-VZ6-C5a8.js";import{P as Rt}from"./portal-BYArVHbV.js";import{b as Tt,a as Mt}from"./icon-M07mMfJs.js";import{f as oe}from"./forward-ref-D13m8o2p.js";import{a as Ht}from"./use-component-style-DXYrx7jC.js";const zt=k=>{var qe,Ge;const{locale:d}=_t(),{theme:u}=yt();let{type:f,allowInput:n=!0,allowInputBeyond:p=!1,amountOfMonths:s,animation:m,autoFocus:l=!0,boundary:C,calendarColorScheme:R,calendarSize:v,calendarVariant:T,closeDelay:S,closeOnBlur:x=!0,closeOnEsc:I=!0,dateFormat:M,defaultIsOpen:W,defaultMonth:H,defaultType:z,defaultValue:L,disableOutsideDays:D,duration:B=.2,enableMultiple:E,enableRange:h,eventListeners:j,excludeDate:P,firstDayOfWeek:t,flip:i,gutter:g,hiddenOutsideDays:le,holidays:ce,inputFormat:U="YYYY/MM/DD",isLazy:ue,isOpen:et,lazyBehavior:pe,locale:O,matchWidth:de,maxDate:_,maxSelectValues:fe,minDate:y,minSelectValues:me,modifiers:Ce,month:Pe,monthFormat:ke,offset:he,openDelay:ge,paginateBy:_e,parseDate:Q,pattern:tt=/[^0-9\-\/]/g,placement:ye="bottom-start",preventOverflow:be,strategy:De,today:ve,value:xe,weekdayFormat:Ie,weekendDays:je,withControls:Oe,withHeader:we,withLabel:Fe,withWeekdays:Ve,yearFormat:Ne,calendarProps:Se,onChange:Be,onChangeMonth:Ee,onChangeType:Re,onClear:X,onClose:at,onDelete:Te,onEnter:Me,onOpen:ot,__selectType:He,...w}=ht(k);const{"aria-readonly":Yt,...F}=Dt(w,gt),[ze,nt]=vt(w,xt),{isOpen:c,onClose:V,onOpen:Le}=Pt({defaultIsOpen:W,isOpen:et,onClose:at,onOpen:ot}),Z=o.useRef(null),q=o.useRef(null),{disabled:A,readOnly:Y}=F;O??(O=((Ge=(qe=u.__config)==null?void 0:qe.date)==null?void 0:Ge.locale)??d);const st=o.useCallback(e=>{let a=Q==null?void 0:Q(e);if(!a&&$(e).isValid()&&(a=$(e,U,O).toDate()),a!=null&&!(P!=null&&P(a)))return p||(_&&Qe(a,_)&&(a=_),y&&Xe(a,y)&&(a=y)),a},[p,P,U,O,_,y,Q]),rt=o.useCallback(e=>{if(e!=null&&!(P!=null&&P(e)))return p||(_&&Qe(e,_)&&(e=_),y&&Xe(e,y)&&(e=y)),$(e).locale(O).format(U)},[p,P,U,O,_,y]),b=o.useCallback(()=>{var e;A||Y||(Le(),l&&n&&((e=q.current)==null||e.focus()))},[l,n,A,Y,Le]),Ae=o.useCallback(()=>{var e;c?l&&n&&((e=q.current)==null||e.focus()):b()},[l,n,c,b]),Ye=o.useCallback(()=>{c||b()},[c,b]),Ke=o.useCallback(e=>{const a=It(e);jt(Z.current,a)||x&&c&&V()},[x,c,V]),We=o.useCallback(e=>{if(e.key===" "&&(e.key=e.code),A||Y)return;const Je={Backspace:Te,Enter:c?Me:N=>{N.preventDefault(),N.stopPropagation(),b()},Escape:I?N=>{N.preventDefault(),N.stopPropagation(),V()}:void 0,Space:c?void 0:N=>{N.preventDefault(),N.stopPropagation(),b()}}[e.key];Je&&Je(e)},[I,A,Y,c,V,Me,Te,b]),Ue=o.useCallback(e=>{var a;e.stopPropagation(),X==null||X(),l&&n&&c&&((a=q.current)==null||a.focus())},[l,n,c,X]);kt({ref:Z,enabled:c&&x,handler:V});const it=o.useCallback((e={},a=null)=>({ref:ae(Z,a),...ze,...F,...e,onBlur:K(e.onBlur,w.onBlur,Ke),onClick:K(e.onClick,w.onClick,Ae)}),[ze,F,Ke,Ae,w]),lt=o.useCallback(e=>({animation:m,boundary:C,closeDelay:S,duration:B,eventListeners:j,flip:i,gutter:g,isLazy:ue,lazyBehavior:pe,matchWidth:de,modifiers:Ce,offset:he,openDelay:ge,placement:ye,preventOverflow:be,strategy:De,...e,closeOnBlur:!1,closeOnButton:!1,isOpen:c,trigger:"never",onClose:V,onOpen:b}),[m,C,S,B,j,i,g,ue,c,pe,de,Ce,he,V,b,ge,ye,be,De]),ct=o.useCallback((e={},a=null)=>({"aria-haspopup":"dialog","data-active":Ze(c),"data-not-allowed":Ze(!Y&&!A&&!n),role:"combobox",tabIndex:-1,...F,...e,ref:ae(q,a),onFocus:K(e.onFocus,w.onFocus,Ye),onKeyDown:K(e.onKeyDown,w.onKeyDown,We)}),[n,A,Y,F,c,w,Ye,We]),ut=o.useCallback(e=>({...e,type:f,colorScheme:R,size:v,variant:T,amountOfMonths:s,dateFormat:M,defaultMonth:H,defaultType:z,disableOutsideDays:D,firstDayOfWeek:t,hiddenOutsideDays:le,holidays:ce,maxSelectValues:fe,minSelectValues:me,month:Pe,monthFormat:ke,paginateBy:_e,today:ve,weekdayFormat:Ie,weekendDays:je,withControls:Oe,withHeader:we,withLabel:Fe,withWeekdays:Ve,yearFormat:Ne,onChangeMonth:Ee,onChangeType:Re,...Se,defaultValue:L,enableMultiple:E,enableRange:h,excludeDate:P,locale:O,maxDate:_,minDate:y,value:xe,onChange:Be,__selectType:He}),[le,fe,me,E,h,s,R,Se,v,T,M,H,z,L,D,P,t,ce,O,_,y,Pe,ke,Be,Ee,Re,_e,ve,f,xe,Ie,je,Oe,we,Fe,Ve,Ne,He]),pt=o.useCallback(({clear:e,...a})=>({...a,...F,onClick:K(a.onClick,e?Ue:void 0)}),[F,Ue]);return{allowInput:n,containerRef:Z,dateToString:rt,inputFormat:U,inputRef:q,locale:O,open:c,pattern:tt,stringToDate:st,formControlProps:F,getCalendarProps:ut,getContainerProps:it,getFieldProps:ct,getIconProps:pt,getPopoverProps:lt,inputProps:nt,onClose:V,onOpen:b}},[Lt,ne]=Ot({name:"DatePickerContext",errorMessage:`useDatePickerContext returned is 'undefined'. Seems you forgot to wrap the components in "<DatePicker />"`}),At=({closeOnSelect:k=!0,defaultValue:d,placeholder:u,value:f,onChange:n,...p})=>{const[s,m]=Ct({defaultValue:d,value:f,onChange:n,onUpdate:(t,i)=>!ft(t,i)}),{allowInput:l,dateToString:C,inputFormat:R,inputRef:v,locale:T,pattern:S,stringToDate:x,formControlProps:I,getCalendarProps:M,getContainerProps:W,getFieldProps:H,getIconProps:z,getPopoverProps:L,inputProps:D,onClose:B}=zt({...p,defaultValue:d,value:s,onChange:t=>{const i=C(t);m(t),h(i),k&&t&&B()},onClear:()=>{m(void 0),h(void 0)},onClose:()=>{var i;const t=C(s);h(t),(i=p.onClose)==null||i.call(p)}}),[E,h]=o.useState(C(s)),j=o.useCallback(t=>{let i=t.target.value;i=i.replace(S,"");const g=x(i);h(i),g&&$(g).isValid()?m(g):m(void 0)},[S,x,h,m]);te(()=>{m(f)},[f]),te(()=>{if(v.current&&wt(v.current))return;const t=C(s);h(t)},[s]),te(()=>{const t=C(s);h(t)},[T,R]);const P=o.useCallback((t={},i=null)=>{const g={...t.style,...D.style,...I.disabled||!l?{pointerEvents:"none"}:{}};return{autoComplete:"off",placeholder:u,tabIndex:l?0:-1,...I,...D,...t,ref:i,style:g,value:E??"",onChange:K(t.onChange,j)}},[D,l,u,I,E,j]);return{value:s,getCalendarProps:M,getContainerProps:W,getFieldProps:H,getIconProps:z,getInputProps:P,getPopoverProps:L,onClose:B}},$e=oe((k,d)=>{const[u,f]=Ht("DatePicker",k);let{className:n,children:p,clearable:s,color:m,h:l,height:C,isClearable:R=!0,minH:v,minHeight:T,clearIconProps:S,containerProps:x,contentProps:I,fieldProps:M,iconProps:W,inputProps:H,portalProps:z={isDisabled:!0},...L}=bt(f);const{value:D,getCalendarProps:B,getContainerProps:E,getFieldProps:h,getIconProps:j,getInputProps:P,getPopoverProps:t,onClose:i}=At(L);s??(s=R),l??(l=C),v??(v=T);const g={color:m,h:"fit-content",w:"100%",...u.container};return r.jsx(Lt,{value:u,children:r.jsx(St,{...t(),children:r.jsxs(G.div,{className:J("ui-date-picker",n),__css:g,...E(x),children:[r.jsxs(G.div,{className:"ui-date-picker__inner",__css:{position:"relative",...u.inner},children:[r.jsx(se,{...h({h:l,minH:v,...M},d),inputProps:P(H)}),s&&D?r.jsx(ie,{...j({clear:!0,...S})}):r.jsx(ee,{...j({clear:!1,...W})})]}),r.jsx(Rt,{...z,children:r.jsxs(Bt,{as:"div",className:"ui-date-picker__content",__css:{...u.content},...I,children:[r.jsx(mt,{className:"ui-date-picker__calendar",...B()}),Ft(p,{value:D,onClose:i})]})})]})})})});$e.displayName="DatePicker";$e.__ui__="DatePicker";const se=oe(({className:k,h:d,minH:u,inputProps:f,...n},p)=>{const s=ne(),{ref:m,...l}=f??{},C={alignItems:"center",display:"flex",h:d,minH:u,pe:"2rem",...s.field};return r.jsx(Et,{children:r.jsx(G.div,{className:J("ui-date-picker__field",k),__css:C,...n,children:r.jsx(G.input,{ref:ae(p,m),className:"ui-date-picker__field__input","aria-label":"Input date value",display:"inline-block",w:"100%",...l})})})});se.displayName="DatePickerField";se.__ui__="DatePickerField";const ee=oe(({className:k,children:d,__css:u,...f},n)=>{const s={alignItems:"center",cursor:"pointer",display:"inline-flex",justifyContent:"center",pointerEvents:"none",position:"absolute",top:"50%",transform:"translateY(-50%)",...ne().icon,...u},l=Vt(d).map(C=>o.cloneElement(C,{style:{color:"currentColor",maxHeight:"1em",maxWidth:"1em"},"aria-hidden":!0,focusable:!1}));return r.jsx(G.div,{ref:n,className:J("ui-date-picker__icon",k),__css:s,...f,children:Nt(d)?l:r.jsx(re,{})})});ee.displayName="DatePickerIcon";ee.__ui__="DatePickerIcon";const re=({className:k,...d})=>r.jsx(Tt,{className:J("ui-date-picker__icon__calendar",k),viewBox:"0 0 24 24",...d,children:r.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z",fill:"currentColor"})});re.displayName="DatePickerCalendarIcon";re.__ui__="DatePickerCalendarIcon";const ie=({className:k,children:d,...u})=>{const f=o.useRef(null),n=ne(),p=u.disabled,s=dt({ref:f,disabled:p,...u});return r.jsx(ee,{className:J("ui-date-picker__icon--clear",k),"aria-label":"Clear value",__css:n.clearIcon,...s,children:d??r.jsx(Mt,{h:"0.5em",w:"0.5em"})})};ie.displayName="DatePickerClearIcon";ie.__ui__="DatePickerClearIcon";export{$e as D,Lt as a,se as b,ie as c,ee as d,ne as e,zt as u};
