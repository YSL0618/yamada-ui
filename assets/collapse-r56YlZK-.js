import{j as g}from"./jsx-runtime-CfatFE5O.js";import{r as u}from"./index-ClcD9ViR.js";import{M as l,t as w,a as A}from"./utils-COso-ZNO.js";import{A as H}from"./index-r0TXmcNt.js";import{m as I}from"./forward-ref-2BKBy0Yi.js";import{u as M}from"./use-component-style-CLSKeq_H.js";import{o as T}from"./theme-provider-CNI9L2WW.js";import{m as R}from"./factory-ep9rrzy9.js";import{c as v,U as B}from"./factory-COau3w21.js";const E=s=>s!=null&&parseFloat(s.toString())>0,F={enter:({animationOpacity:s,delay:a,duration:i,endingHeight:n,enter:o,transition:e,transitionEnd:t}={})=>({...s?{opacity:1}:{},height:n,transition:w(e==null?void 0:e.enter)(a,i),transitionEnd:t==null?void 0:t.enter,...o}),exit:({animationOpacity:s,delay:a,duration:i,exit:n,startingHeight:o,transition:e,transitionEnd:t}={})=>({...s?{opacity:E(o)?1:0}:{},height:o,transition:A(e==null?void 0:e.exit)(a,i),transitionEnd:t==null?void 0:t.exit,...n})},D={animate:"enter",exit:"exit",initial:"exit",variants:F},y=I((s,a)=>{const[i,n]=M("Collapse",s);let{className:o,animationOpacity:e,delay:t,duration:r,endingHeight:_,isOpen:m,startingHeight:h,transition:c,transitionEnd:N,unmountOnExit:p,__css:C,...f}=T(n);const[x,O]=u.useState(!1);u.useEffect(()=>{B()&&O(!0)},[]);const S=m||p?"enter":"exit";m=p?m:!0;const P=u.useMemo(()=>x?c||{enter:{height:{duration:r??.3,ease:l.ease},opacity:{duration:r??.4,ease:l.ease}},exit:{height:{duration:r??.3,ease:l.ease},opacity:{duration:r??.4,ease:l.ease}}}:{enter:{duration:0}},[x,r,c]),d={animationOpacity:e,delay:t,duration:r,endingHeight:_,startingHeight:h,transition:P,transitionEnd:N},j={...i,...C};return g.jsx(H,{custom:d,initial:!1,children:m?g.jsx(R.div,{ref:a,className:v("ui-collapse",o),...f,...D,style:{overflow:"hidden",...f.style},animate:S,custom:d,initial:p?"exit":!1,__css:j}):null})});y.displayName="Collapse";y.__ui__="Collapse";export{y as C};
