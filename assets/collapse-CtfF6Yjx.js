import{j as g}from"./jsx-runtime-CfatFE5O.js";import{r as u}from"./index-ClcD9ViR.js";import{M as l,t as A,a as H}from"./utils-Crg7yCn-.js";import{A as I}from"./index-r0TXmcNt.js";import{m as M}from"./forward-ref-2BKBy0Yi.js";import{u as T}from"./use-component-style-fOirb5M1.js";import{o as R}from"./theme-provider-DSx3k1bh.js";import{m as v}from"./factory-Dgu6MzDY.js";import{c as B,j as E}from"./factory-Dfrbb1EY.js";const F=s=>s!=null&&parseFloat(s.toString())>0,D={enter:({animationOpacity:s,delay:a,duration:i,endingHeight:n,enter:o,transition:e,transitionEnd:t}={})=>({...s?{opacity:1}:{},height:n,transition:A(e==null?void 0:e.enter)(a,i),transitionEnd:t==null?void 0:t.enter,...o}),exit:({animationOpacity:s,delay:a,duration:i,exit:n,startingHeight:o,transition:e,transitionEnd:t}={})=>({...s?{opacity:F(o)?1:0}:{},height:o,transition:H(e==null?void 0:e.exit)(a,i),transitionEnd:t==null?void 0:t.exit,...n})},G={animate:"enter",exit:"exit",initial:"exit",variants:D},y=M((s,a)=>{const[i,n]=T("Collapse",s);let{className:o,animationOpacity:e,delay:t,duration:r,endingHeight:_,isOpen:h,open:m,startingHeight:N,transition:c,transitionEnd:C,unmountOnExit:p,__css:O,...f}=R(n);const[x,S]=u.useState(!1);u.useEffect(()=>{E()&&S(!0)},[]),m??(m=h);const j=m||p?"enter":"exit";m=p?m:!0;const P=u.useMemo(()=>x?c||{enter:{height:{duration:r??.3,ease:l.ease},opacity:{duration:r??.4,ease:l.ease}},exit:{height:{duration:r??.3,ease:l.ease},opacity:{duration:r??.4,ease:l.ease}}}:{enter:{duration:0}},[x,r,c]),d={animationOpacity:e,delay:t,duration:r,endingHeight:_,startingHeight:N,transition:P,transitionEnd:C},w={...i,...O};return g.jsx(I,{custom:d,initial:!1,children:m?g.jsx(v.div,{ref:a,className:B("ui-collapse",o),...f,...G,style:{overflow:"hidden",...f.style},animate:j,custom:d,initial:p?"exit":!1,__css:w}):null})});y.displayName="Collapse";y.__ui__="Collapse";export{y as C};
