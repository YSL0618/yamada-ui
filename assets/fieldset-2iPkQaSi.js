import{j as e}from"./jsx-runtime-CfatFE5O.js";import{r as b}from"./index-ClcD9ViR.js";import{H as R,E,F as X,a as Y,b as Z,c as $,R as L}from"./form-control-DNngTyAT.js";import{V as P}from"./visually-hidden-CuTTkjW9.js";import{f as H}from"./forward-ref-D13m8o2p.js";import{a as ee}from"./use-component-style-D7fUVUlo.js";import{o as se}from"./theme-provider-Dit74geM.js";import{g as re,B as _,b as N,c as q,d as s}from"./factory-Bqmz9C5P.js";const I=H(({id:u,...m},p)=>{const[t,d]=ee("Fieldset",m),i=b.useId(),{className:f,children:n,isDisabled:g=!1,disabled:l=g,errorMessage:r,helperMessage:a,isInvalid:x=!1,invalid:o=x,isReadOnly:h=!1,isReplace:S=!0,isRequired:O=!1,legend:j,optionalIndicator:V,readOnly:C=h,replace:F=S,required:B=O,requiredIndicator:w,errorMessageProps:A,helperMessageProps:D,legendProps:T,...k}=se(d),[M,v]=b.useState(!1),y=re(n),z=_(y,c),G=_(y,R),J=_(y,E),K=!!z,Q=!!G,U=!!J,W={...t.container};return u??(u=i),e.jsx(X,{value:{disabled:l,focused:M,invalid:o,readOnly:C,replace:F,required:B,onBlur:()=>v(!1),onFocus:()=>v(!0)},children:e.jsx(Y,{value:t,children:e.jsxs(N.fieldset,{ref:p,className:q("ui-fieldset",f),"data-disabled":s(l),"data-focus":s(M),"data-invalid":s(o),"data-readonly":s(C),disabled:l,__css:W,...k,children:[!K&&j?e.jsxs(c,{optionalIndicator:V,requiredIndicator:w,...T,children:[j,(!F||!o)&&a?e.jsx(P,{children:a}):null,o&&r?e.jsx(P,{children:r}):null]}):null,n,!Q&&a?e.jsx(R,{...D,children:a}):null,!U&&r?e.jsx(E,{...A,children:r}):null]})})})});I.displayName="Fieldset";I.__ui__="Fieldset";const c=H(({className:u,children:m,isRequired:p,optionalIndicator:t=null,required:d=p,requiredIndicator:i=null,...f},n)=>{const{disabled:g,focused:l,invalid:r,readOnly:a,required:x}=Z()??{},h={...($()??{}).legend};return d??(d=x),e.jsxs(N.legend,{ref:n,className:q("ui-fieldset__legend",u),"data-disabled":s(g),"data-focus":s(l),"data-invalid":s(r),"data-readonly":s(a),__css:h,...f,children:[m,d?i?e.jsx(L,{children:i}):e.jsx(L,{}):t]})});c.displayName="Legend";c.__ui__="Legend";export{I as F,c as L};
