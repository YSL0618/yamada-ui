import{j as s}from"./extends-CwFRzn3r.js";import{u as lt}from"./index-Bq6qUkKi.js";import{r as t}from"./index-BwDkhjyp.js";import{d as te,i as Le,a as We,b as it,C as ct}from"./calendar-C2qn51A4.js";import{u as ut}from"./index-423R83gY.js";import{u as pt}from"./index-B235ufy_.js";import{u as dt}from"./index-DqLTqNdm.js";import{u as ft,f as mt}from"./form-control-DrDTnnc0.js";import{u as Ct,o as Pt}from"./theme-provider-Bw55Thfs.js";import{T as ht,S as gt,a7 as kt,aj as yt,U as bt,a as oe,h as A,d as vt,l as _t,f as Ue,ak as xt,b as L,c as W,B as Dt,t as jt,j as It}from"./factory-DfCPDZht.js";import{P as Ot,b as wt,a as Vt}from"./popover-content-CO9sBZWa.js";import{P as Ft}from"./portal-CQMr5Yur.js";import{b as Bt,a as Et}from"./icon-BY9dMEpR.js";import{f as ne}from"./forward-ref-BWI-Phbn.js";import{a as St}from"./use-component-style-D0DGb12b.js";const Rt=c=>{var Ae,Ke;const{theme:u}=Ct();let{id:r,enableMultiple:C,enableRange:P,value:p,defaultValue:i,onChange:d,type:h,defaultType:g,onChangeType:D,month:E,defaultMonth:O,onChangeMonth:j,firstDayOfWeek:S,amountOfMonths:I,paginateBy:R,withWeekdays:M,disableOutsideDays:H,hiddenOutsideDays:z,minDate:f,maxDate:m,locale:k,yearFormat:b,monthFormat:T,weekdayFormat:N,dateFormat:o,weekendDays:a,today:v,excludeDate:y,calendarVariant:se,calendarSize:re,calendarColorScheme:le,holidays:ie,withHeader:ce,withControls:ue,withLabel:pe,maxSelectValues:de,minSelectValues:fe,__selectType:me,calendarProps:Ce,allowInput:_=!0,allowInputBeyond:U=!1,parseDate:q,pattern:Ge=/[^0-9\-\/]/g,inputFormat:G="YYYY/MM/DD",autoFocus:Y=!0,onClear:J,isOpen:Je,defaultIsOpen:Qe,onOpen:Xe,onClose:Ze,closeOnBlur:ee=!0,closeOnEsc:Pe=!0,openDelay:he,closeDelay:ge,isLazy:ke,lazyBehavior:ye,animation:be,duration:ve=.2,offset:_e,gutter:xe,preventOverflow:De,flip:je,matchWidth:Ie,boundary:Oe,eventListeners:we,strategy:Ve,placement:Fe="bottom-start",modifiers:Be,onEnter:Ee,onDelete:Se,...w}=ft(c);r??(r=t.useId()),k??(k=((Ke=(Ae=u.__config)==null?void 0:Ae.date)==null?void 0:Ke.locale)??"en");const{"aria-readonly":Yt,...V}=ht(w,mt),[Re,$e]=gt(w,kt),{disabled:Q,readOnly:X}=V,{isOpen:l,onOpen:Te,onClose:F}=pt({isOpen:Je,defaultIsOpen:Qe,onOpen:Xe,onClose:Ze}),Z=t.useRef(null),K=t.useRef(null),et=t.useCallback(e=>{let n=(q==null?void 0:q(e))??te(e,G,k).toDate();if(n!=null&&!(y!=null&&y(n)))return U||(m&&Le(n,m)&&(n=m),f&&We(n,f)&&(n=f)),n},[U,y,G,k,m,f,q]),tt=t.useCallback(e=>{if(e!=null&&!(y!=null&&y(e)))return U||(m&&Le(e,m)&&(e=m),f&&We(e,f)&&(e=f)),te(e).locale(k??"en").format(G)},[U,y,G,k,m,f]),x=t.useCallback(()=>{var e;Q||X||(Te(),Y&&_&&((e=K.current)==null||e.focus()))},[Y,_,Q,X,Te]),Ne=t.useCallback(()=>{var e;l?Y&&_&&((e=K.current)==null||e.focus()):x()},[Y,_,l,x]),Me=t.useCallback(()=>{l||x()},[l,x]),He=t.useCallback(e=>{const n=yt(e);bt(Z.current,n)||ee&&l&&F()},[ee,l,F]),ze=t.useCallback(e=>{if(e.key===" "&&(e.key=e.code),Q||X)return;const $={Space:l?void 0:B=>{B.preventDefault(),B.stopPropagation(),x()},Enter:l?Ee:B=>{B.preventDefault(),B.stopPropagation(),x()},Escape:Pe?B=>{B.preventDefault(),B.stopPropagation(),F()}:void 0,Backspace:Se}[e.key];$&&$(e)},[Pe,Q,X,l,F,Ee,Se,x]),Ye=t.useCallback(e=>{var n;e.stopPropagation(),J==null||J(),Y&&_&&l&&((n=K.current)==null||n.focus())},[Y,_,l,J]);dt({ref:Z,handler:F,enabled:l&&ee});const ot=t.useCallback((e={},n=null)=>({ref:oe(Z,n),...Re,...e,...V,onClick:A(e.onClick,w.onClick,Ne),onBlur:A(e.onBlur,w.onBlur,He)}),[Re,V,He,Ne,w]),nt=t.useCallback(e=>({openDelay:he,closeDelay:ge,isLazy:ke,lazyBehavior:ye,animation:be,duration:ve,offset:_e,gutter:xe,preventOverflow:De,flip:je,matchWidth:Ie,boundary:Oe,eventListeners:we,strategy:Ve,placement:Fe,modifiers:Be,...e,isOpen:l,onOpen:x,onClose:F,trigger:"never",closeOnButton:!1,closeOnBlur:!1}),[be,Oe,ge,ve,we,je,xe,ke,l,ye,Ie,Be,_e,F,x,he,Fe,De,Ve]),at=t.useCallback((e={},n=null)=>{const $={...e.style,..._?{}:{cursor:"pointer"}};return{ref:oe(K,n),tabIndex:_?-1:0,role:"combobox","aria-haspopup":"dialog","aria-controls":r,...e,...V,style:$,"data-active":vt(l),"aria-expanded":l,onFocus:A(e.onFocus,w.onFocus,Me),onKeyDown:A(e.onKeyDown,w.onKeyDown,ze)}},[r,_,V,l,w,Me,ze]),st=t.useCallback(e=>({...e,type:h,defaultType:g,onChangeType:D,month:E,defaultMonth:O,onChangeMonth:j,firstDayOfWeek:S,amountOfMonths:I,paginateBy:R,withWeekdays:M,disableOutsideDays:H,hiddenOutsideDays:z,yearFormat:b,monthFormat:T,weekdayFormat:N,dateFormat:o,weekendDays:a,today:v,holidays:ie,withHeader:ce,withControls:ue,withLabel:pe,maxSelectValues:de,minSelectValues:fe,variant:se,size:re,colorScheme:le,...Ce,value:p,defaultValue:i,onChange:d,minDate:f,maxDate:m,excludeDate:y,locale:k,__selectType:me,enableMultiple:C,enableRange:P}),[z,de,fe,C,P,I,le,Ce,re,se,o,O,g,i,H,y,S,ie,k,m,f,E,T,d,j,D,R,v,h,p,N,a,ue,ce,pe,M,b,me]),rt=t.useCallback(({clear:e,...n})=>({...n,...V,onClick:A(n.onClick,e?Ye:void 0)}),[V,Ye]);return{id:r,allowInput:_,pattern:Ge,inputProps:$e,formControlProps:V,containerRef:Z,inputRef:K,isOpen:l,onOpen:x,onClose:F,dateToString:tt,stringToDate:et,getContainerProps:ot,getPopoverProps:nt,getFieldProps:at,getCalendarProps:st,getIconProps:rt}},[Tt,ae]=_t({strict:!1,name:"DatePickerContext"}),Nt=({value:c,defaultValue:u,onChange:r,placeholder:C,closeOnSelect:P=!0,...p})=>{const[i,d]=ut({value:c,defaultValue:u,onChange:r,onUpdate:(o,a)=>!it(o,a)}),{inputRef:h,id:g,allowInput:D,pattern:E,inputProps:O,formControlProps:j,onClose:S,dateToString:I,stringToDate:R,getContainerProps:M,getPopoverProps:H,getFieldProps:z,getCalendarProps:f,getIconProps:m}=Rt({...p,value:i,defaultValue:u,onChange:o=>{const a=I(o);d(o),b(a),P&&o&&S()},onClear:()=>{d(void 0),b(void 0)},onClose:()=>{var a;const o=I(i);b(o),(a=p.onClose)==null||a.call(p)}}),[k,b]=t.useState(I(i)),T=t.useCallback(o=>{let a=o.target.value;a=a.replace(E,"");const v=R(a);b(a),v&&te(v).isValid()?d(v):d(void 0)},[E,R,b,d]);Ue(()=>{d(c)},[c]),Ue(()=>{if(h.current&&xt(h.current))return;const o=I(i);b(o)},[i]);const N=t.useCallback((o={},a=null)=>{const v={...o.style,...O.style,...D?{}:{pointerEvents:"none"}};return{placeholder:C,...j,autoComplete:"off",...O,...o,ref:a,style:v,id:g,tabIndex:D?0:-1,value:k??"",cursor:j.readOnly?"default":"text",pointerEvents:j.disabled?"none":"auto",onChange:A(o.onChange,T)}},[O,D,C,j,g,k,T]);return{id:g,value:i,onClose:S,getContainerProps:M,getPopoverProps:H,getFieldProps:z,getInputProps:N,getIconProps:m,getCalendarProps:f}},no=ne((c,u)=>{const[r,C]=St("DatePicker",c);let{className:P,children:p,isClearable:i=!0,color:d,h,height:g,minH:D,minHeight:E,containerProps:O,contentProps:j,fieldProps:S,inputProps:I,iconProps:R,clearIconProps:M,portalProps:H={isDisabled:!0},...z}=Pt(C);const{getPopoverProps:f,getContainerProps:m,getCalendarProps:k,getFieldProps:b,getInputProps:T,getIconProps:N,onClose:o,value:a,id:v}=Nt(z);h??(h=g),D??(D=E);const y={w:"100%",h:"fit-content",color:d,...r.container};return s.jsx(Tt,{value:r,children:s.jsx(Ot,{...f(),children:s.jsxs(L.div,{className:W("ui-date-picker",P),__css:y,...m(O),children:[s.jsxs(L.div,{className:"ui-date-picker__inner",__css:{position:"relative",...r.inner},children:[s.jsx(Mt,{...b({h,minH:D,...S},u),inputProps:T(I)}),i&&a?s.jsx(zt,{...N({clear:!0,...M})}):s.jsx(qe,{...N({clear:!1,...R})})]}),s.jsx(Ft,{...H,children:s.jsxs(wt,{as:"div",id:v,role:"dialog","aria-modal":"true",className:"ui-date-picker__content",__css:{...r.content},...j,children:[s.jsx(ct,{className:"ui-date-picker__calendar",...k()}),Dt(p,{value:a,onClose:o})]})})]})})})}),Mt=ne(({className:c,h:u,minH:r,inputProps:C,...P},p)=>{const i=ae(),{ref:d,...h}=C,g={pe:"2rem",h:u,minH:r,display:"flex",alignItems:"center",...i.field};return s.jsx(Vt,{children:s.jsx(L.div,{className:W("ui-date-picker__field",c),__css:g,...P,children:s.jsx(L.input,{"aria-label":"Input date value",ref:oe(p,d),className:"ui-date-picker__field__input",display:"inline-block",w:"100%",...h})})})}),qe=ne(({className:c,children:u,__css:r,...C},P)=>{const i={position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",cursor:"pointer",...ae().icon,...r},h=jt(u).map(g=>t.cloneElement(g,{focusable:!1,"aria-hidden":!0,style:{maxWidth:"1em",maxHeight:"1em",color:"currentColor"}}));return s.jsx(L.div,{ref:P,className:W("ui-date-picker__icon",c),__css:i,...C,children:It(u)?h:s.jsx(Ht,{})})}),Ht=({className:c,...u})=>s.jsx(Bt,{className:W("ui-date-picker__icon__calendar",c),viewBox:"0 0 24 24",...u,children:s.jsx("path",{fill:"currentColor",d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})}),zt=({className:c,children:u,...r})=>{const C=t.useRef(null),P=ae(),p=r.disabled,i=lt({ref:C,isDisabled:p,...r});return s.jsx(qe,{"aria-label":"Clear value",className:W("ui-date-picker__icon--clear",c),__css:P.clearIcon,...i,children:u??s.jsx(Et,{w:"0.5em",h:"0.5em"})})};export{no as D,Tt as a,Mt as b,zt as c,qe as d,ae as e,Rt as u};
