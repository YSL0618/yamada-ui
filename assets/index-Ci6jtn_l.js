import{a as S}from"./index-DdZUI5bP.js";import{r as e}from"./index-ClcD9ViR.js";import{R as y,a as V,d as W}from"./factory-Nur_zO5a.js";const I=k=>{const{isContentEditable:C,tagName:f}=k.target;return f!=="INPUT"&&f!=="TEXTAREA"&&!C},_=({ref:k,clickOnEnter:C=!0,clickOnSpace:f=!0,disabled:r,disableTouchBehavior:d=!0,focusable:x,focusOnClick:D=!0,isDisabled:X,isFocusable:j,tabIndex:N,onClick:E,onKeyDown:l,onKeyUp:n,onMouseDown:c,onMouseLeave:i,onMouseOver:m,onMouseUp:p,...A}={})=>{r??(r=X),x??(x=j);const[a,q]=e.useState(!0),[g,s]=e.useState(!1),u=S(),z=a?N:N||0,P=r&&!x,R=t=>{t&&t.tagName!=="BUTTON"&&q(!1)},h=e.useCallback(t=>{if(r){t.stopPropagation(),t.preventDefault();return}D&&t.currentTarget.focus(),E==null||E(t)},[r,D,E]),T=e.useCallback(t=>{g&&I(t)&&(t.preventDefault(),t.stopPropagation(),s(!1),u.remove(document,"keyup",T,!1))},[g,u]),B=e.useCallback(t=>{l==null||l(t),!(r||t.defaultPrevented||t.metaKey)&&(!I(t.nativeEvent)||a||(f&&t.key===" "&&(t.preventDefault(),s(!0)),C&&t.key==="Enter"&&(t.preventDefault(),t.currentTarget.click()),u.add(document,"keyup",T,!1)))},[r,a,l,C,f,u,T]),F=e.useCallback(t=>{n==null||n(t),!(r||t.defaultPrevented||t.metaKey)&&(!I(t.nativeEvent)||a||f&&t.key===" "&&(t.preventDefault(),s(!1),t.currentTarget.click()))},[f,a,r,n]),b=e.useCallback(t=>{t.button===0&&(s(!1),u.remove(document,"mouseup",b,!1))},[u]),G=e.useCallback(t=>{if(t.button===0){if(r){t.stopPropagation(),t.preventDefault();return}a||s(!0),t.currentTarget.focus({preventScroll:!0}),u.add(document,"mouseup",b,!1),c==null||c(t)}},[r,a,c,u,b]),H=e.useCallback(t=>{t.button===0&&(a||s(!1),p==null||p(t))},[p,a]),J=e.useCallback(t=>{if(r){t.preventDefault();return}d&&y()||m==null||m(t)},[r,m,d]),Q=e.useCallback(t=>{g&&(t.preventDefault(),s(!1)),!(d&&y())&&(i==null||i(t))},[g,i,d]);return a?{...A,ref:V(k,R),type:"button","aria-disabled":P?void 0:r,disabled:P,onClick:h,onKeyDown:l,onKeyUp:n,onMouseDown:c,onMouseLeave:i,onMouseOver:m,onMouseUp:p}:{...A,ref:V(k,R),"aria-disabled":r?"true":void 0,"data-active":W(g),role:"button",tabIndex:P?void 0:z,onClick:h,onKeyDown:B,onKeyUp:F,onMouseDown:G,onMouseLeave:Q,onMouseOver:J,onMouseUp:H}};export{_ as u};
