import{j as t}from"./extends-CwFRzn3r.js";import{r as R}from"./index-BwDkhjyp.js";import{l as L,t as U,w as q,b as x,c as C,d as u,x as F,h as D}from"./factory-DfCPDZht.js";import{f as h}from"./forward-ref-BWI-Phbn.js";import{a as W}from"./use-component-style-D0DGb12b.js";import{o as X}from"./theme-provider-Bw55Thfs.js";const[Y,y]=L({strict:!1,name:"FormControlContext"}),[Z,g]=L({strict:!1,name:"FormControlStyleContext"}),os=h(({id:o,...a},r)=>{const[i,l]=W("FormControl",a),{className:n,isRequired:c=!1,isDisabled:d=!1,isInvalid:m=!1,isReadOnly:e=!1,isReplace:f=!0,label:s,helperMessage:_,errorMessage:p,children:b,requiredIndicator:v,optionalIndicator:I,labelProps:j,helperMessageProps:V,errorMessageProps:w,...A}=X(l);o??(o=R.useId());const O=R.useId(),[E,P]=R.useState(!1),M=U(b),[k]=q(M,N),[T]=q(M,B),[z]=q(M,H),G=!!k,J=!!T,K=!!z,Q={...i.container};return t.jsx(Y,{value:{id:o,labelId:O,isFocused:E,isRequired:c,isDisabled:d,isInvalid:m,isReadOnly:e,isReplace:f,onFocus:()=>P(!0),onBlur:()=>P(!1)},children:t.jsx(Z,{value:i,children:t.jsxs(x.div,{ref:r,className:C("ui-form__control",n),"data-focus":u(E),"data-disabled":u(d),"data-invalid":u(m),"data-readonly":u(e),__css:Q,...A,children:[!G&&s?t.jsx(N,{requiredIndicator:v,optionalIndicator:I,...j,children:s}):null,b,!J&&_?t.jsx(B,{...V,children:_}):null,!K&&p?t.jsx(H,{...w,children:p}):null]})})})}),ts=({id:o,disabled:a,readOnly:r,required:i,isDisabled:l,isReadOnly:n,isRequired:c,isInvalid:d,...m})=>{const e=y(),f=o??(e==null?void 0:e.id),s=e==null?void 0:e.labelId,_=a??l??(e==null?void 0:e.isDisabled),p=r??n??(e==null?void 0:e.isReadOnly),b=i??c??(e==null?void 0:e.isRequired),v=d??(e==null?void 0:e.isInvalid);return{id:f,labelId:s,isDisabled:_,isReadOnly:p,isRequired:b,isInvalid:v,...m}},ls=({id:o,disabled:a,readOnly:r,required:i,isDisabled:l,isReadOnly:n,isRequired:c,isInvalid:d,onFocus:m,onBlur:e,...f})=>{const s=y();return a??(a=l??(s==null?void 0:s.isDisabled)),i??(i=c??(s==null?void 0:s.isRequired)),r??(r=n??(s==null?void 0:s.isReadOnly)),d??(d=s==null?void 0:s.isInvalid),{id:o??(s==null?void 0:s.id),disabled:a,required:i,readOnly:r,"aria-disabled":F(a),"aria-readonly":F(r),"aria-required":F(i),"aria-invalid":F(d),"data-readonly":u(r),onFocus:D(s==null?void 0:s.onFocus,m),onBlur:D(s==null?void 0:s.onBlur,e),...a||r?{_hover:{},_active:{},_focus:{},_invalid:{},_focusVisible:{}}:{},...f}},ns=["disabled","required","readOnly","aria-disabled","aria-readonly","aria-required","aria-invalid","data-readonly","onFocus","onBlur","_hover","_active","_focus","_invalid","_focusVisible"],N=h(({id:o,className:a,htmlFor:r,isRequired:i,requiredIndicator:l=null,optionalIndicator:n=null,children:c,...d},m)=>{const{id:e,labelId:f,isRequired:s,isFocused:_,isDisabled:p,isInvalid:b,isReadOnly:v}=y()??{},I=g()??{};o??(o=f),i??(i=s);const j={display:"block",pointerEvents:v?"none":void 0,...I.label};return t.jsxs(x.label,{ref:m,id:o,className:C("ui-form__label",a),"data-focus":u(_),"data-disabled":u(p),"data-readonly":u(v),"data-invalid":u(b),htmlFor:r??e,__css:j,style:{cursor:p?"not-allowed":void 0},...d,children:[c,i?l?t.jsx(S,{children:l}):t.jsx(S,{}):n]})}),S=h(({className:o,children:a,...r},i)=>{const n={...(g()??{}).requiredIndicator};return R.isValidElement(a)?a:t.jsx(x.span,{ref:i,className:C("ui-form__required-indicator",o),role:"presentation","aria-hidden":!0,__css:n,...r,children:a??t.jsx(t.Fragment,{children:"*"})})}),B=h(({className:o,...a},r)=>{const{id:i,isInvalid:l,isReplace:n}=y()??{},c=g()??{};if(n&&l)return null;const d={...c.helperMessage};return t.jsx(x.span,{ref:r,className:C("ui-form__helper-message",o),__css:d,"aria-describedby":i,...a})}),H=h(({className:o,...a},r)=>{const{isInvalid:i}=y()??{},l=g()??{};if(!i)return null;const n={...l.errorMessage};return t.jsx(x.span,{ref:r,className:C("ui-form__error-message",o),"aria-live":"polite",__css:n,...a})});export{H as E,os as F,B as H,N as L,S as R,ts as a,Y as b,Z as c,y as d,g as e,ns as f,ls as u};
