import{r as o}from"./index-BwDkhjyp.js";import{k as E}from"./factory-CB2imrkD.js";const i=(n,t,f,s)=>{const r=E(f);return o.useEffect(()=>{const e=typeof n=="function"?n():n??document;if(e)return e.addEventListener(t,r,s),()=>{e.removeEventListener(t,r,s)}},[t,n,s,r,f]),()=>{const e=typeof n=="function"?n():n??document;e==null||e.removeEventListener(t,r,s)}},d=()=>{const n=o.useRef(new Map),t=n.current,f=o.useCallback((r,e,c,u)=>{n.current.set(c,{el:r,event:e,options:u}),r.addEventListener(e,c,u)},[]),s=o.useCallback((r,e,c,u)=>{r.removeEventListener(e,c,u),n.current.delete(c)},[]);return o.useEffect(()=>()=>{t.forEach(({el:r,event:e,options:c},u)=>s(r,e,u,c))},[s,t]),{add:f,remove:s}};export{d as a,i as u};
