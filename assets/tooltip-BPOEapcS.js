import{j as r}from"./jsx-runtime-CfatFE5O.js";import{u as be}from"./index-D4SEQqYY.js";import{u as m}from"./index-DqeO0dAp.js";import{u as ge}from"./index-Y4TAv5_r.js";import{u as we}from"./index-CFtnIMNb.js";import{r as o}from"./index-ClcD9ViR.js";import{A as ye}from"./index-r0TXmcNt.js";import{P as Ce}from"./portal-ZwKcqPm6.js";import{s as d}from"./slide-fade-CQuVyWIS.js";import{s as Te}from"./scale-fade-DtFg8nlV.js";import{m as De}from"./forward-ref-2BKBy0Yi.js";import{u as ke}from"./use-component-style-fOirb5M1.js";import{o as Ee}from"./theme-provider-DSx3k1bh.js";import{E as _,a as je,h as u,F as z,b as N,c as Fe}from"./factory-Dfrbb1EY.js";import{m as Ie}from"./factory-DeSWW4o7.js";const Re=(f="scale",x)=>{const i={duration:x,enter:{visibility:"visible"},reverse:!0,transitionEnd:{exit:{visibility:"hidden"}}};switch(f){case"scale":return{...Te,custom:{...i,scale:.95}};case"top":return{...d,custom:{...i,offsetY:-16}};case"right":return{...d,custom:{...i,offsetX:16}};case"left":return{...d,custom:{...i,offsetX:-16}};case"bottom":return{...d,custom:{...i,offsetY:16}}}},W=De(({withPortal:f=!0,z:x,zIndex:i,portalProps:A,...S},B)=>{let[{z:L,zIndex:X,...Y},K]=ke("Tooltip",S),{className:M,animation:O,boundary:Z,children:b,closeDelay:g=0,closeOnClick:w,closeOnEsc:q=!0,closeOnMouseDown:G=!1,closeOnPointerDown:H=!1,closeOnScroll:J,defaultIsOpen:Q,defaultOpen:y,disabled:h,duration:U,eventListeners:V,flip:$,gutter:ee,isDisabled:oe,isOpen:te,label:P,matchWidth:ne,modifiers:re,offset:se,open:C,openDelay:T=0,placement:ie,preventOverflow:le,strategy:ce,onClose:ae,onOpen:ue,...pe}=Ee(K);const D=H||G,k=o.useId();C??(C=te),y??(y=Q),h??(h=oe);const{isOpen:t,onClose:E,onOpen:j}=be({defaultIsOpen:y,isOpen:C,onClose:ae,onOpen:ue}),s=o.useRef(null),l=o.useRef(),c=o.useRef(),{referenceRef:F,transformOrigin:me,getPopperProps:de}=we({boundary:Z,enabled:t,eventListeners:V,flip:$,gutter:ee,matchWidth:ne,modifiers:re,offset:se,placement:ie,preventOverflow:le,strategy:ce}),a=o.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=void 0),E()},[E]),p=o.useCallback(()=>{if(!h&&!l.current){t&&a();const e=_(s.current);l.current=e.setTimeout(j,T)}},[h,t,T,a,j]),n=o.useCallback(()=>{l.current&&(clearTimeout(l.current),l.current=void 0);const e=_(s.current);c.current=e.setTimeout(a,g)},[g,a]),I=o.useCallback(()=>t&&w?n():void 0,[t,w,n]),R=o.useCallback(()=>t&&D?n():void 0,[t,D,n]),fe=o.useCallback(e=>t&&e.key==="Escape"?n():void 0,[t,n]),xe=o.useCallback((e={},Oe=null)=>({...e,ref:je(s,Oe,F),onBlur:u(e.onBlur,n),onClick:u(e.onClick,I),onFocus:u(e.onFocus,p),onPointerDown:u(e.onPointerDown,R),onPointerEnter:u(e.onPointerEnter,p)}),[F,I,R,p,n]);if(m(()=>z(s.current),"keydown",e=>q?fe(e):void 0),m(()=>z(s.current),"scroll",()=>t&&J?a():void 0),m(()=>s.current,"pointerleave",e=>{e.pointerType!=="touch"&&n()}),m(()=>s.current,"touchstart",()=>{t?n():p()},{passive:!0}),ge({ref:s,handler:()=>{n()}}),o.useEffect(()=>()=>{clearTimeout(l.current),clearTimeout(c.current)},[]),!P)return r.jsx(r.Fragment,{children:b});const v=o.Children.only(b),he=o.cloneElement(v,xe({...v.props,"aria-describedby":k},v.ref)),Pe={position:"relative",...Y},ve=i??x??X??L;return r.jsxs(r.Fragment,{children:[he,r.jsx(N.span,{id:k,style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute",whiteSpace:"nowrap",width:"1px"},children:P}),r.jsx(ye,{children:t?r.jsx(Ce,{isDisabled:!f,...A,children:r.jsx(N.div,{...de(),pointerEvents:"none",zIndex:ve,children:r.jsx(Ie.div,{ref:B,className:Fe("ui-tooltip",M),style:{transformOrigin:me},role:"tooltip",...O!=="none"?Re(O,U):{},animate:"enter",exit:"exit",initial:"exit",__css:Pe,...pe,children:P})})}):null})]})});W.displayName="Tooltip";W.__ui__="Tooltip";export{W as T};
