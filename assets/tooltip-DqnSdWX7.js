import{j as r}from"./jsx-runtime-CfatFE5O.js";import{u as fe}from"./index-BcE809qD.js";import{u as m}from"./index-qyuJ8aiN.js";import{u as xe}from"./index-Blij8Q7p.js";import{u as he}from"./index-CYDuQAfY.js";import{r as o}from"./index-ClcD9ViR.js";import{A as Pe}from"./index-r0TXmcNt.js";import{P as Oe}from"./portal-CgvdJ0pj.js";import{s as d}from"./slide-fade-DzakJmAy.js";import{s as be}from"./scale-fade-DAfdo16Z.js";import{m as ge}from"./forward-ref-2BKBy0Yi.js";import{u as ve}from"./use-component-style-CLSKeq_H.js";import{o as we}from"./theme-provider-CNI9L2WW.js";import{y as z,a as Ce,h as u,z as _,b as N,c as ye}from"./factory-COau3w21.js";import{m as Te}from"./factory-ep9rrzy9.js";const De=(f="scale",x)=>{const i={duration:x,enter:{visibility:"visible"},reverse:!0,transitionEnd:{exit:{visibility:"hidden"}}};switch(f){case"scale":return{...be,custom:{...i,scale:.95}};case"top":return{...d,custom:{...i,offsetY:-16}};case"right":return{...d,custom:{...i,offsetX:16}};case"left":return{...d,custom:{...i,offsetX:-16}};case"bottom":return{...d,custom:{...i,offsetY:16}}}},A=ge(({withPortal:f=!0,z:x,zIndex:i,portalProps:S,...W},B)=>{let[{z:X,zIndex:Y,...K},L]=ve("Tooltip",W),{className:M,animation:b,children:g,closeDelay:v=0,closeOnClick:w,closeOnEsc:Z=!0,closeOnMouseDown:q=!1,closeOnPointerDown:G=!1,closeOnScroll:H,defaultIsOpen:J,defaultOpen:C,disabled:h,duration:Q,gutter:U,isDisabled:V,isOpen:$,label:P,modifiers:ee,offset:oe,open:y,openDelay:T=0,placement:te,onClose:ne,onOpen:re,...se}=we(L);const D=G||q,k=o.useId();y??(y=$),C??(C=J),h??(h=V);const{isOpen:t,onClose:E,onOpen:j}=fe({defaultIsOpen:C,isOpen:y,onClose:ne,onOpen:re}),s=o.useRef(null),l=o.useRef(),c=o.useRef(),{referenceRef:I,transformOrigin:ie,getPopperProps:le}=he({enabled:t,gutter:U,modifiers:ee,offset:oe,placement:te}),a=o.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=void 0),E()},[E]),p=o.useCallback(()=>{if(!h&&!l.current){t&&a();const e=z(s.current);l.current=e.setTimeout(j,T)}},[h,t,T,a,j]),n=o.useCallback(()=>{l.current&&(clearTimeout(l.current),l.current=void 0);const e=z(s.current);c.current=e.setTimeout(a,v)},[v,a]),R=o.useCallback(()=>t&&w?n():void 0,[t,w,n]),F=o.useCallback(()=>t&&D?n():void 0,[t,D,n]),ce=o.useCallback(e=>t&&e.key==="Escape"?n():void 0,[t,n]),ae=o.useCallback((e={},de=null)=>({...e,ref:Ce(s,de,I),onBlur:u(e.onBlur,n),onClick:u(e.onClick,R),onFocus:u(e.onFocus,p),onPointerDown:u(e.onPointerDown,F),onPointerEnter:u(e.onPointerEnter,p)}),[I,R,F,p,n]);if(m(()=>_(s.current),"keydown",e=>Z?ce(e):void 0),m(()=>_(s.current),"scroll",()=>t&&H?a():void 0),m(()=>s.current,"pointerleave",e=>{e.pointerType!=="touch"&&n()}),m(()=>s.current,"touchstart",()=>{t?n():p()},{passive:!0}),xe({ref:s,handler:()=>{n()}}),o.useEffect(()=>()=>{clearTimeout(l.current),clearTimeout(c.current)},[]),!P)return r.jsx(r.Fragment,{children:g});const O=o.Children.only(g),ue=o.cloneElement(O,ae({...O.props,"aria-describedby":k},O.ref)),pe={position:"relative",...K},me=i??x??Y??X;return r.jsxs(r.Fragment,{children:[ue,r.jsx(N.span,{id:k,style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute",whiteSpace:"nowrap",width:"1px"},children:P}),r.jsx(Pe,{children:t?r.jsx(Oe,{isDisabled:!f,...S,children:r.jsx(N.div,{...le(),pointerEvents:"none",zIndex:me,children:r.jsx(Te.div,{ref:B,className:ye("ui-tooltip",M),style:{transformOrigin:ie},role:"tooltip",...b!=="none"?De(b,Q):{},animate:"enter",exit:"exit",initial:"exit",__css:pe,...se,children:P})})}):null})]})});A.displayName="Tooltip";A.__ui__="Tooltip";export{A as T};
