import{u as fe}from"./index-B_fkAghs.js";import{u as de,a as pe,b as be}from"./index-D47CARfE.js";import{r}from"./index-BwDkhjyp.js";import{u as ge,f as ve}from"./form-control-k6ikkRb0.js";import{r as G,c as I,v as Ce,p as he}from"./number-CcP_arM8.js";import{V as Pe,k as J,f as Se,a as V,d as ye,h as D}from"./factory-uBtAHRUq.js";const De=({focusThumbOnChange:d=!0,...F})=>{d||(F.isReadOnly=!0);const{id:E,name:A,style:B,defaultValue:Q,max:l,min:c=0,step:T=1,thumbColor:U,value:W,onChange:Y,onChangeEnd:Z,onChangeStart:_,...ee}=ge(F),[{"aria-readonly":b,disabled:h,readOnly:P,required:$,onBlur:K,onFocus:z,...u},L]=Pe(ee,ve),te=J(_),S=J(Z),[ne,y]=fe({defaultValue:Q??c+(l-c)/2,value:W,onChange:Y}),a=I(ne,c,l),N=Ce(a,c,l),[j,q]=r.useState(!1),w=!(h||P),m=T||(l-c)/100,k=(l-c)/10,H=r.useRef(null),x=r.useRef(null),R=r.useRef(null),o=de({eventSource:null,focusThumbOnChange:d,isInteractive:w,max:l,min:c,step:T,value:a}),g=pe(R),oe=r.useCallback(e=>{var X;if(!x.current)return;const{max:t,min:n,step:s}=o.current;o.current.eventSource="pointer";const{left:f,width:ue}=x.current.getBoundingClientRect(),{clientX:ie}=((X=e.touches)==null?void 0:X[0])??e;let me=(ie-f)/ue,p=he(me,n,t);return s&&(p=parseFloat(G(p,n,s))),p=I(p,n,t),p},[o]),M=e=>{const{value:t}=o.current,n=oe(e);n!=null&&n!==t&&y(n)},re=r.useCallback(()=>{const{focusThumbOnChange:e}=o.current;e&&setTimeout(()=>{var t;return(t=R.current)==null?void 0:t.focus()})},[o]),i=r.useCallback(e=>{const{isInteractive:t,max:n,min:s}=o.current;t&&(e=parseFloat(G(e,s,m)),e=I(e,s,n),y(e))},[y,o,m]),v=r.useCallback((e=m)=>i(a+e),[i,a,m]),C=r.useCallback((e=m)=>i(a-e),[i,a,m]),O=r.useCallback(e=>{const{max:t,min:n}=o.current,f={ArrowDown:()=>C(),ArrowLeft:()=>C(),ArrowRight:()=>v(),ArrowUp:()=>v(),End:()=>i(t),Home:()=>i(n),PageDown:()=>C(k),PageUp:()=>v(k)}[e.key];f&&(e.preventDefault(),e.stopPropagation(),f(e),o.current.eventSource="keyboard")},[i,o,C,v,k]);be(H,{onMove:e=>{const{isInteractive:t}=o.current;t&&M(e)},onSessionEnd:()=>{const{isInteractive:e,value:t}=o.current;e&&(q(!1),S(t))},onSessionStart:e=>{const{isInteractive:t,value:n}=o.current;t&&(q(!0),re(),M(e),te(n))}}),Se(()=>{const{eventSource:e,value:t}=o.current;e==="keyboard"&&S(t)},[a,S]);const ae=r.useCallback((e={},t=null)=>{const{width:n}=g??{width:0},s={...e.style,...B,paddingInline:`${n/2}px`};return{...e,...u,...L,ref:V(t,H),style:s,tabIndex:-1}},[L,u,B,g]),se=r.useCallback((e={},t=null)=>({...u,"aria-readonly":b,...e,id:E,ref:t,type:"hidden",name:A,disabled:h,readOnly:P,required:$,value:a}),[b,h,u,E,A,P,$,a]),ce=r.useCallback((e={},t=null)=>({...u,...e,ref:V(t,x)}),[u]),le=r.useCallback((e={},t=null)=>{const n=N,{width:s}=g??{width:0},f={...e.style,left:`calc(${n}% - ${s/2}px)`,position:"absolute",touchAction:"none",userSelect:"none"};return{"aria-label":"Slider thumb",bg:U??`hsl(${a}, 100%, 50%)`,...u,"aria-readonly":b,...e,ref:V(t,R),style:f,"aria-valuemax":l,"aria-valuemin":c,"aria-valuenow":a,"data-active":ye(j&&d),role:"slider",tabIndex:w&&d?0:void 0,onBlur:D(e.onBlur,K),onFocus:D(e.onFocus,z),onKeyDown:D(e.onKeyDown,O)}},[N,g,U,a,u,b,w,d,c,l,j,O,z,K]);return{value:a,getContainerProps:ae,getInputProps:se,getThumbProps:le,getTrackProps:ce}};export{De as u};
