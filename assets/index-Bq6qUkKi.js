import{a as Q}from"./index-DX1ItL2L.js";import{r as e}from"./index-BwDkhjyp.js";import{H,a as V,d as S}from"./factory-DfCPDZht.js";const I=p=>{const{tagName:r,isContentEditable:b}=p.target;return r!=="INPUT"&&r!=="TEXTAREA"&&b!==!0},$=({ref:p,isDisabled:r,isFocusable:b,clickOnEnter:x=!0,clickOnSpace:g=!0,focusOnClick:N=!0,disableTouchBehavior:k=!0,onMouseDown:l,onMouseUp:n,onClick:C,onKeyDown:s,onKeyUp:c,tabIndex:A,onMouseOver:d,onMouseLeave:m,...h}={})=>{const[a,X]=e.useState(!0),[i,f]=e.useState(!1),u=Q(),j=a?A:A||0,E=r&&!b,y=t=>{t&&t.tagName!=="BUTTON"&&X(!1)},R=e.useCallback(t=>{if(r){t.stopPropagation(),t.preventDefault();return}N&&t.currentTarget.focus(),C==null||C(t)},[r,N,C]),P=e.useCallback(t=>{i&&I(t)&&(t.preventDefault(),t.stopPropagation(),f(!1),u.remove(document,"keyup",P,!1))},[i,u]),q=e.useCallback(t=>{s==null||s(t),!(r||t.defaultPrevented||t.metaKey)&&(!I(t.nativeEvent)||a||(g&&t.key===" "&&(t.preventDefault(),f(!0)),x&&t.key==="Enter"&&(t.preventDefault(),t.currentTarget.click()),u.add(document,"keyup",P,!1)))},[r,a,s,x,g,u,P]),z=e.useCallback(t=>{c==null||c(t),!(r||t.defaultPrevented||t.metaKey)&&(!I(t.nativeEvent)||a||g&&t.key===" "&&(t.preventDefault(),f(!1),t.currentTarget.click()))},[g,a,r,c]),T=e.useCallback(t=>{t.button===0&&(f(!1),u.remove(document,"mouseup",T,!1))},[u]),B=e.useCallback(t=>{if(t.button===0){if(r){t.stopPropagation(),t.preventDefault();return}a||f(!0),t.currentTarget.focus({preventScroll:!0}),u.add(document,"mouseup",T,!1),l==null||l(t)}},[r,a,l,u,T]),F=e.useCallback(t=>{t.button===0&&(a||f(!1),n==null||n(t))},[n,a]),G=e.useCallback(t=>{if(r){t.preventDefault();return}k&&H()||d==null||d(t)},[r,d,k]),J=e.useCallback(t=>{i&&(t.preventDefault(),f(!1)),!(k&&H())&&(m==null||m(t))},[i,m,k]);return a?{...h,ref:V(p,y),type:"button","aria-disabled":E?void 0:r,disabled:E,onClick:R,onMouseDown:l,onMouseUp:n,onKeyUp:c,onKeyDown:s,onMouseOver:d,onMouseLeave:m}:{...h,ref:V(p,y),role:"button","data-active":S(i),"aria-disabled":r?"true":void 0,tabIndex:E?void 0:j,onClick:R,onMouseDown:B,onMouseUp:F,onKeyUp:z,onKeyDown:q,onMouseOver:G,onMouseLeave:J}};export{$ as u};
