import{j as s}from"./extends-CwFRzn3r.js";import{u as pe}from"./index-D-4lT2qV.js";import{u as m}from"./index-B0m2v6ZY.js";import{u as me}from"./index-DgjEdtSN.js";import{u as de}from"./index-77iTaMYl.js";import{r as o}from"./index-BwDkhjyp.js";import{A as fe,m as xe}from"./factory-C2CyRybs.js";import{P as he}from"./portal-DN-k4ty5.js";import{s as d}from"./slide-fade-B4wNarDG.js";import{s as Pe}from"./scale-fade-C_FmqiN3.js";import{m as ge}from"./forward-ref-scR1bmHx.js";import{u as ve}from"./use-component-style-CYei-jGG.js";import{o as we}from"./theme-provider-V0oWEqA6.js";import{w as R,a as Oe,h as u,x as F,b as _,c as be}from"./factory-CsTAdKnO.js";const Ce=(f="scale",x)=>{const i={duration:x,enter:{visibility:"visible"},reverse:!0,transitionEnd:{exit:{visibility:"hidden"}}};switch(f){case"scale":return{...Pe,custom:{...i,scale:.95}};case"top":return{...d,custom:{...i,offsetY:-16}};case"right":return{...d,custom:{...i,offsetX:16}};case"left":return{...d,custom:{...i,offsetX:-16}};case"bottom":return{...d,custom:{...i,offsetY:16}}}},z=ge(({withPortal:f=!0,z:x,zIndex:i,portalProps:N,...A},S)=>{let[{z:W,zIndex:B,...X},Y]=ve("Tooltip",A);const{className:K,animation:g,children:v,closeDelay:w=0,closeOnClick:O,closeOnEsc:L=!0,closeOnMouseDown:M=!1,closeOnPointerDown:Z=!1,closeOnScroll:q,defaultIsOpen:G,duration:H,gutter:J,isDisabled:b,isOpen:Q,label:h,modifiers:U,offset:V,openDelay:C=0,placement:$,onClose:ee,onOpen:oe,...te}=we(Y),y=Z||M,T=o.useId(),{isOpen:t,onClose:D,onOpen:k}=pe({defaultIsOpen:G,isOpen:Q,onClose:ee,onOpen:oe}),r=o.useRef(null),c=o.useRef(),l=o.useRef(),{referenceRef:E,transformOrigin:ne,getPopperProps:se}=de({enabled:t,gutter:J,modifiers:U,offset:V,placement:$}),a=o.useCallback(()=>{l.current&&(clearTimeout(l.current),l.current=void 0),D()},[D]),p=o.useCallback(()=>{if(!b&&!c.current){t&&a();const e=R(r.current);c.current=e.setTimeout(k,C)}},[b,t,C,a,k]),n=o.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=void 0);const e=R(r.current);l.current=e.setTimeout(a,w)},[w,a]),j=o.useCallback(()=>t&&O?n():void 0,[t,O,n]),I=o.useCallback(()=>t&&y?n():void 0,[t,y,n]),re=o.useCallback(e=>t&&e.key==="Escape"?n():void 0,[t,n]),ie=o.useCallback((e={},ue=null)=>({...e,ref:Oe(r,ue,E),onBlur:u(e.onBlur,n),onClick:u(e.onClick,j),onFocus:u(e.onFocus,p),onPointerDown:u(e.onPointerDown,I),onPointerEnter:u(e.onPointerEnter,p)}),[E,j,I,p,n]);if(m(()=>F(r.current),"keydown",e=>L?re(e):void 0),m(()=>F(r.current),"scroll",()=>t&&q?a():void 0),m(()=>r.current,"pointerleave",e=>{e.pointerType!=="touch"&&n()}),m(()=>r.current,"touchstart",()=>{t?n():p()},{passive:!0}),me({ref:r,handler:()=>{n()}}),o.useEffect(()=>()=>{clearTimeout(c.current),clearTimeout(l.current)},[]),!h)return s.jsx(s.Fragment,{children:v});const P=o.Children.only(v),ce=o.cloneElement(P,ie({...P.props,"aria-describedby":T},P.ref)),le={position:"relative",...X},ae=i??x??B??W;return s.jsxs(s.Fragment,{children:[ce,s.jsx(_.span,{id:T,style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute",whiteSpace:"nowrap",width:"1px"},children:h}),s.jsx(fe,{children:t?s.jsx(he,{isDisabled:!f,...N,children:s.jsx(_.div,{...se(),pointerEvents:"none",zIndex:ae,children:s.jsx(xe.div,{ref:S,className:be("ui-tooltip",K),style:{transformOrigin:ne},role:"tooltip",...g!=="none"?Ce(g,H):{},animate:"enter",exit:"exit",initial:"exit",__css:le,...te,children:h})})}):null})]})});z.displayName="Tooltip";z.__ui__="Tooltip";export{z as T};
