import{r as u}from"./index-BwDkhjyp.js";import{k as m}from"./factory-CPqzzHTm.js";const w=(e={})=>{const[a,i]=u.useState(e.defaultIsOpen??!1),t=u.useRef(e.timing??"after"),s=m(e.onOpen),r=m(e.onClose),o=e.isOpen!==void 0,c=e.isOpen!==void 0?e.isOpen:a,f=u.useCallback(async(...n)=>{t.current==="before"&&await(s==null?void 0:s(...n)),o||i(!0),t.current==="after"&&await(s==null?void 0:s(...n))},[o,s,t]),l=u.useCallback(async(...n)=>{t.current==="before"&&await(r==null?void 0:r(...n)),o||i(!1),t.current==="after"&&await(r==null?void 0:r(...n))},[o,r,t]),b=u.useCallback((...n)=>c?l(...n):f(...n),[c,f,l]);return{isOpen:c,onOpen:f,onClose:l,onToggle:b}},C=({wasSelected:e,enabled:a,isSelected:i,mode:t="unmount"})=>!!(!a||i||t==="keepMounted"&&e);export{C as a,w as u};
