import{j as H}from"./extends-CwFRzn3r.js";import{r as k}from"./index-BwDkhjyp.js";import{c as ie,g as le}from"./_commonjsHelpers-BosuxZz1.js";import{u as Tt}from"./index-BaNhddRa.js";import{ah as ue,l as de,k as fe,f as $t,s as Wt,e as Et,h as yt,d as at,x as Ct,b as ot,c as Dt,j as he,g as Ft,ag as me,aw as Vt,R as Ut,a as Nt,A as Pt,C as ge,q as ye,ax as De}from"./factory-BjF4_dRw.js";import{u as be,o as pe}from"./theme-provider-CpaSpGZh.js";import{B as Lt}from"./button-y-1VIkvD.js";import{c as Kt}from"./icon-Dq9f0XvE.js";import{I as xe}from"./icon-button-BiKyozLB.js";import{a as we}from"./use-component-style-DVO-iEPi.js";var Bt={exports:{}},te;function _e(){return te||(te=1,function(t,n){(function(c,o){t.exports=o()})(ie,function(){var c=1e3,o=6e4,m=36e5,D="millisecond",b="second",M="minute",h="hour",g="day",p="week",d="month",v="quarter",x="year",S="date",W="Invalid Date",T=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,z={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var r=["th","st","nd","rd"],s=e%100;return"["+e+(r[(s-20)%10]||r[s]||r[0])+"]"}},J=function(e,r,s){var u=String(e);return!u||u.length>=r?e:""+Array(r+1-u.length).join(s)+e},j={s:J,z:function(e){var r=-e.utcOffset(),s=Math.abs(r),u=Math.floor(s/60),a=s%60;return(r<=0?"+":"-")+J(u,2,"0")+":"+J(a,2,"0")},m:function e(r,s){if(r.date()<s.date())return-e(s,r);var u=12*(s.year()-r.year())+(s.month()-r.month()),a=r.clone().add(u,d),y=s-a<0,f=r.clone().add(u+(y?-1:1),d);return+(-(u+(s-a)/(y?a-f:f-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:d,y:x,w:p,d:g,D:S,h,m:M,s:b,ms:D,Q:v}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return e===void 0}},R="en",A={};A[R]=z;var B="$isDayjsObject",E=function(e){return e instanceof l||!(!e||!e[B])},L=function e(r,s,u){var a;if(!r)return R;if(typeof r=="string"){var y=r.toLowerCase();A[y]&&(a=y),s&&(A[y]=s,a=y);var f=r.split("-");if(!a&&f.length>1)return e(f[0])}else{var Y=r.name;A[Y]=r,a=Y}return!u&&a&&(R=a),a||!u&&R},$=function(e,r){if(E(e))return e.clone();var s=typeof r=="object"?r:{};return s.date=e,s.args=arguments,new l(s)},i=j;i.l=L,i.i=E,i.w=function(e,r){return $(e,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var l=function(){function e(s){this.$L=L(s.locale,null,!0),this.parse(s),this.$x=this.$x||s.x||{},this[B]=!0}var r=e.prototype;return r.parse=function(s){this.$d=function(u){var a=u.date,y=u.utc;if(a===null)return new Date(NaN);if(i.u(a))return new Date;if(a instanceof Date)return new Date(a);if(typeof a=="string"&&!/Z$/i.test(a)){var f=a.match(T);if(f){var Y=f[2]-1||0,V=(f[7]||"0").substring(0,3);return y?new Date(Date.UTC(f[1],Y,f[3]||1,f[4]||0,f[5]||0,f[6]||0,V)):new Date(f[1],Y,f[3]||1,f[4]||0,f[5]||0,f[6]||0,V)}}return new Date(a)}(s),this.init()},r.init=function(){var s=this.$d;this.$y=s.getFullYear(),this.$M=s.getMonth(),this.$D=s.getDate(),this.$W=s.getDay(),this.$H=s.getHours(),this.$m=s.getMinutes(),this.$s=s.getSeconds(),this.$ms=s.getMilliseconds()},r.$utils=function(){return i},r.isValid=function(){return this.$d.toString()!==W},r.isSame=function(s,u){var a=$(s);return this.startOf(u)<=a&&a<=this.endOf(u)},r.isAfter=function(s,u){return $(s)<this.startOf(u)},r.isBefore=function(s,u){return this.endOf(u)<$(s)},r.$g=function(s,u,a){return i.u(s)?this[u]:this.set(a,s)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(s,u){var a=this,y=!!i.u(u)||u,f=i.p(s),Y=function(ct,Z){var tt=i.w(a.$u?Date.UTC(a.$y,Z,ct):new Date(a.$y,Z,ct),a);return y?tt:tt.endOf(g)},V=function(ct,Z){return i.w(a.toDate()[ct].apply(a.toDate("s"),(y?[0,0,0,0]:[23,59,59,999]).slice(Z)),a)},U=this.$W,X=this.$M,nt=this.$D,st="set"+(this.$u?"UTC":"");switch(f){case x:return y?Y(1,0):Y(31,11);case d:return y?Y(1,X):Y(0,X+1);case p:var I=this.$locale().weekStart||0,lt=(U<I?U+7:U)-I;return Y(y?nt-lt:nt+(6-lt),X);case g:case S:return V(st+"Hours",0);case h:return V(st+"Minutes",1);case M:return V(st+"Seconds",2);case b:return V(st+"Milliseconds",3);default:return this.clone()}},r.endOf=function(s){return this.startOf(s,!1)},r.$set=function(s,u){var a,y=i.p(s),f="set"+(this.$u?"UTC":""),Y=(a={},a[g]=f+"Date",a[S]=f+"Date",a[d]=f+"Month",a[x]=f+"FullYear",a[h]=f+"Hours",a[M]=f+"Minutes",a[b]=f+"Seconds",a[D]=f+"Milliseconds",a)[y],V=y===g?this.$D+(u-this.$W):u;if(y===d||y===x){var U=this.clone().set(S,1);U.$d[Y](V),U.init(),this.$d=U.set(S,Math.min(this.$D,U.daysInMonth())).$d}else Y&&this.$d[Y](V);return this.init(),this},r.set=function(s,u){return this.clone().$set(s,u)},r.get=function(s){return this[i.p(s)]()},r.add=function(s,u){var a,y=this;s=Number(s);var f=i.p(u),Y=function(X){var nt=$(y);return i.w(nt.date(nt.date()+Math.round(X*s)),y)};if(f===d)return this.set(d,this.$M+s);if(f===x)return this.set(x,this.$y+s);if(f===g)return Y(1);if(f===p)return Y(7);var V=(a={},a[M]=o,a[h]=m,a[b]=c,a)[f]||1,U=this.$d.getTime()+s*V;return i.w(U,this)},r.subtract=function(s,u){return this.add(-1*s,u)},r.format=function(s){var u=this,a=this.$locale();if(!this.isValid())return a.invalidDate||W;var y=s||"YYYY-MM-DDTHH:mm:ssZ",f=i.z(this),Y=this.$H,V=this.$m,U=this.$M,X=a.weekdays,nt=a.months,st=a.meridiem,I=function(Z,tt,q,ft){return Z&&(Z[tt]||Z(u,y))||q[tt].slice(0,ft)},lt=function(Z){return i.s(Y%12||12,Z,"0")},ct=st||function(Z,tt,q){var ft=Z<12?"AM":"PM";return q?ft.toLowerCase():ft};return y.replace(_,function(Z,tt){return tt||function(q){switch(q){case"YY":return String(u.$y).slice(-2);case"YYYY":return i.s(u.$y,4,"0");case"M":return U+1;case"MM":return i.s(U+1,2,"0");case"MMM":return I(a.monthsShort,U,nt,3);case"MMMM":return I(nt,U);case"D":return u.$D;case"DD":return i.s(u.$D,2,"0");case"d":return String(u.$W);case"dd":return I(a.weekdaysMin,u.$W,X,2);case"ddd":return I(a.weekdaysShort,u.$W,X,3);case"dddd":return X[u.$W];case"H":return String(Y);case"HH":return i.s(Y,2,"0");case"h":return lt(1);case"hh":return lt(2);case"a":return ct(Y,V,!0);case"A":return ct(Y,V,!1);case"m":return String(V);case"mm":return i.s(V,2,"0");case"s":return String(u.$s);case"ss":return i.s(u.$s,2,"0");case"SSS":return i.s(u.$ms,3,"0");case"Z":return f}return null}(Z)||f.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(s,u,a){var y,f=this,Y=i.p(u),V=$(s),U=(V.utcOffset()-this.utcOffset())*o,X=this-V,nt=function(){return i.m(f,V)};switch(Y){case x:y=nt()/12;break;case d:y=nt();break;case v:y=nt()/3;break;case p:y=(X-U)/6048e5;break;case g:y=(X-U)/864e5;break;case h:y=X/m;break;case M:y=X/o;break;case b:y=X/c;break;default:y=X}return a?y:i.a(y)},r.daysInMonth=function(){return this.endOf(d).$D},r.$locale=function(){return A[this.$L]},r.locale=function(s,u){if(!s)return this.$L;var a=this.clone(),y=L(s,u,!0);return y&&(a.$L=y),a},r.clone=function(){return i.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},e}(),w=l.prototype;return $.prototype=w,[["$ms",D],["$s",b],["$m",M],["$H",h],["$W",g],["$M",d],["$y",x],["$D",S]].forEach(function(e){w[e[1]]=function(r){return this.$g(r,e[0],e[1])}}),$.extend=function(e,r){return e.$i||(e(r,l,$),e.$i=!0),$},$.locale=L,$.isDayjs=E,$.unix=function(e){return $(1e3*e)},$.en=A[R],$.Ls=A,$.p={},$})}(Bt)),Bt.exports}var Me=_e();const O=le(Me),ae=(t,n)=>{const c=new Date(t),o=c.getDay()||7,m=n==="sunday",D=m?o:o-1;return(m&&o!==0||o!==1)&&c.setHours(-24*D),c},$e=(t,n)=>{const c=new Date(t),o=c.getDay(),m=n==="sunday",D=7-(m?o+1:o);return(m&&o!==6||o!==0)&&c.setDate(c.getDate()+D),c},ke=(t,n,c="dd")=>{let o=[];const m=ae(new Date,n);for(let D=0;D<7;D+=1){const b=O(m).locale(t).format(c);o=[...o,b],m.setDate(m.getDate()+1)}return o},Ce=(t,n)=>{const c=t.getMonth(),o=new Date(t.getFullYear(),c,1),m=new Date(t.getFullYear(),t.getMonth()+1,0),D=$e(m,n),b=ae(o,n),M=[];for(;b<=D;){const h=[];for(let g=0;g<7;g+=1)h.push(new Date(b)),b.setDate(b.getDate()+1);M.push(h)}return M},Se=t=>{const n=t-6;let c=[];for(let o=0;o<12;o+=1){const m=n+o;c=[...c,m]}return c},Ye=(t,n)=>{const c=new Date(1993,0,1);let o=[];for(let m=0;m<12;m+=1){const D=O(c).locale(t).format(n);o=[...o,D],c.setMonth(c.getMonth()+1)}return o},Rt=(t,n,c)=>t instanceof Date?O(t).locale(n).format(c):O(new Date(t,1,1)).locale(n).format(c),It=(t,n)=>(t==null?void 0:t.getFullYear())===(n==null?void 0:n.getFullYear())&&(t==null?void 0:t.getMonth())===(n==null?void 0:n.getMonth()),dt=(t,n)=>It(t,n)&&(t==null?void 0:t.getDate())===(n==null?void 0:n.getDate()),We=(t,n,c)=>{const o=n instanceof Date,m=c instanceof Date;if(!m&&!o)return!0;const D=o?He(t,n):!0;return(m?ve(t,c):!0)&&D},Yt=({date:t,minDate:n,maxDate:c})=>{const o=n instanceof Date,m=c instanceof Date;if(!m&&!o)return!0;const D=O(t).startOf("month"),b=O(t).endOf("month"),M=o?b.isAfter(n):!0;return(m?D.isBefore(c):!0)&&M},ee=(t,n="asc")=>n==="asc"?t.sort((c,o)=>O(c).isAfter(o,"day")?1:-1):t.sort((c,o)=>O(c).isBefore(o,"day")?1:-1),He=(t,n)=>(n instanceof Date||n instanceof O)&&(O(t).isSame(n)||Ot(t,n)),ve=(t,n)=>(n instanceof Date||n instanceof O)&&(O(t).isSame(n)||At(t,n)),Ot=(t,n)=>(n instanceof Date||n instanceof O)&&O(n).isBefore(t,"day"),At=(t,n)=>(n instanceof Date||n instanceof O)&&O(n).isAfter(t,"day"),jt=(t,n,c=!0)=>{let o,m;for(const D of t.current.keys())n(D)&&(o=D);if(typeof o=="number"){const D=t.current.get(o);m=D==null?void 0:D.current}else{const D=[...t.current.values()],b=D[0],M=D[D.length-1];m=c?b.current:M.current}m&&(m.focus(),m.tabIndex=0)},Gt=t=>{for(const[n,c]of t.current.entries())if(c.current?ue(c.current):!1)return n},ne=t=>[...t.current.keys()][0],se=t=>{const n=[...t.current.keys()];return n[n.length-1]},zt=t=>{for(const n of t.current.values())n.current&&(n.current.tabIndex=-1)},je=({minDate:t,maxDate:n,minTrulySelectStartDate:c,maxTrulySelectStartDate:o,startDate:m,endDate:D,maybeStartDate:b,maybeEndDate:M,excludeDate:h,disableOutsideDays:g,value:p,isOutside:d})=>Ot(p,n)||At(p,t)||Ot(p,b)&&At(p,o)&&!D||At(p,M)&&Ot(p,c)&&!m||!!(h!=null&&h(p))||!!g&&!!d,[Pe,mt]=de({strict:!1,name:"CalendarContext"}),Re=({type:t,defaultType:n,onChangeType:c,value:o,defaultValue:m,onChange:D,month:b,defaultMonth:M,onChangeMonth:h,firstDayOfWeek:g="monday",amountOfMonths:p=1,paginateBy:d=p,withWeekdays:v=!0,disableOutsideDays:x=!1,hiddenOutsideDays:S=!1,minDate:W,maxDate:T,locale:_,yearFormat:z="YYYY",monthFormat:J="MMM",weekdayFormat:j="dd",dateFormat:R="MMMM YYYY",weekendDays:A=[0,6],today:B=!1,excludeDate:E,holidays:L=[],typeRef:$,prevRef:i,nextRef:l,withHeader:w=!0,withControls:e=!0,withLabel:r=!0,maxSelectValues:s,minSelectValues:u,enableMultiple:a=!1,enableRange:y=!1,__selectType:f="date",...Y})=>{var ht,Mt;const{theme:V}=be();_??(_=((Mt=(ht=V.__config)==null?void 0:ht.date)==null?void 0:Mt.locale)??"en");const[U,X]=Tt({value:t,defaultValue:n??"date"}),nt=fe((G,Q,kt)=>{X(G),c==null||c(G,Q,kt)},[]),st=k.useRef(void 0),[I,lt]=Tt({value:o,defaultValue:m??(a||y?[]:void 0),onChange:D}),[ct,Z]=k.useState(void 0),tt=Wt(I),q=y&&tt,ft=tt||q?I.filter(Boolean):[];q&&(x=!1);const[it,bt]=Tt({value:b,defaultValue:()=>(!tt&&I?M??(M=new Date(new Date(I).setDate(1))):(tt||q)&&ft.length?M??(M=new Date(new Date(ft.at(-1)).setDate(1))):M??(M=new Date(new Date().setDate(1))),M),onChange:h,onUpdate:(G,Q)=>!dt(G,Q)}),Ht=it.getFullYear(),[pt,C]=k.useState(Ht),[P,F]=k.useState(pt),N=W instanceof Date?W.getFullYear():1,ut=T instanceof Date?T.getFullYear():1e4,et=Se(P),K=O(it).add(p,"months").toDate(),rt=O(it).subtract(1,"months").toDate(),xt=k.useRef(new Map),wt=k.useRef(new Map),gt=k.useRef(new Map);$t(()=>{if(M){if(q&&Wt(st.current)&&Wt(o)){const G=st.current.filter(Boolean),Q=o.filter(Boolean);G.length===1&&(!dt(G[0],Q[0])?Q[0]&&(M=new Date(new Date(Q[0]).setDate(1))):Q[1]&&(M=new Date(new Date(Q[1]).setDate(1))))}bt(M),C(M.getFullYear()),F(M.getFullYear()),st.current=o}},[o]),$t(()=>{if(!I||p>1||tt||q||!I)return;const G=I.getFullYear();U==="year"?(C(G),F(Q=>et.includes(G)?Q:G)):bt(I)},[I,p]),$t(()=>{q&&I.length!==1&&Z(void 0)},[q,I]),$t(()=>{f!=="year"&&(C(it.getFullYear()),F(it.getFullYear()))},[it.getFullYear()]),$t(()=>{switch(U){case"year":jt(xt,G=>pt===et[G]);break;case"month":jt(wt,G=>it.getFullYear()===pt&&it.getMonth()===G);break;default:jt(gt,G=>{const[,Q,kt]=G.split("-").map(Number);return tt?I==null?void 0:I.some(vt=>(vt==null?void 0:vt.getMonth())===Q&&vt.getDate()===kt):(I==null?void 0:I.getMonth())===Q&&(I==null?void 0:I.getDate())===kt});break}},[U]),$t(()=>{lt(o)},[o]);const _t=k.useCallback((G={},Q=null)=>({...Y,...G,ref:Q}),[Y]);return{type:U,setType:nt,value:I,setValue:lt,hoveredValue:ct,setHoveredValue:Z,year:pt,setYear:C,internalYear:P,setInternalYear:F,minYear:N,maxYear:ut,rangeYears:et,prevMonth:rt,nextMonth:K,minDate:W,maxDate:T,month:it,setMonth:bt,firstDayOfWeek:g,amountOfMonths:p,paginateBy:d,withWeekdays:v,withHeader:w,withControls:e,withLabel:r,disableOutsideDays:x,hiddenOutsideDays:S,locale:_,weekdayFormat:j,yearFormat:z,monthFormat:J,dateFormat:R,weekendDays:A,holidays:L,today:B,excludeDate:E,getContainerProps:_t,typeRef:$,prevRef:i,nextRef:l,yearRefs:xt,monthRefs:wt,dayRefs:gt,maxSelectValues:s,minSelectValues:u,__selectType:f,enableRange:y}},Fe=({index:t})=>{const{prevMonth:n,nextMonth:c,setMonth:o,setYear:m,setInternalYear:D,type:b,setType:M,paginateBy:h,minDate:g,maxDate:p,year:d,month:v,minYear:x,maxYear:S,rangeYears:W,amountOfMonths:T,typeRef:_,prevRef:z,nextRef:J,dayRefs:j}=mt(),R=k.useCallback(()=>{switch(b){case"month":M("year",d,v.getMonth());break;case"date":M("month",d,v.getMonth());break}},[v,M,b,d]),A=k.useCallback(()=>{switch(b){case"year":D(l=>l-12);break;case"month":m(l=>l-1);break;default:j.current.clear(),o(l=>O(l).subtract(h,"months").toDate());break}},[j,h,D,o,m,b]),B=k.useCallback(()=>{switch(b){case"year":D(l=>l+12);break;case"month":m(l=>l+1);break;default:j.current.clear(),o(l=>O(l).add(h,"months").toDate());break}},[j,h,D,o,m,b]);Et(_,R),Et(z,A),Et(J,B);const E=k.useCallback(l=>{const e={ArrowDown:R,ArrowLeft:()=>{(()=>{switch(b){case"year":return W[0]<=x;case"month":return d<=x;default:return!Yt({date:n,minDate:g,maxDate:p})}})()||A()},ArrowRight:()=>{(()=>{switch(b){case"year":return S<=W[W.length-1];case"month":return S<=d;default:return!Yt({date:c,minDate:g,maxDate:p})}})()||B()}}[l.key];e&&(l.preventDefault(),l.stopPropagation(),e(l))},[p,S,g,x,c,B,A,R,n,W,b,d]),L=k.useCallback((l={})=>({...l,onKeyDown:yt(E,l.onKeyDown)}),[E]),$=k.useCallback(({operation:l,...w})=>{const e=l==="prev",r=`Go to ${e?"previous":"next"} ${b==="date"?"month":"year"}`,s=(()=>{switch(b){case"year":return e?W[0]<=x:S<=W[W.length-1];case"month":return e?d<=x:S<=d;default:return typeof t!="number"?void 0:e?t!==0||!Yt({date:n,minDate:g,maxDate:p}):t+1!==T||!Yt({date:c,minDate:g,maxDate:p})}})();return{"aria-label":r,...w,onClick:yt(e?A:B,w.onClick),tabIndex:-1,"data-hidden":at(s),"data-disabled":at(s),"aria-disabled":Ct(s)}},[T,t,p,S,g,x,c,B,A,n,W,b,d]),i=k.useCallback((l={})=>({pointerEvents:b!=="year"?"auto":"none",...l,onClick:yt(l.onClick,R),tabIndex:t?-1:0,"aria-live":"polite"}),[t,R,b]);return{getContainerProps:L,getControlProps:$,getLabelProps:i}},qt=({className:t,index:n,label:c,controlProps:o,prevProps:m,nextProps:D,labelProps:b,...M})=>{const{type:h,withHeader:g,withControls:p,withLabel:d,styles:v}=mt(),{getContainerProps:x,getControlProps:S,getLabelProps:W}=Fe({index:n}),T={display:"flex",alignItems:"center",w:"100%",...v.header},{icon:_,...z}=b??{};return g?H.jsxs(ot.div,{className:Dt("ui-calendar__header",t),__css:T,...x(M),children:[p?H.jsx(Ae,{...S({operation:"prev",...o,...m})}):null,d?H.jsxs(Oe,{...W({...z}),children:[c,h!=="year"?he(_)?_:H.jsx(Ie,{..._}):null]}):null,p?H.jsx(Ne,{...S({operation:"next",...o,...D})}):null]}):null},Oe=({className:t,...n})=>{const{styles:c}=mt(),o={flex:1,h:"auto",fontSize:void 0,fontWeight:"normal",gap:1,...c.label};return H.jsx(Lt,{className:Dt("ui-calendar__header__label",t),variant:"ghost",__css:o,...n})},Ie=({className:t,...n})=>{const{styles:c}=mt(),o={...c.labelIcon};return H.jsx(Kt,{className:Dt("ui-calendar__header__label__icon",t),__css:o,...n})},Ae=({className:t,...n})=>H.jsx(re,{operation:"prev",className:Dt("ui-calendar__header__control--prev",t),icon:H.jsx(Kt,{__css:{transform:"rotate(90deg)"}}),...n}),Ne=({className:t,...n})=>H.jsx(re,{operation:"next",className:Dt("ui-calendar__header__control--next",t),icon:H.jsx(Kt,{__css:{transform:"rotate(-90deg)"}}),...n}),re=({className:t,operation:n,...c})=>{const{styles:o}=mt(),m={minW:"auto",h:"auto",...o.control,...o[n]};return H.jsx(xe,{className:Dt("ui-calendar__header__control",t),variant:"ghost",__css:m,...c})},Le=()=>{const{value:t,setValue:n,month:c,setMonth:o,weekendDays:m,minDate:D,maxDate:b,disableOutsideDays:M,hiddenOutsideDays:h,amountOfMonths:g,holidays:p,today:d,excludeDate:v,dayRefs:x,paginateBy:S,prevMonth:W,nextMonth:T,maxSelectValues:_,minSelectValues:z,enableRange:J,hoveredValue:j,setHoveredValue:R,locale:A,dateFormat:B}=mt(),E=k.useRef(null),L=c.getFullYear(),$=Wt(t),i=J&&$,l=i?ee(t.filter(Boolean)):[],w=$&&_===t.length,e=!!l[0]&&Ot(l[0],j),r=i?l[e?1:0]:void 0,s=i?l[e?0:1]:void 0,u=r??j,a=s??j,y=l.length>=1&&!!a,f=l.length===1,Y=g>=2,V=Ft(_)?O(e?a:u).subtract(_-1,"day").toDate():void 0,U=Ft(_)?O(e?a:u).add(_-1,"day").toDate():void 0,X=Ft(z)?O(e?a:u).subtract(z-1,"day").toDate():void 0,nt=Ft(z)?O(e?a:u).add(z-1,"day").toDate():void 0,st=Ft(_)&&Math.abs(O(r).diff(s,"day"))>=_,I=f||st?V:void 0,lt=f||st?U:void 0,ct=f||st?X:void 0,Z=f||st?nt:void 0,tt=k.useCallback((C,P,F)=>{var et;const[N,,ut]=((et=ne(x))==null?void 0:et.split("-").map(Number))??[];if(N===F&&F<ut){if(!Yt({date:W,minDate:D,maxDate:b}))return;x.current.clear(),o(K=>(E.current=K,O(K).subtract(S,"months").toDate()))}else{const K=x.current.get(`${C}-${P}-${F}`);K!=null&&K.current&&(f&&R(O(K.current.dataset.value).toDate()),K.current.focus(),K.current.tabIndex=0)}},[f,x,b,D,S,W,o,R]),q=k.useCallback((C,P,F)=>{var et;const[N,,ut]=((et=se(x))==null?void 0:et.split("-").map(Number))??[];if(N===C&&ut<F){if(!Yt({date:T,minDate:D,maxDate:b}))return;x.current.clear(),o(K=>(E.current=K,O(K).add(S,"months").toDate()))}else{const K=x.current.get(`${C}-${P}-${F}`);K!=null&&K.current&&(f&&R(O(K.current.dataset.value).toDate()),K.current.focus(),K.current.tabIndex=0)}},[f,x,b,D,T,S,o,R]),ft=k.useCallback(C=>{var ht,Mt;const[P,F,N]=(Gt(x)??"").split("-").map(Number),[ut,et,K]=((ht=ne(x))==null?void 0:ht.split("-").map(Number))??[],[rt,xt,wt]=((Mt=se(x))==null?void 0:Mt.split("-").map(Number))??[],_t={ArrowDown:()=>{const G=O(new Date(L,F)).endOf("month").date();N+7<=G&&q(P,F,N+7)},ArrowUp:()=>{const G=O(new Date(L,F)).startOf("month").date();N-7>=G&&q(P,F,N-7)},ArrowLeft:()=>{if(P!==ut)if(O(new Date(L,F)).startOf("month").date()<N)q(P,F,N-1);else{const Q=O(new Date(L,F)).subtract(1,"month").endOf("month").date();q(P-1,F-1,Q)}else tt(P,F,N-1)},ArrowRight:()=>{if(P!==rt){const G=O(new Date(L,F)).endOf("month").date();if(N<G)q(P,F,N+1);else{const Q=O(new Date(L,F)).add(1,"month").startOf("month").date();q(P+1,F+1,Q)}}else q(P,F,N+1)},Home:()=>tt(ut,et,K),End:()=>q(rt,xt,wt)}[C.key];_t&&(C.preventDefault(),C.stopPropagation(),zt(x),_t(C))},[x,q,tt,L]),it=k.useCallback((C,P)=>{C.preventDefault(),C.stopPropagation();const F=me(C);!F||Vt(F)||n(N=>Wt(N)?i?(N=N.filter(Boolean),N.length>=2?[P]:N.some(K=>dt(K,P))?[]:ee([...N,P])):N.some(et=>dt(et,P))?N.filter(et=>!dt(et,P)):[...N,P]:P)},[n,i]),bt=k.useCallback(C=>{f&&R(C)},[f,R]);$t(()=>{E.current instanceof Date&&(jt(x,()=>!1,E.current<c),E.current=null)},[c.getMonth()]),Ut(()=>{x.current.clear()});const Ht=k.useCallback(({month:C,...P})=>({role:"grid","aria-label":Rt(C,A,B),"aria-multiselectable":Ct($),...P,onKeyDown:yt(ft,P.onKeyDown)}),[ft,$,A,B]),pt=k.useCallback(({value:C,month:P,index:F,...N},ut=null)=>{const et=E.current instanceof Date,K=p.some(St=>dt(St,C)),rt=!It(P,C),xt=m.includes(C.getDay()),wt=h&&rt,gt=$?t.some(St=>dt(St,C)):dt(t,C),_t=gt&&(!Y||!rt),ht=$?t.some(St=>It(P,St)):It(P,t),Mt=d&&dt(new Date,C),Q=je({value:C,minDate:I??D,maxDate:lt??b,minTrulySelectStartDate:ct,maxTrulySelectStartDate:Z,maybeStartDate:u,maybeEndDate:a,startDate:r,endDate:s,isOutside:rt,excludeDate:v,disableOutsideDays:M})||!gt&&w,kt=C.getDate()===1,vt=!ht&&!rt&&kt||gt,Jt=i&&dt(u,C)&&!dt(a,C),Zt=i&&dt(a,C)&&!dt(u,C),oe=Jt&&(!Y||!rt),ce=Zt&&(!Y||!rt),Qt=y&&!dt(u,a)&&!wt&&We(C,u,a),Xt=`${F}-${C.getMonth()}-${C.getDate()}`;return rt||x.current.set(Xt,k.createRef()),{isSelected:gt,isWeekend:xt,isOutside:rt,isStart:Jt,isEnd:Zt,isBetween:Qt,isHidden:wt,ref:Nt(ut,rt?void 0:x.current.get(Xt)),...N,tabIndex:F||et?-1:vt?0:-1,"data-selected":at(_t),"data-outside":at(rt),"data-between":at(Qt),"data-start":at(oe),"data-end":at(ce),"data-holiday":at(K),"data-weekend":at(xt),"data-today":at(Mt),"data-value":C??"","data-disabled":at(Q),"aria-selected":Ct(_t),"aria-disabled":Ct(Q),onClick:yt(St=>it(St,C),N.onClick),onPointerEnter:yt(()=>bt(C),N.onPointerEnter)}},[p,m,h,$,t,Y,d,D,b,I,lt,ct,Z,r,s,v,M,w,i,u,a,y,x,it,bt]);return{getGridProps:Ht,getButtonProps:pt}},Te=({className:t,headerProps:n,tableProps:c,labelProps:o,controlProps:m,prevProps:D,nextProps:b,weekdayProps:M,dayProps:h,...g})=>{const{month:p,amountOfMonths:d,withWeekdays:v,firstDayOfWeek:x,locale:S,weekdayFormat:W,dateFormat:T,styles:_}=mt(),{getGridProps:z,getButtonProps:J}=Le(),{component:j=Ee,...R}=M??{},{component:A=Be,...B}=h??{},{thead:E,tbody:L,tr:$,th:i,td:l,...w}=c??{},e=k.useMemo(()=>ke(S,x,W),[x,S,W]),r=g.w??g.width,s=g.minW??g.minWidth,u=g.maxW??g.maxWidth,a=g.h??g.height,y=g.minH??g.minHeight,f=g.maxH??g.maxHeight;return H.jsx(H.Fragment,{children:Array(d).fill(0).map((Y,V)=>{var st,I,lt,ct,Z,tt,q,ft,it,bt,Ht,pt;const U=O(p).add(V,"months").toDate(),X=Ce(U,x),nt=Rt(U,S,T);return H.jsxs(ot.div,{__css:{..._.content},...Pt(g),children:[H.jsx(qt,{...n,label:nt,index:V,labelProps:o,controlProps:m,prevProps:D,nextProps:b}),H.jsxs(ot.table,{className:Dt("ui-calendar__month",t),__css:{w:((st=_.content)==null?void 0:st.w)??((I=_.content)==null?void 0:I.width),minW:((lt=_.content)==null?void 0:lt.minW)??((ct=_.content)==null?void 0:ct.minWidth),maxW:((Z=_.content)==null?void 0:Z.maxW)??((tt=_.content)==null?void 0:tt.maxWidth),h:((q=_.content)==null?void 0:q.h)??((ft=_.content)==null?void 0:ft.height),minH:((it=_.content)==null?void 0:it.minH)??((bt=_.content)==null?void 0:bt.minHeight),maxH:((Ht=_.content)==null?void 0:Ht.maxH)??((pt=_.content)==null?void 0:pt.maxHeight),..._.date},...z({month:U,...Pt({w:r,minW:s,maxW:u,h:a,minH:y,maxH:f,...w})}),children:[v?H.jsx(ot.thead,{...E,children:H.jsx(ot.tr,{__css:{..._.row},...$,children:e.map((C,P)=>H.jsx(ot.th,{__css:{fontWeight:"normal",..._.cell},...i,children:H.jsx(ot.div,{className:"ui-calendar__month__weekday",__css:{w:"100%",display:"flex",..._.weekday},...R,children:j({weekday:C,index:P})})},P))})}):null,H.jsx(ot.tbody,{...L,children:X.map((C,P)=>H.jsx(ot.tr,{__css:{..._.row},...$,children:C.map((F,N)=>{const{isSelected:ut,isWeekend:et,isOutside:K,isStart:rt,isEnd:xt,isBetween:wt,isHidden:gt,..._t}=J({...B,month:U,value:F,index:V}),ht=A({date:F,row:P,col:N,weekday:e[N],isSelected:ut,isWeekend:et,isOutside:K}),Mt=!ge(ht)&&!ye(ht)&&!De(ht),G={display:gt||!Mt?"none":"inline-flex",minW:"auto",h:"auto",p:0,fontSize:void 0,fontWeight:"normal",_ripple:{display:"block"},..._.day};return H.jsx(ot.td,{__css:{..._.cell},"data-start":at(rt),"data-end":at(xt),"data-between":at(wt),...l,children:H.jsx(Lt,{className:"ui-calendar__month__day",variant:"unstyled",__css:G,..._t,children:ht})},N)})},P))})]})]},V)})})},Ee=({weekday:t})=>H.jsx(ot.span,{className:"ui-calendar__month__weekday__label",children:t}),Be=({date:t})=>H.jsx(ot.span,{className:"ui-calendar__month__day__label",children:t.getDate()}),Ve=()=>{const{year:t,setYear:n,value:c,month:o,setMonth:m,setType:D,locale:b,yearFormat:M,monthFormat:h,minDate:g,maxDate:p,monthRefs:d,minYear:v,maxYear:x,__selectType:S}=mt(),W=Wt(c),T=k.useRef(null),_=Ye(b,h),z=Rt(t,b,M),J=k.useCallback(i=>{if(i<0){if(t<=v)return;n(l=>(T.current=l,l-1))}else{const l=d.current.get(i);l!=null&&l.current&&(l.current.focus(),l.current.tabIndex=0)}},[v,d,n,t]),j=k.useCallback(i=>{if(11<i){if(x<=t)return;n(l=>(T.current=l,l+1))}else{const l=d.current.get(i);l!=null&&l.current&&(l.current.focus(),l.current.tabIndex=0)}},[x,d,n,t]),R=k.useCallback(i=>{const l=Gt(d)??0,e={ArrowDown:()=>l+3<=11?j(l+3):{},ArrowUp:()=>l-3>=0?J(l-3):{},ArrowLeft:()=>J(l-1),ArrowRight:()=>j(l+1),Home:()=>J(0),End:()=>j(11)}[i.key];e&&(i.preventDefault(),i.stopPropagation(),zt(d),e(i))},[d,j,J]),A=k.useCallback((i,l)=>{i.preventDefault(),i.stopPropagation(),!Vt(i.target)&&(m(new Date(t,l,1)),D("date",t,l))},[t,m,D]),B=k.useCallback(()=>{var i;return S==="date"?o.getFullYear()===t:(W?(i=c[0])==null?void 0:i.getFullYear():c==null?void 0:c.getFullYear())===t},[S,W,o,c,t]),E=k.useCallback(i=>{var l;return S==="date"?o.getMonth()===i:(W?(l=c[0])==null?void 0:l.getMonth():c==null?void 0:c.getMonth())===i},[S,W,o,c]);$t(()=>{typeof T.current=="number"&&(jt(d,()=>!1,T.current<t),T.current=null)},[t]),Ut(()=>{d.current.clear()});const L=k.useCallback((i={})=>({role:"grid","aria-label":z,...i,onKeyDown:yt(R,i.onKeyDown)}),[z,R]),$=k.useCallback(({value:i,...l},w=null)=>{const e=typeof T.current=="number",r=B(),s=r&&E(i),u=!Yt({date:new Date(t,i),minDate:g,maxDate:p});d.current.set(i,k.createRef());let a=-1;return e?a=-1:(!r&&i===0||s)&&(a=0),{disabled:u,ref:Nt(w,d.current.get(i)),...l,tabIndex:a,"aria-selected":Ct(s),"data-selected":at(s),"data-disabled":at(u),"data-value":i??"","aria-disabled":Ct(u),onClick:yt(l.onClick,y=>A(y,i))}},[B,E,t,g,p,d,A]);return{label:z,rangeMonths:_,getGridProps:L,getButtonProps:$}},Ue=({className:t,headerProps:n,labelProps:c,controlProps:o,prevProps:m,nextProps:D,monthProps:b,monthGridProps:M,...h})=>{var B,E,L,$,i,l,w,e,r,s,u,a;const{year:g,styles:p}=mt(),{label:d,rangeMonths:v,getGridProps:x,getButtonProps:S}=Ve(),{component:W,...T}=b??{},_=h.w??h.width,z=h.minW??h.minWidth,J=h.maxW??h.maxWidth,j=h.h??h.height,R=h.minH??h.minHeight,A=h.maxH??h.maxHeight;return H.jsxs(ot.div,{__css:{...p.content},...Pt(h),children:[H.jsx(qt,{...n,label:d,labelProps:c,controlProps:o,prevProps:m,nextProps:D}),H.jsx(ot.div,{className:Dt("ui-calendar__month-list",t),__css:{w:((B=p.content)==null?void 0:B.w)??((E=p.content)==null?void 0:E.width),minW:((L=p.content)==null?void 0:L.minW)??(($=p.content)==null?void 0:$.minWidth),maxW:((i=p.content)==null?void 0:i.maxW)??((l=p.content)==null?void 0:l.maxWidth),h:((w=p.content)==null?void 0:w.h)??((e=p.content)==null?void 0:e.height),minH:((r=p.content)==null?void 0:r.minH)??((s=p.content)==null?void 0:s.minHeight),maxH:((u=p.content)==null?void 0:u.maxH)??((a=p.content)==null?void 0:a.maxHeight),display:"grid",...p.month},...x({...Pt({w:_,minW:z,maxW:J,h:j,minH:R,maxH:A}),...M}),children:v.map((y,f)=>H.jsx(Lt,{className:"ui-calendar__month-list__button",variant:"ghost",__css:{minW:"auto",h:"auto",p:0,fontSize:void 0,fontWeight:"normal",...p.button},...S({...T,value:f}),children:W?W({month:y,year:g,index:f}):y},f))})]})},Ke=()=>{const{locale:t,yearFormat:n,internalYear:c,setYear:o,setInternalYear:m,month:D,setMonth:b,setType:M,year:h,rangeYears:g,minYear:p,maxYear:d,yearRefs:v,value:x,__selectType:S}=mt(),W=Wt(x),T=k.useRef(null),_=k.useRef(null),z=Rt(g[0],t,n),J=Rt(g[g.length-1],t,n),j=`${z} - ${J}`,R=`From ${z} to ${J}`,A=k.useCallback(w=>{if(w<0){if(g[0]<=p)return;m(e=>(_.current=e,e-12))}else{const e=v.current.get(w);e!=null&&e.current&&(e.current.focus(),e.current.tabIndex=0)}},[p,g,m,v]),B=k.useCallback(w=>{if(11<w){if(d<=g[g.length-1])return;m(e=>(_.current=e,e+12))}else{const e=v.current.get(w);e!=null&&e.current&&(e.current.focus(),e.current.tabIndex=0)}},[d,g,m,v]),E=k.useCallback(w=>{const e=Gt(v)??0,s={ArrowDown:()=>e+4<=11?B(e+4):{},ArrowUp:()=>e-4>=0?A(e-4):{},ArrowLeft:()=>A(e-1),ArrowRight:()=>B(e+1),Home:()=>A(0),End:()=>B(11)}[w.key];s&&(w.preventDefault(),w.stopPropagation(),zt(v),s(w))},[B,A,v]),L=k.useCallback((w,e)=>{w.preventDefault(),w.stopPropagation(),!Vt(w.target)&&(o(e),b(r=>new Date(r.setFullYear(e))),M("month",e,D.getMonth()))},[D,b,M,o]),$=k.useCallback(w=>{var e;return S==="date"||S==="month"?h===w:(W?(e=x[0])==null?void 0:e.getFullYear():x==null?void 0:x.getFullYear())===w},[S,W,x,h]);$t(()=>{typeof _.current=="number"&&(jt(v,()=>!1,_.current<c),_.current=null)},[c]),Ut(()=>{v.current.clear()});const i=k.useCallback((w={},e=null)=>({ref:Nt(e,T),role:"grid","aria-label":R,...w,onKeyDown:yt(E,w.onKeyDown)}),[R,E]),l=k.useCallback(({value:w,index:e,...r},s=null)=>{const u=typeof _.current=="number",a=$(w),y=w<p||w>d;v.current.set(e,k.createRef());let f=-1;return u?f=-1:(!g.includes(h)&&g[0]===w||a)&&(f=0),{disabled:y,ref:Nt(s,v.current.get(e)),...r,tabIndex:f,"aria-selected":Ct(a),"data-selected":at(a),"data-value":w??"","data-disabled":at(y),"aria-disabled":Ct(y),onClick:yt(r.onClick,Y=>L(Y,w))}},[$,p,d,v,g,h,L]);return{label:j,rangeYears:g,getGridProps:i,getButtonProps:l}},Ge=({className:t,headerProps:n,labelProps:c,controlProps:o,prevProps:m,nextProps:D,yearProps:b,yearGridProps:M,...h})=>{var E,L,$,i,l,w,e,r,s,u,a,y;const{locale:g,yearFormat:p,styles:d}=mt(),{label:v,rangeYears:x,getGridProps:S,getButtonProps:W}=Ke(),{component:T,..._}=b??{},z=h.w??h.width,J=h.minW??h.minWidth,j=h.maxW??h.maxWidth,R=h.h??h.height,A=h.minH??h.minHeight,B=h.maxH??h.maxHeight;return H.jsxs(ot.div,{__css:{...d.content},...Pt(h),children:[H.jsx(qt,{...n,label:v,labelProps:c,controlProps:o,prevProps:m,nextProps:D}),H.jsx(ot.div,{className:Dt("ui-calendar__year-list",t),__css:{w:((E=d.content)==null?void 0:E.w)??((L=d.content)==null?void 0:L.width),minW:(($=d.content)==null?void 0:$.minW)??((i=d.content)==null?void 0:i.minWidth),maxW:((l=d.content)==null?void 0:l.maxW)??((w=d.content)==null?void 0:w.maxWidth),h:((e=d.content)==null?void 0:e.h)??((r=d.content)==null?void 0:r.height),minH:((s=d.content)==null?void 0:s.minH)??((u=d.content)==null?void 0:u.minHeight),maxH:((a=d.content)==null?void 0:a.maxH)??((y=d.content)==null?void 0:y.maxHeight),display:"grid",...d.year},...S({...Pt({w:z,minW:J,maxW:j,h:R,minH:A,maxH:B}),...M}),children:x.map((f,Y)=>H.jsx(Lt,{className:"ui-calendar__year-list__button",variant:"ghost",__css:{minW:"auto",h:"auto",p:0,fontSize:void 0,fontWeight:"normal",...d.button},...W({..._,value:f,index:Y}),children:T?T({year:f,index:Y}):Rt(f,g,p)},Y))})]})},ze=k.forwardRef((t,n)=>{const[c,o]=we("Calendar",t),{className:m,value:D,defaultValue:b,onChange:M,headerProps:h,tableProps:g,yearGridProps:p,monthGridProps:d,labelProps:v,controlProps:x,prevProps:S,nextProps:W,yearProps:T,monthProps:_,weekdayProps:z,dayProps:J,...j}=pe(o),{type:R,getContainerProps:A,...B}=Re({value:D,defaultValue:b,onChange:M,...j}),E={display:"flex",flexWrap:"wrap",alignItems:"flex-start",...c.container},L=j.w??j.width,$=j.minW??j.minWidth,i=j.maxW??j.maxWidth,l=j.h??j.height,w=j.minH??j.minHeight,e=j.maxH??j.maxHeight;return H.jsx(Pe,{value:{type:R,styles:c,...B},children:H.jsxs(ot.div,{className:Dt("ui-calendar",m),__css:E,...A({},n),children:[R==="year"?H.jsx(Ge,{headerProps:h,labelProps:v,controlProps:x,prevProps:S,nextProps:W,yearGridProps:p,yearProps:T,w:L,minW:$,maxW:i,h:l,minH:w,maxH:e}):null,R==="month"?H.jsx(Ue,{headerProps:h,labelProps:v,controlProps:x,prevProps:S,nextProps:W,monthGridProps:d,monthProps:_,w:L,minW:$,maxW:i,h:l,minH:w,maxH:e}):null,R==="date"?H.jsx(Te,{headerProps:h,tableProps:g,labelProps:v,controlProps:x,prevProps:S,nextProps:W,weekdayProps:z,dayProps:J,w:L,minW:$,maxW:i,h:l,minH:w,maxH:e}):null]})})});ze.displayName="Calendar";export{ze as C,At as a,dt as b,O as d,Ot as i,_e as r};
