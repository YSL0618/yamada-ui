import{j as g}from"./extends-CwFRzn3r.js";import{r as u}from"./index-BwDkhjyp.js";import{M as l,t as w,a as A}from"./utils-Bot02Mqw.js";import{A as H}from"./index-CGy0U2a3.js";import{m as I}from"./forward-ref-scR1bmHx.js";import{u as M}from"./use-component-style-DhRiPQIp.js";import{o as T}from"./theme-provider-Cr3m0r8P.js";import{m as R}from"./factory-CWrzRNZL.js";import{c as v,S as B}from"./factory-DBrfn43w.js";const E=s=>s!=null&&parseFloat(s.toString())>0,F={enter:({animationOpacity:s,delay:a,duration:i,endingHeight:n,enter:o,transition:e,transitionEnd:t}={})=>({...s?{opacity:1}:{},height:n,transition:w(e==null?void 0:e.enter)(a,i),transitionEnd:t==null?void 0:t.enter,...o}),exit:({animationOpacity:s,delay:a,duration:i,exit:n,startingHeight:o,transition:e,transitionEnd:t}={})=>({...s?{opacity:E(o)?1:0}:{},height:o,transition:A(e==null?void 0:e.exit)(a,i),transitionEnd:t==null?void 0:t.exit,...n})},D={animate:"enter",exit:"exit",initial:"exit",variants:F},y=I((s,a)=>{const[i,n]=M("Collapse",s);let{className:o,animationOpacity:e,delay:t,duration:r,endingHeight:_,isOpen:m,startingHeight:h,transition:c,transitionEnd:N,unmountOnExit:p,__css:S,...f}=T(n);const[x,C]=u.useState(!1);u.useEffect(()=>{B()&&C(!0)},[]);const O=m||p?"enter":"exit";m=p?m:!0;const P=u.useMemo(()=>x?c||{enter:{height:{duration:r??.3,ease:l.ease},opacity:{duration:r??.4,ease:l.ease}},exit:{height:{duration:r??.3,ease:l.ease},opacity:{duration:r??.4,ease:l.ease}}}:{enter:{duration:0}},[x,r,c]),d={animationOpacity:e,delay:t,duration:r,endingHeight:_,startingHeight:h,transition:P,transitionEnd:N},j={...i,...S};return g.jsx(H,{custom:d,initial:!1,children:m?g.jsx(R.div,{ref:a,className:v("ui-collapse",o),...f,...D,style:{overflow:"hidden",...f.style},animate:O,custom:d,initial:p?"exit":!1,__css:j}):null})});y.displayName="Collapse";y.__ui__="Collapse";export{y as C};
