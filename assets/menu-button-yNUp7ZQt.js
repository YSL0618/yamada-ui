import{j as o}from"./extends-CwFRzn3r.js";import{r as x}from"./index-BwDkhjyp.js";import{u as g,a as h,M as R}from"./menu-list-A8APzDVa.js";import{a as v}from"./popover-trigger-B7hqUX_i.js";import{c as C}from"./icon-DlOX_f12.js";import{f as d}from"./forward-ref-BWI-Phbn.js";import{e as K,b as w,c as D,d as k,h as F,Y as m}from"./factory-CTJ-ITwV.js";const _=d(({as:n,className:s,children:a,...e},l)=>{const{onKeyDownRef:f,onUpstreamRestoreFocus:p}=g()??{},{isOpen:r,onClose:j,onFocusFirstItem:c,onFocusLastItem:y,onOpen:t}=h(),I=x.useCallback(i=>{const u={ArrowDown:m(t,c),ArrowUp:m(t,y),Enter:m(t,c)}[i.key];u&&(i.preventDefault(),u())},[c,y,t]),M=x.useCallback(i=>{const u={ArrowLeft:r?m(p,j):void 0,ArrowRight:r?void 0:m(t,c)}[i.key];u&&(i.preventDefault(),u())},[r,t,c,p,j]);K(f,M);const A=x.useMemo(()=>n?w(n):B,[n]);return o.jsx(v,{children:o.jsx(A,{ref:l,className:D("ui-menu",s),"aria-expanded":r,"aria-haspopup":"menu",...e,"data-active":k(r),onKeyDown:F(e.onKeyDown,I),children:a})})}),B=d((n,s)=>{const{styles:a}=h(),e={alignItems:"center",appearance:"none",display:"inline-flex",outline:0,...a.button};return o.jsx(w.button,{ref:s,__css:e,...n})}),S=d(({className:n,children:s,icon:a,iconProps:e,innerProps:l,...f},p)=>o.jsxs(_,{ref:p,className:D("ui-menu__item-button",n),flex:"1",...f,children:[o.jsx(w.span,{as:"span",flex:"1",...l,children:s}),o.jsx(R,{...e,children:a??o.jsx(C,{fontSize:"1.5em",transform:"rotate(-90deg)"})})]}));export{_ as M,S as a};
