import{j as r}from"./extends-CwFRzn3r.js";import{u as ft}from"./index-BD-dMYlD.js";import{r as o}from"./index-BwDkhjyp.js";import{d as $,i as Ze,a as Ge,b as mt,C as Ct}from"./calendar-CPWu10P4.js";import{u as Pt}from"./index-CsH8woeS.js";import{u as kt}from"./index-Dbjktjet.js";import{u as ht}from"./index-VpCG-oEN.js";import{u as gt,f as _t}from"./form-control-DALmJTHd.js";import{u as yt,o as bt}from"./theme-provider-Cr3m0r8P.js";import{Y as Dt,X as vt,a8 as xt,al as It,Z as jt,a as te,h as K,d as Je,p as Ot,f as Qe,am as wt,b as U,c as q,B as Ft,q as Vt,j as Nt}from"./factory-DBrfn43w.js";import{P as Bt,b as St,a as Et}from"./popover-trigger-C4B9Wa4t.js";import{P as Rt}from"./portal-Dkok86ly.js";import{b as Tt,a as Mt}from"./icon-CVPWgGuL.js";import{f as ae}from"./forward-ref-BWI-Phbn.js";import{a as Ht}from"./use-component-style-DhRiPQIp.js";const zt=C=>{var Ue,qe;const{theme:p}=yt();let{id:s,type:m,allowInput:n=!0,allowInputBeyond:u=!1,amountOfMonths:c,animation:f,autoFocus:d=!0,boundary:P,calendarColorScheme:h,calendarSize:F,calendarVariant:V,closeDelay:N,closeOnBlur:D=!0,closeOnEsc:T=!0,dateFormat:M,defaultIsOpen:L,defaultMonth:H,defaultType:z,defaultValue:v,disableOutsideDays:x,duration:B=.2,enableMultiple:k,enableRange:S,eventListeners:E,excludeDate:t,firstDayOfWeek:i,flip:g,gutter:X,hiddenOutsideDays:ie,holidays:le,inputFormat:Z="YYYY/MM/DD",isLazy:ce,isOpen:et,lazyBehavior:ue,locale:R,matchWidth:de,maxDate:_,maxSelectValues:pe,minDate:y,minSelectValues:fe,modifiers:me,month:Ce,monthFormat:Pe,offset:ke,openDelay:he,paginateBy:ge,parseDate:G,pattern:tt=/[^0-9\-\/]/g,placement:_e="bottom-start",preventOverflow:ye,strategy:be,today:De,value:ve,weekdayFormat:xe,weekendDays:Ie,withControls:je,withHeader:Oe,withLabel:we,withWeekdays:Fe,yearFormat:Ve,calendarProps:Ne,onChange:Be,onChangeMonth:Se,onChangeType:Ee,onClear:J,onClose:at,onDelete:Re,onEnter:Te,onOpen:ot,__selectType:Me,...I}=gt(C);const nt=o.useId();s??(s=nt),R??(R=((qe=(Ue=p.__config)==null?void 0:Ue.date)==null?void 0:qe.locale)??"en");const{"aria-readonly":Kt,...j}=Dt(I,_t),[He,st]=vt(I,xt),{disabled:Y,readOnly:A}=j,{isOpen:l,onClose:O,onOpen:ze}=kt({defaultIsOpen:L,isOpen:et,onClose:at,onOpen:ot}),Q=o.useRef(null),W=o.useRef(null),rt=o.useCallback(e=>{let a=G==null?void 0:G(e);if(!a&&$(e).isValid()&&(a=$(e,Z,R).toDate()),a!=null&&!(t!=null&&t(a)))return u||(_&&Ze(a,_)&&(a=_),y&&Ge(a,y)&&(a=y)),a},[u,t,Z,R,_,y,G]),it=o.useCallback(e=>{if(e!=null&&!(t!=null&&t(e)))return u||(_&&Ze(e,_)&&(e=_),y&&Ge(e,y)&&(e=y)),$(e).locale(R).format(Z)},[u,t,Z,R,_,y]),b=o.useCallback(()=>{var e;Y||A||(ze(),d&&n&&((e=W.current)==null||e.focus()))},[d,n,Y,A,ze]),Ye=o.useCallback(()=>{var e;l?d&&n&&((e=W.current)==null||e.focus()):b()},[d,n,l,b]),Ae=o.useCallback(()=>{l||b()},[l,b]),Ke=o.useCallback(e=>{const a=It(e);jt(Q.current,a)||D&&l&&O()},[D,l,O]),Le=o.useCallback(e=>{if(e.key===" "&&(e.key=e.code),Y||A)return;const Xe={Backspace:Re,Enter:l?Te:w=>{w.preventDefault(),w.stopPropagation(),b()},Escape:T?w=>{w.preventDefault(),w.stopPropagation(),O()}:void 0,Space:l?void 0:w=>{w.preventDefault(),w.stopPropagation(),b()}}[e.key];Xe&&Xe(e)},[T,Y,A,l,O,Te,Re,b]),We=o.useCallback(e=>{var a;e.stopPropagation(),J==null||J(),d&&n&&l&&((a=W.current)==null||a.focus())},[d,n,l,J]);ht({ref:Q,enabled:l&&D,handler:O});const lt=o.useCallback((e={},a=null)=>({ref:te(Q,a),...He,...j,...e,onBlur:K(e.onBlur,I.onBlur,Ke),onClick:K(e.onClick,I.onClick,Ye)}),[He,j,Ke,Ye,I]),ct=o.useCallback(e=>({animation:f,boundary:P,closeDelay:N,duration:B,eventListeners:E,flip:g,gutter:X,isLazy:ce,lazyBehavior:ue,matchWidth:de,modifiers:me,offset:ke,openDelay:he,placement:_e,preventOverflow:ye,strategy:be,...e,closeOnBlur:!1,closeOnButton:!1,isOpen:l,trigger:"never",onClose:O,onOpen:b}),[f,P,N,B,E,g,X,ce,l,ue,de,me,ke,O,b,he,_e,ye,be]),ut=o.useCallback((e={},a=null)=>({"aria-controls":s,"aria-expanded":l,"aria-haspopup":"dialog","data-active":Je(l),"data-not-allowed":Je(!A&&!Y&&!n),role:"combobox",tabIndex:n?-1:0,...j,...e,ref:te(W,a),onFocus:K(e.onFocus,I.onFocus,Ae),onKeyDown:K(e.onKeyDown,I.onKeyDown,Le)}),[s,n,Y,A,j,l,I,Ae,Le]),dt=o.useCallback(e=>({...e,type:m,colorScheme:h,size:F,variant:V,amountOfMonths:c,dateFormat:M,defaultMonth:H,defaultType:z,disableOutsideDays:x,firstDayOfWeek:i,hiddenOutsideDays:ie,holidays:le,maxSelectValues:pe,minSelectValues:fe,month:Ce,monthFormat:Pe,paginateBy:ge,today:De,weekdayFormat:xe,weekendDays:Ie,withControls:je,withHeader:Oe,withLabel:we,withWeekdays:Fe,yearFormat:Ve,onChangeMonth:Se,onChangeType:Ee,...Ne,defaultValue:v,enableMultiple:k,enableRange:S,excludeDate:t,locale:R,maxDate:_,minDate:y,value:ve,onChange:Be,__selectType:Me}),[ie,pe,fe,k,S,c,h,Ne,F,V,M,H,z,v,x,t,i,le,R,_,y,Ce,Pe,Be,Se,Ee,ge,De,m,ve,xe,Ie,je,Oe,we,Fe,Ve,Me]),pt=o.useCallback(({clear:e,...a})=>({...a,...j,onClick:K(a.onClick,e?We:void 0)}),[j,We]);return{id:s,allowInput:n,containerRef:Q,dateToString:it,inputRef:W,isOpen:l,pattern:tt,stringToDate:rt,formControlProps:j,getCalendarProps:dt,getContainerProps:lt,getFieldProps:ut,getIconProps:pt,getPopoverProps:ct,inputProps:st,onClose:O,onOpen:b}},[Yt,oe]=Ot({name:"DatePickerContext",errorMessage:`useDatePickerContext returned is 'undefined'. Seems you forgot to wrap the components in "<DatePicker />"`}),At=({closeOnSelect:C=!0,defaultValue:p,placeholder:s,value:m,onChange:n,...u})=>{const[c,f]=Pt({defaultValue:p,value:m,onChange:n,onUpdate:(t,i)=>!mt(t,i)}),{id:d,allowInput:P,dateToString:h,inputRef:F,pattern:V,stringToDate:N,formControlProps:D,getCalendarProps:T,getContainerProps:M,getFieldProps:L,getIconProps:H,getPopoverProps:z,inputProps:v,onClose:x}=zt({...u,defaultValue:p,value:c,onChange:t=>{const i=h(t);f(t),k(i),C&&t&&x()},onClear:()=>{f(void 0),k(void 0)},onClose:()=>{var i;const t=h(c);k(t),(i=u.onClose)==null||i.call(u)}}),[B,k]=o.useState(h(c)),S=o.useCallback(t=>{let i=t.target.value;i=i.replace(V,"");const g=N(i);k(i),g&&$(g).isValid()?f(g):f(void 0)},[V,N,k,f]);Qe(()=>{f(m)},[m]),Qe(()=>{if(F.current&&wt(F.current))return;const t=h(c);k(t)},[c]);const E=o.useCallback((t={},i=null)=>{const g={...t.style,...v.style,...D.disabled||!P?{pointerEvents:"none"}:{}};return{id:d,autoComplete:"off",placeholder:s,tabIndex:P?0:-1,...D,...v,...t,ref:i,style:g,value:B??"",onChange:K(t.onChange,S)}},[v,P,s,D,d,B,S]);return{id:d,value:c,getCalendarProps:T,getContainerProps:M,getFieldProps:L,getIconProps:H,getInputProps:E,getPopoverProps:z,onClose:x}},$e=ae((C,p)=>{const[s,m]=Ht("DatePicker",C);let{className:n,children:u,color:c,h:f,height:d,isClearable:P=!0,minH:h,minHeight:F,clearIconProps:V,containerProps:N,contentProps:D,fieldProps:T,iconProps:M,inputProps:L,portalProps:H={isDisabled:!0},...z}=bt(m);const{id:v,value:x,getCalendarProps:B,getContainerProps:k,getFieldProps:S,getIconProps:E,getInputProps:t,getPopoverProps:i,onClose:g}=At(z);f??(f=d),h??(h=F);const X={color:c,h:"fit-content",w:"100%",...s.container};return r.jsx(Yt,{value:s,children:r.jsx(Bt,{...i(),children:r.jsxs(U.div,{className:q("ui-date-picker",n),__css:X,...k(N),children:[r.jsxs(U.div,{className:"ui-date-picker__inner",__css:{position:"relative",...s.inner},children:[r.jsx(ne,{...S({h:f,minH:h,...T},p),inputProps:t(L)}),P&&x?r.jsx(re,{...E({clear:!0,...V})}):r.jsx(ee,{...E({clear:!1,...M})})]}),r.jsx(Rt,{...H,children:r.jsxs(St,{id:v,as:"div",className:"ui-date-picker__content","aria-modal":"true",role:"dialog",__css:{...s.content},...D,children:[r.jsx(Ct,{className:"ui-date-picker__calendar",...B()}),Ft(u,{value:x,onClose:g})]})})]})})})});$e.displayName="DatePicker";$e.__ui__="DatePicker";const ne=ae(({className:C,h:p,minH:s,inputProps:m,...n},u)=>{const c=oe(),{ref:f,...d}=m??{},P={alignItems:"center",display:"flex",h:p,minH:s,pe:"2rem",...c.field};return r.jsx(Et,{children:r.jsx(U.div,{className:q("ui-date-picker__field",C),__css:P,...n,children:r.jsx(U.input,{ref:te(u,f),className:"ui-date-picker__field__input","aria-label":"Input date value",display:"inline-block",w:"100%",...d})})})});ne.displayName="DatePickerField";ne.__ui__="DatePickerField";const ee=ae(({className:C,children:p,__css:s,...m},n)=>{const c={alignItems:"center",cursor:"pointer",display:"inline-flex",justifyContent:"center",pointerEvents:"none",position:"absolute",top:"50%",transform:"translateY(-50%)",...oe().icon,...s},d=Vt(p).map(P=>o.cloneElement(P,{style:{color:"currentColor",maxHeight:"1em",maxWidth:"1em"},"aria-hidden":!0,focusable:!1}));return r.jsx(U.div,{ref:n,className:q("ui-date-picker__icon",C),__css:c,...m,children:Nt(p)?d:r.jsx(se,{})})});ee.displayName="DatePickerIcon";ee.__ui__="DatePickerIcon";const se=({className:C,...p})=>r.jsx(Tt,{className:q("ui-date-picker__icon__calendar",C),viewBox:"0 0 24 24",...p,children:r.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z",fill:"currentColor"})});se.displayName="DatePickerCalendarIcon";se.__ui__="DatePickerCalendarIcon";const re=({className:C,children:p,...s})=>{const m=o.useRef(null),n=oe(),u=s.disabled,c=ft({ref:m,isDisabled:u,...s});return r.jsx(ee,{className:q("ui-date-picker__icon--clear",C),"aria-label":"Clear value",__css:n.clearIcon,...c,children:p??r.jsx(Mt,{h:"0.5em",w:"0.5em"})})};re.displayName="DatePickerClearIcon";re.__ui__="DatePickerClearIcon";export{$e as D,Yt as a,ne as b,re as c,ee as d,oe as e,zt as u};
