import{j as r}from"./jsx-runtime-CfatFE5O.js";import{u as pt}from"./index-Ao7Zu0I0.js";import{r as a}from"./index-ClcD9ViR.js";import{d as Q,i as Ze,a as $e,b as dt,C as ft}from"./calendar-DaVEe8aC.js";import{u as mt}from"./index-BZgEUlQ7.js";import{u as Ct}from"./index-B5j6RQ3N.js";import{u as Pt}from"./index-vvrM3dVN.js";import{c as kt,f as ht}from"./form-control-DwB49xkU.js";import{u as gt,o as _t}from"./theme-provider-BzJf26st.js";import{_ as yt,Z as bt,am as Dt,$ as vt,h as A,b as ee,d as Ge,a9 as xt,p as It,f as Je,an as jt,a as W,c as U,q as Ot,j as wt,C as Ft}from"./factory-CsPvKZdD.js";import{a as Vt,P as Nt,b as St}from"./popover-trigger-D5Ix9XTE.js";import{b as Bt,a as Et}from"./icon-DQQopEtL.js";import{P as Rt}from"./portal-Chl-LWlv.js";import{f as te}from"./forward-ref-D13m8o2p.js";import{a as Tt}from"./use-component-style-DigxQCYK.js";const Mt=m=>{var We,Ue;const{theme:p}=gt();let{type:l,allowInput:o=!0,allowInputBeyond:d=!1,amountOfMonths:f,animation:c,autoFocus:s=!0,boundary:P,calendarColorScheme:C,calendarSize:D,calendarVariant:F,closeDelay:V,closeOnBlur:b=!0,closeOnEsc:R=!0,dateFormat:T,defaultIsOpen:K,defaultMonth:M,defaultType:H,defaultValue:v,disableOutsideDays:x,duration:N=.2,enableMultiple:k,enableRange:S,eventListeners:B,excludeDate:t,firstDayOfWeek:i,flip:h,gutter:q,hiddenOutsideDays:re,holidays:ie,inputFormat:Z="YYYY/MM/DD",isLazy:le,isOpen:Xe,lazyBehavior:ce,locale:E,matchWidth:ue,maxDate:g,maxSelectValues:pe,minDate:_,minSelectValues:de,modifiers:fe,month:me,monthFormat:Ce,offset:Pe,openDelay:ke,paginateBy:he,parseDate:$,pattern:et=/[^0-9\-\/]/g,placement:ge="bottom-start",preventOverflow:_e,strategy:ye,today:be,value:De,weekdayFormat:ve,weekendDays:xe,withControls:Ie,withHeader:je,withLabel:Oe,withWeekdays:we,yearFormat:Fe,calendarProps:Ve,onChange:Ne,onChangeMonth:Se,onChangeType:Be,onClear:G,onClose:tt,onDelete:Ee,onEnter:Re,onOpen:nt,__selectType:Te,...I}=kt(m);const{"aria-readonly":Yt,...j}=yt(I,ht),[Me,ot]=bt(I,xt),{isOpen:u,onClose:O,onOpen:He}=Ct({defaultIsOpen:K,isOpen:Xe,onClose:tt,onOpen:nt}),J=a.useRef(null),L=a.useRef(null),{disabled:z,readOnly:Y}=j;E??(E=((Ue=(We=p.__config)==null?void 0:We.date)==null?void 0:Ue.locale)??"en");const at=a.useCallback(e=>{let n=$==null?void 0:$(e);if(!n&&Q(e).isValid()&&(n=Q(e,Z,E).toDate()),n!=null&&!(t!=null&&t(n)))return d||(g&&Ze(n,g)&&(n=g),_&&$e(n,_)&&(n=_)),n},[d,t,Z,E,g,_,$]),st=a.useCallback(e=>{if(e!=null&&!(t!=null&&t(e)))return d||(g&&Ze(e,g)&&(e=g),_&&$e(e,_)&&(e=_)),Q(e).locale(E).format(Z)},[d,t,Z,E,g,_]),y=a.useCallback(()=>{var e;z||Y||(He(),s&&o&&((e=L.current)==null||e.focus()))},[s,o,z,Y,He]),ze=a.useCallback(()=>{var e;u?s&&o&&((e=L.current)==null||e.focus()):y()},[s,o,u,y]),Ye=a.useCallback(()=>{u||y()},[u,y]),Ae=a.useCallback(e=>{const n=Dt(e);vt(J.current,n)||b&&u&&O()},[b,u,O]),Ke=a.useCallback(e=>{if(e.key===" "&&(e.key=e.code),z||Y)return;const qe={Backspace:Ee,Enter:u?Re:w=>{w.preventDefault(),w.stopPropagation(),y()},Escape:R?w=>{w.preventDefault(),w.stopPropagation(),O()}:void 0,Space:u?void 0:w=>{w.preventDefault(),w.stopPropagation(),y()}}[e.key];qe&&qe(e)},[R,z,Y,u,O,Re,Ee,y]),Le=a.useCallback(e=>{var n;e.stopPropagation(),G==null||G(),s&&o&&u&&((n=L.current)==null||n.focus())},[s,o,u,G]);Pt({ref:J,enabled:u&&b,handler:O});const rt=a.useCallback((e={},n=null)=>({ref:ee(J,n),...Me,...j,...e,onBlur:A(e.onBlur,I.onBlur,Ae),onClick:A(e.onClick,I.onClick,ze)}),[Me,j,Ae,ze,I]),it=a.useCallback(e=>({animation:c,boundary:P,closeDelay:V,duration:N,eventListeners:B,flip:h,gutter:q,isLazy:le,lazyBehavior:ce,matchWidth:ue,modifiers:fe,offset:Pe,openDelay:ke,placement:ge,preventOverflow:_e,strategy:ye,...e,closeOnBlur:!1,closeOnButton:!1,isOpen:u,trigger:"never",onClose:O,onOpen:y}),[c,P,V,N,B,h,q,le,u,ce,ue,fe,Pe,O,y,ke,ge,_e,ye]),lt=a.useCallback((e={},n=null)=>({"aria-haspopup":"dialog","data-active":Ge(u),"data-not-allowed":Ge(!Y&&!z&&!o),role:"combobox",tabIndex:-1,...j,...e,ref:ee(L,n),onFocus:A(e.onFocus,I.onFocus,Ye),onKeyDown:A(e.onKeyDown,I.onKeyDown,Ke)}),[o,z,Y,j,u,I,Ye,Ke]),ct=a.useCallback(e=>({...e,type:l,colorScheme:C,size:D,variant:F,amountOfMonths:f,dateFormat:T,defaultMonth:M,defaultType:H,disableOutsideDays:x,firstDayOfWeek:i,hiddenOutsideDays:re,holidays:ie,maxSelectValues:pe,minSelectValues:de,month:me,monthFormat:Ce,paginateBy:he,today:be,weekdayFormat:ve,weekendDays:xe,withControls:Ie,withHeader:je,withLabel:Oe,withWeekdays:we,yearFormat:Fe,onChangeMonth:Se,onChangeType:Be,...Ve,defaultValue:v,enableMultiple:k,enableRange:S,excludeDate:t,locale:E,maxDate:g,minDate:_,value:De,onChange:Ne,__selectType:Te}),[re,pe,de,k,S,f,C,Ve,D,F,T,M,H,v,x,t,i,ie,E,g,_,me,Ce,Ne,Se,Be,he,be,l,De,ve,xe,Ie,je,Oe,we,Fe,Te]),ut=a.useCallback(({clear:e,...n})=>({...n,...j,onClick:A(n.onClick,e?Le:void 0)}),[j,Le]);return{allowInput:o,containerRef:J,dateToString:st,inputRef:L,isOpen:u,pattern:et,stringToDate:at,formControlProps:j,getCalendarProps:ct,getContainerProps:rt,getFieldProps:lt,getIconProps:ut,getPopoverProps:it,inputProps:ot,onClose:O,onOpen:y}},[Ht,ne]=It({name:"DatePickerContext",errorMessage:`useDatePickerContext returned is 'undefined'. Seems you forgot to wrap the components in "<DatePicker />"`}),zt=({closeOnSelect:m=!0,defaultValue:p,placeholder:l,value:o,onChange:d,...f})=>{const[c,s]=mt({defaultValue:p,value:o,onChange:d,onUpdate:(t,i)=>!dt(t,i)}),{allowInput:P,dateToString:C,inputRef:D,pattern:F,stringToDate:V,formControlProps:b,getCalendarProps:R,getContainerProps:T,getFieldProps:K,getIconProps:M,getPopoverProps:H,inputProps:v,onClose:x}=Mt({...f,defaultValue:p,value:c,onChange:t=>{const i=C(t);s(t),k(i),m&&t&&x()},onClear:()=>{s(void 0),k(void 0)},onClose:()=>{var i;const t=C(c);k(t),(i=f.onClose)==null||i.call(f)}}),[N,k]=a.useState(C(c)),S=a.useCallback(t=>{let i=t.target.value;i=i.replace(F,"");const h=V(i);k(i),h&&Q(h).isValid()?s(h):s(void 0)},[F,V,k,s]);Je(()=>{s(o)},[o]),Je(()=>{if(D.current&&jt(D.current))return;const t=C(c);k(t)},[c]);const B=a.useCallback((t={},i=null)=>{const h={...t.style,...v.style,...b.disabled||!P?{pointerEvents:"none"}:{}};return{autoComplete:"off",placeholder:l,tabIndex:P?0:-1,...b,...v,...t,ref:i,style:h,value:N??"",onChange:A(t.onChange,S)}},[v,P,l,b,N,S]);return{value:c,getCalendarProps:R,getContainerProps:T,getFieldProps:K,getIconProps:M,getInputProps:B,getPopoverProps:H,onClose:x}},Qe=te((m,p)=>{const[l,o]=Tt("DatePicker",m);let{className:d,children:f,color:c,h:s,height:P,isClearable:C=!0,minH:D,minHeight:F,clearIconProps:V,containerProps:b,contentProps:R,fieldProps:T,iconProps:K,inputProps:M,portalProps:H={isDisabled:!0},...v}=_t(o);const{value:x,getCalendarProps:N,getContainerProps:k,getFieldProps:S,getIconProps:B,getInputProps:t,getPopoverProps:i,onClose:h}=zt(v);s??(s=P),D??(D=F);const q={color:c,h:"fit-content",w:"100%",...l.container};return r.jsx(Ht,{value:l,children:r.jsx(Nt,{...i(),children:r.jsxs(W.div,{className:U("ui-date-picker",d),__css:q,...k(b),children:[r.jsxs(W.div,{className:"ui-date-picker__inner",__css:{position:"relative",...l.inner},children:[r.jsx(oe,{...S({h:s,minH:D,...T},p),inputProps:t(M)}),C&&x?r.jsx(se,{...B({clear:!0,...V})}):r.jsx(X,{...B({clear:!1,...K})})]}),r.jsx(Rt,{...H,children:r.jsxs(St,{as:"div",className:"ui-date-picker__content",__css:{...l.content},...R,children:[r.jsx(ft,{className:"ui-date-picker__calendar",...N()}),Ft(f,{value:x,onClose:h})]})})]})})})});Qe.displayName="DatePicker";Qe.__ui__="DatePicker";const oe=te(({className:m,h:p,minH:l,inputProps:o,...d},f)=>{const c=ne(),{ref:s,...P}=o??{},C={alignItems:"center",display:"flex",h:p,minH:l,pe:"2rem",...c.field};return r.jsx(Vt,{children:r.jsx(W.div,{className:U("ui-date-picker__field",m),__css:C,...d,children:r.jsx(W.input,{ref:ee(f,s),className:"ui-date-picker__field__input","aria-label":"Input date value",display:"inline-block",w:"100%",...P})})})});oe.displayName="DatePickerField";oe.__ui__="DatePickerField";const X=te(({className:m,children:p,__css:l,...o},d)=>{const c={alignItems:"center",cursor:"pointer",display:"inline-flex",justifyContent:"center",pointerEvents:"none",position:"absolute",top:"50%",transform:"translateY(-50%)",...ne().icon,...l},P=Ot(p).map(C=>a.cloneElement(C,{style:{color:"currentColor",maxHeight:"1em",maxWidth:"1em"},"aria-hidden":!0,focusable:!1}));return r.jsx(W.div,{ref:d,className:U("ui-date-picker__icon",m),__css:c,...o,children:wt(p)?P:r.jsx(ae,{})})});X.displayName="DatePickerIcon";X.__ui__="DatePickerIcon";const ae=({className:m,...p})=>r.jsx(Bt,{className:U("ui-date-picker__icon__calendar",m),viewBox:"0 0 24 24",...p,children:r.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z",fill:"currentColor"})});ae.displayName="DatePickerCalendarIcon";ae.__ui__="DatePickerCalendarIcon";const se=({className:m,children:p,...l})=>{const o=a.useRef(null),d=ne(),f=l.disabled,c=pt({ref:o,isDisabled:f,...l});return r.jsx(X,{className:U("ui-date-picker__icon--clear",m),"aria-label":"Clear value",__css:d.clearIcon,...c,children:p??r.jsx(Et,{h:"0.5em",w:"0.5em"})})};se.displayName="DatePickerClearIcon";se.__ui__="DatePickerClearIcon";export{Qe as D,Ht as a,oe as b,se as c,X as d,ne as e,Mt as u};
