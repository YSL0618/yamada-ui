import{u as de}from"./index-5_K1p_ZM.js";import{u as pe,a as be,b as ge}from"./index-k5AD2Mr8.js";import{r as s}from"./index-ClcD9ViR.js";import{c as Ce,f as ve}from"./form-control-BcwAaE7G.js";import{c as V,r as X,p as Pe,v as he}from"./number-CcP_arM8.js";import{Y as ye,k as J,f as Se,b as D,h as F,d as we}from"./factory-BPYpkDor.js";const Ee=({focusThumbOnChange:o=!0,...m})=>{o||(m.isReadOnly=!0);const{id:A,name:E,style:$,channel:B="hue",defaultValue:Q,max:u,min:c=0,step:T=1,thumbColor:U,value:W,onChange:Z,onChangeEnd:_,onChangeStart:ee,...te}=Ce(m),[{"aria-readonly":g,disabled:h,readOnly:y,required:K,onBlur:N,onFocus:z,...i},L]=ye(te,ve),ne=J(ee),S=J(_),[re,w]=de({defaultValue:Q??c+(u-c)/2,value:W,onChange:Z}),a=V(re,c,u),M=he(a,c,u),[Y,j]=s.useState(!1),x=!(h||y),d=T||(u-c)/100,k=(u-c)/10,q=s.useRef(null),R=s.useRef(null),I=s.useRef(null),r=pe({eventSource:null,focusThumbOnChange:o,isInteractive:x,max:u,min:c,step:T,value:a}),C=be(I),oe=s.useCallback(e=>{var O;if(!R.current)return;const{max:t,min:n,step:l}=r.current;r.current.eventSource="pointer";const{left:p,width:ie}=R.current.getBoundingClientRect(),{clientX:fe}=((O=e.touches)==null?void 0:O[0])??e;let me=(fe-p)/ie,b=Pe(me,n,t);return l&&(b=parseFloat(X(b,n,l))),b=V(b,n,t),b},[r]),G=e=>{const{value:t}=r.current,n=oe(e);n!=null&&n!==t&&w(n)},ae=s.useCallback(()=>{const{focusThumbOnChange:e}=r.current;e&&setTimeout(()=>{var t;return(t=I.current)==null?void 0:t.focus()})},[r]),f=s.useCallback(e=>{const{isInteractive:t,max:n,min:l}=r.current;t&&(e=parseFloat(X(e,l,d)),e=V(e,l,n),w(e))},[w,r,d]),v=s.useCallback((e=d)=>f(a+e),[f,a,d]),P=s.useCallback((e=d)=>f(a-e),[f,a,d]),H=s.useCallback(e=>{const{max:t,min:n}=r.current,p={ArrowDown:()=>P(),ArrowLeft:()=>P(),ArrowRight:()=>v(),ArrowUp:()=>v(),End:()=>f(t),Home:()=>f(n),PageDown:()=>P(k),PageUp:()=>v(k)}[e.key];p&&(e.preventDefault(),e.stopPropagation(),p(e),r.current.eventSource="keyboard")},[f,r,P,v,k]);ge(q,{onMove:e=>{const{isInteractive:t}=r.current;t&&G(e)},onSessionEnd:()=>{const{isInteractive:e,value:t}=r.current;e&&(j(!1),S(t))},onSessionStart:e=>{const{isInteractive:t,value:n}=r.current;t&&(j(!0),ae(),G(e),ne(n))}}),Se(()=>{const{eventSource:e,value:t}=r.current;e==="keyboard"&&S(t)},[a,S]);const se=s.useCallback((e={},t=null)=>{const{width:n}=C??{width:0},l={...e.style,...$,paddingInline:`${n/2}px`};return{...e,...i,...L,ref:D(t,q),style:l,tabIndex:-1}},[L,i,$,C]),le=s.useCallback((e={},t=null)=>({...i,"aria-readonly":g,...e,id:A,ref:t,type:"hidden",name:E,disabled:h,readOnly:y,required:K,value:a}),[g,h,i,A,E,y,K,a]),ce=s.useCallback((e={},t=null)=>({...i,...e,ref:D(t,R)}),[i]),ue=s.useCallback((e={},t=null)=>{const n=M,{width:l}=C??{width:0},p={...e.style,left:`calc(${n}% - ${l/2}px)`,position:"absolute",touchAction:"none",userSelect:"none"};return{"aria-label":"Slider thumb",bg:U??`hsl(${a}, 100%, 50%)`,...i,"aria-readonly":g,...e,ref:D(t,I),style:p,"aria-valuemax":u,"aria-valuemin":c,"aria-valuenow":a,"aria-valuetext":xe(B,a),"data-active":we(Y&&o),role:"slider",tabIndex:x&&o?0:void 0,onBlur:F(e.onBlur,N),onFocus:F(e.onFocus,z),onKeyDown:F(e.onKeyDown,H)}},[M,C,U,a,i,g,u,c,B,Y,o,x,N,z,H]);return{value:a,getContainerProps:se,getInputProps:le,getThumbProps:ue,getTrackProps:ce}},xe=(o,m)=>o==="hue"?`${m}Â°, ${ke(m)}`:`${m*100}%`,ke=o=>o<30||o>=330?"Red":o<90?"Yellow":o<150?"Green":o<210?"Cyan":o<270?"Blue":"Magenta";export{Ee as u};
