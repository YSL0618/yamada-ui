import{j as o}from"./extends-CwFRzn3r.js";import{r as f}from"./index-BwDkhjyp.js";import{u as C,a as h,M as K}from"./menu-list-DgXraQ2g.js";import{a as _}from"./popover-trigger-C4B9Wa4t.js";import{c as k}from"./icon-CVPWgGuL.js";import{f as d}from"./forward-ref-BWI-Phbn.js";import{e as F,b as w,a as B,c as D,d as E,h as U,_ as m}from"./factory-DBrfn43w.js";const L=d(({id:e,as:n,className:s,children:a,...p},l)=>{const{onKeyDownRef:x,onUpstreamRestoreFocus:j}=C()??{},{buttonRef:M,isOpen:r,onClose:y,onFocusFirstItem:c,onFocusLastItem:I,onOpen:t}=h(),R=f.useId();e??(e=R);const b=f.useCallback(u=>{const i={ArrowDown:m(t,c),ArrowUp:m(t,I),Enter:m(t,c)}[u.key];i&&(u.preventDefault(),i())},[c,I,t]),g=f.useCallback(u=>{const i={ArrowLeft:r?m(j,y):void 0,ArrowRight:r?void 0:m(t,c)}[u.key];i&&(u.preventDefault(),i())},[r,t,c,j,y]);F(x,g);const A=f.useMemo(()=>n?w(n):N,[n]);return o.jsx(_,{children:o.jsx(A,{id:e,ref:B(M,l),className:D("ui-menu",s),"aria-expanded":r,"aria-haspopup":"menu",...p,"data-active":E(r),onKeyDown:U(p.onKeyDown,b),children:a})})}),N=d((e,n)=>{const{styles:s}=h(),a={alignItems:"center",appearance:"none",display:"inline-flex",outline:0,...s.button};return o.jsx(w.button,{ref:n,__css:a,...e})}),H=d(({className:e,children:n,icon:s,iconProps:a,innerProps:p,...l},x)=>o.jsxs(L,{ref:x,className:D("ui-menu__item-button",e),flex:"1",...l,children:[o.jsx(w.span,{as:"span",flex:"1",...p,children:n}),o.jsx(K,{...a,children:s??o.jsx(k,{fontSize:"1.5em",transform:"rotate(-90deg)"})})]}));export{L as M,H as a};
