import{r as f}from"./index-BwDkhjyp.js";import{k as E}from"./factory-BjF4_dRw.js";const i=(s,t,o,r)=>{const n=E(o);return f.useEffect(()=>{const e=typeof s=="function"?s():s??document;if(!(!o||!e))return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}},[t,s,r,n,o]),()=>{const e=typeof s=="function"?s():s??document;e==null||e.removeEventListener(t,n,r)}},L=()=>{const s=f.useRef(new Map),t=s.current,o=f.useCallback((n,e,c,u)=>{s.current.set(c,{event:e,el:n,options:u}),n.addEventListener(e,c,u)},[]),r=f.useCallback((n,e,c,u)=>{n.removeEventListener(e,c,u),s.current.delete(c)},[]);return f.useEffect(()=>()=>{t.forEach(({el:n,event:e,options:c},u)=>r(n,e,u,c))},[r,t]),{add:o,remove:r}};export{L as a,i as u};
