import{j as d}from"./extends-CwFRzn3r.js";import{r}from"./index-BwDkhjyp.js";import{i as D,v as K,u as W,m as L,h as y,a as X,d as f,b as I,c as Y}from"./factory-DfCPDZht.js";import{f as N}from"./forward-ref-BWI-Phbn.js";import{u as B}from"./use-component-style-D0DGb12b.js";import{o as F}from"./theme-provider-Bw55Thfs.js";const G={scrollbarWidth:"none",_scrollbar:{display:"none"},"&::-webkit-scrollbar":{display:"none"}},J={_scrollbarTrack:{bg:"transparent"},"&::-webkit-scrollbar-track":{bg:"transparent"},_scrollbarThumb:{bg:"transparent"},"&::-webkit-scrollbar-thumb":{bg:"transparent"},_light:{_scrollbarTrack:{bg:"transparent"},"&::-webkit-scrollbar-track":{bg:"transparent"},_scrollbarThumb:{bg:"transparent"},"&::-webkit-scrollbar-thumb":{bg:"transparent"}},_dark:{_scrollbarTrack:{bg:"transparent"},"&::-webkit-scrollbar-track":{bg:"transparent"},_scrollbarThumb:{bg:"transparent"},"&::-webkit-scrollbar-thumb":{bg:"transparent"}},"@-moz-document url-prefix()":{scrollbarColor:"transparent transparent",_light:{scrollbarColor:"transparent transparent"},_dark:{scrollbarColor:"transparent transparent"}}},er=N((v,a)=>{const[o,g]=B("ScrollArea",v),{type:e="hover",overflow:T="overlay",scrollHideDelay:c=1e3,onScrollPositionChange:u,...n}=F(g),[l,S]=r.useState(!1),[t,x]=r.useState(!1),_=e==="always",w=e==="never",M=D()&&K(/apple/i),i=r.useRef(void 0),b=r.useRef(void 0),m=r.useRef(null),p=r.useRef({x:0,y:0});W(()=>{!m.current||!M||(m.current.scrollLeft=p.current.x,m.current.scrollTop=p.current.y)});const E=r.useCallback(()=>{e==="hover"&&(clearTimeout(i.current),S(!0))},[e]),R=r.useCallback(()=>{e==="hover"&&(i.current=setTimeout(()=>S(!1),c))},[c,e]),A=r.useCallback(s=>{const P=s.target,{scrollLeft:h,scrollTop:k}=P,{x:$,y:q}=p.current,z=Math.abs(h-$)<=5&&Math.abs(k-q)<=5;u==null||u({x:h,y:k}),p.current={x:h,y:k},!(e!=="scroll"||z)&&(t||x(!0),clearTimeout(b.current),b.current=setTimeout(()=>x(!1),c))},[t,u,c,e]);r.useEffect(()=>()=>{i.current&&clearTimeout(i.current),b.current&&clearTimeout(b.current)},[]);const j=r.useMemo(()=>{const s={overflow:T,...o};return w?L(s,G):L(s,!_&&!l&&!t?J:{})},[_,l,w,t,T,o]),C=r.useMemo(()=>({__css:j,...n,onMouseEnter:y(n.onMouseEnter,E),onMouseLeave:y(n.onMouseLeave,R),onScroll:y(n.onScroll,A)}),[j,E,R,A,n]);if(M){const s=`${l}-${t}`;return d.jsx(H,{ref:X(a,m),"data-key":s,"data-hovered":f(l),"data-scrolling":f(t),...C},s)}else return d.jsx(H,{ref:a,"data-hovered":f(l),"data-scrolling":f(t),...C})}),H=N(({className:v,innerProps:a,children:o,...g},e)=>d.jsx(I.div,{ref:e,className:Y("ui-scroll-area",v),tabIndex:0,...g,children:a?d.jsx(I.div,{className:"ui-scroll-area__inner",...a,children:o}):o}));export{er as S};
