import{r as $}from"./index-BwDkhjyp.js";import{T as j,l as k,n as p,m as C,s as M}from"./factory-BgMvz7NM.js";const g=(s,e)=>`${s}-${e}`,y=(s,e,c=g)=>{const n=$.useContext(j);return $.useMemo(()=>R(s,e,c)(n),[s,e,c,n])},R=(s,e,c=g)=>n=>{const r=new Map,l={};if(!n.__breakpoints)return[[],l];const{isResponsive:h}=n.__breakpoints,V=k(s,{separator:"$$",shouldProcess:m=>!h(m)});return Object.entries(V).forEach(([m,t],x)=>{const d=m.split("$$");if(!d.some(o=>e.includes(o)))return;const a=d.at(-1),b=d.slice(0,-1);if(r.has(a)){const o=r.get(a);if(!o)return;const i=b.reduceRight((f,u)=>({[u]:f}),p(t)?t:{base:t});t=C(o.value,i),r.set(a,{...o,value:t})}else{const o=c(a,x),i=M[a],f=p(i)?i.token:void 0;t={base:void 0,...b.reduceRight((O,_)=>({[_]:O}),p(t)?t:{base:t})},r.set(a,{name:o,token:f,value:t}),l[a]=`$${o}`}}),[[...r.values()],l]},B=(...s)=>s.filter(Boolean).flatMap(e=>e);export{B as m,y as u};
