import{j as r}from"./jsx-runtime-CfatFE5O.js";import{u as pe}from"./index-BcE809qD.js";import{u as m}from"./index-qyuJ8aiN.js";import{u as me}from"./index-Blij8Q7p.js";import{u as fe}from"./index-CYDuQAfY.js";import{r as o}from"./index-ClcD9ViR.js";import{A as de}from"./index-r0TXmcNt.js";import{P as xe}from"./portal-CgvdJ0pj.js";import{s as f}from"./slide-fade-CGUrMJaL.js";import{s as he}from"./scale-fade-CFljfXl2.js";import{m as Pe}from"./forward-ref-2BKBy0Yi.js";import{u as ge}from"./use-component-style-CLSKeq_H.js";import{o as ve}from"./theme-provider-CNI9L2WW.js";import{y as R,a as Oe,h as u,z as F,b as z,c as be}from"./factory-COau3w21.js";import{m as we}from"./factory-ep9rrzy9.js";const Ce=(d="scale",x)=>{const i={duration:x,enter:{visibility:"visible"},reverse:!0,transitionEnd:{exit:{visibility:"hidden"}}};switch(d){case"scale":return{...he,custom:{...i,scale:.95}};case"top":return{...f,custom:{...i,offsetY:-16}};case"right":return{...f,custom:{...i,offsetX:16}};case"left":return{...f,custom:{...i,offsetX:-16}};case"bottom":return{...f,custom:{...i,offsetY:16}}}},_=Pe(({withPortal:d=!0,z:x,zIndex:i,portalProps:N,...A},S)=>{let[{z:W,zIndex:B,...X},Y]=ge("Tooltip",A);const{className:K,animation:g,children:v,closeDelay:O=0,closeOnClick:b,closeOnEsc:L=!0,closeOnMouseDown:M=!1,closeOnPointerDown:Z=!1,closeOnScroll:q,defaultIsOpen:G,duration:H,gutter:J,isDisabled:w,isOpen:Q,label:h,modifiers:U,offset:V,openDelay:C=0,placement:$,onClose:ee,onOpen:oe,...te}=ve(Y),y=Z||M,T=o.useId(),{isOpen:t,onClose:D,onOpen:k}=pe({defaultIsOpen:G,isOpen:Q,onClose:ee,onOpen:oe}),s=o.useRef(null),c=o.useRef(),l=o.useRef(),{referenceRef:E,transformOrigin:ne,getPopperProps:re}=fe({enabled:t,gutter:J,modifiers:U,offset:V,placement:$}),a=o.useCallback(()=>{l.current&&(clearTimeout(l.current),l.current=void 0),D()},[D]),p=o.useCallback(()=>{if(!w&&!c.current){t&&a();const e=R(s.current);c.current=e.setTimeout(k,C)}},[w,t,C,a,k]),n=o.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=void 0);const e=R(s.current);l.current=e.setTimeout(a,O)},[O,a]),j=o.useCallback(()=>t&&b?n():void 0,[t,b,n]),I=o.useCallback(()=>t&&y?n():void 0,[t,y,n]),se=o.useCallback(e=>t&&e.key==="Escape"?n():void 0,[t,n]),ie=o.useCallback((e={},ue=null)=>({...e,ref:Oe(s,ue,E),onBlur:u(e.onBlur,n),onClick:u(e.onClick,j),onFocus:u(e.onFocus,p),onPointerDown:u(e.onPointerDown,I),onPointerEnter:u(e.onPointerEnter,p)}),[E,j,I,p,n]);if(m(()=>F(s.current),"keydown",e=>L?se(e):void 0),m(()=>F(s.current),"scroll",()=>t&&q?a():void 0),m(()=>s.current,"pointerleave",e=>{e.pointerType!=="touch"&&n()}),m(()=>s.current,"touchstart",()=>{t?n():p()},{passive:!0}),me({ref:s,handler:()=>{n()}}),o.useEffect(()=>()=>{clearTimeout(c.current),clearTimeout(l.current)},[]),!h)return r.jsx(r.Fragment,{children:v});const P=o.Children.only(v),ce=o.cloneElement(P,ie({...P.props,"aria-describedby":T},P.ref)),le={position:"relative",...X},ae=i??x??B??W;return r.jsxs(r.Fragment,{children:[ce,r.jsx(z.span,{id:T,style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute",whiteSpace:"nowrap",width:"1px"},children:h}),r.jsx(de,{children:t?r.jsx(xe,{isDisabled:!d,...N,children:r.jsx(z.div,{...re(),pointerEvents:"none",zIndex:ae,children:r.jsx(we.div,{ref:S,className:be("ui-tooltip",K),style:{transformOrigin:ne},role:"tooltip",...g!=="none"?Ce(g,H):{},animate:"enter",exit:"exit",initial:"exit",__css:le,...te,children:h})})}):null})]})});_.displayName="Tooltip";_.__ui__="Tooltip";export{_ as T};
