import{j as c}from"./jsx-runtime-Nms4Y4qS.js";import{t as ce}from"./index-CIAQ5aMs.js";import{r as t}from"./index-BwDkhjyp.js";import{u as ie}from"./index-JO6qx1eo.js";import{a as ee,u as le,f as ue}from"./form-control-Cvo0pEjR.js";import{A as de,m as T}from"./factory-uWFUvYzf.js";import{a as he}from"./use-component-style-Bx1vUO5y.js";import{o as pe}from"./theme-provider-jP6jS-pg.js";import{k as N,l as fe,t as ke,c as se,F as Y,V as me,b as L,S as Ce,u as V,f as xe,a as Z,d as j,h as m}from"./factory-C2Uq3ahE.js";import{F as be}from"./flex-DUnpOgsS.js";const $=s=>s&&Y(s)&&Y(s.target),ge=({value:s,defaultValue:v=[],onChange:_,isNative:C,...i})=>{const u=N(_),[n,b]=ie({value:s,defaultValue:v,onChange:u}),a=t.useCallback(o=>{const r=$(o)?o.target.checked:!n.includes(o),l=$(o)?o.target.value:o,E=r?[...n,l]:n.filter(D=>String(D)!==String(l));b(E)},[n,b]),y=t.useCallback((o={},r=null)=>({role:"group",...o,ref:r}),[]),P=t.useCallback((o,r=null)=>({...o,ref:r,[C?"checked":"isChecked"]:n.some(l=>String(o==null?void 0:o.value)===String(l)),onChange:a}),[a,C,n]);return{props:i,value:n,setValue:b,onChange:a,getContainerProps:y,getCheckboxProps:P}},[ve,ye]=fe({strict:!1,name:"CheckboxGroupContext"}),Pe=t.forwardRef(({className:s,size:v,variant:_,colorScheme:C,children:i,items:u=[],direction:n="column",gap:b,...a},y)=>{const{value:P,onChange:o,props:r,getContainerProps:l}=ge(a),{labelId:E,isRequired:D,isReadOnly:A,isDisabled:f,isInvalid:x,...R}=ee(r),B=ke(i);let k=[];return!B.length&&u.length&&(k=u.map(({label:g,value:w,...M},S)=>c.jsx(oe,{value:w,...M,children:g},S))),c.jsx(ve,{value:{size:v,variant:_,colorScheme:C,isRequired:D,isReadOnly:A,isDisabled:f,isInvalid:x,value:P,onChange:o},children:c.jsx(be,{ref:y,className:se("ui-checkbox-group",s),direction:n,gap:b??(n==="row"?"1rem":void 0),...l({"aria-labelledby":E,...R}),children:i??k})})});Pe.displayName="CheckboxGroup";const Ie=({id:s,...v})=>{s??(s=t.useId());const{id:_,name:C,value:i,isChecked:u,defaultIsChecked:n,tabIndex:b,isIndeterminate:a,onChange:y,...P}=le({id:s,...v}),[{required:o,disabled:r,readOnly:l,"aria-readonly":E,onFocus:D,onBlur:A,...f},x]=Ce(P,ue),[R,B]=t.useState(!1),[k,g]=t.useState(!1),[w,M]=t.useState(!1),[S,I]=t.useState(!1),d=t.useRef(null),[q,G]=t.useState(!0),[K,U]=t.useState(!!n),O=u!==void 0,h=O?u:K,X=N(e=>{if(l||r){e.preventDefault();return}O||U(!h||a?!0:e.target.checked),y==null||y(e)},[l,r,O,h,a]),H=N(D),W=N(A),z=t.useCallback(({key:e})=>{e===" "&&I(!0)},[I]),J=t.useCallback(({key:e})=>{e===" "&&I(!1)},[I]);t.useEffect(()=>ce(B),[]),V(()=>{d.current&&(d.current.indeterminate=!!a)},[a]),xe(()=>{r&&g(!1)},[r,g]),V(()=>{var e;(e=d.current)!=null&&e.form&&(d.current.form.onreset=()=>U(!!n))},[]),V(()=>{d.current&&d.current.checked!==h&&U(d.current.checked)},[d.current]);const te=t.useCallback((e={},F=null)=>({...f,...e,ref:Z(F,p=>{p&&G(p.tagName==="LABEL")}),"data-checked":j(h),onClick:m(e.onClick,()=>{var p;q||((p=d.current)==null||p.click(),requestAnimationFrame(()=>{var Q;return(Q=d.current)==null?void 0:Q.focus()}))})}),[h,q,f]),ne=t.useCallback((e={},F=null)=>({...f,...e,ref:F,"data-active":j(S),"data-hover":j(w),"data-checked":j(h),"data-focus":j(k),"data-focus-visible":j(k&&R),"data-indeterminate":j(a),"aria-hidden":!0,onMouseDown:m(e.onMouseDown,p=>{k&&p.preventDefault(),I(!0)}),onMouseUp:m(e.onMouseUp,()=>I(!1)),onMouseEnter:m(e.onMouseEnter,()=>M(!0)),onMouseLeave:m(e.onMouseLeave,()=>M(!1))}),[S,h,k,w,R,a,f]),ae=t.useCallback((e={},F=null)=>({...f,...e,ref:Z(d,F),id:s,type:"checkbox",name:C,value:i,tabIndex:b,required:o,disabled:r,readOnly:l,checked:h,"aria-checked":a?"mixed":h,style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},onChange:m(e.onChange,X),onBlur:m(e.onBlur,W,()=>g(!1)),onFocus:m(e.onFocus,H,()=>g(!0)),onKeyDown:m(e.onKeyDown,z),onKeyUp:m(e.onKeyUp,J)}),[a,f,s,C,i,b,o,r,l,h,X,W,H,z,J]),re=t.useCallback((e={},F=null)=>({...f,...e,ref:F,"data-checked":j(h),onMouseDown:m(e.onMouseDown,p=>{p.preventDefault(),p.stopPropagation()}),onTouchStart:m(e.onTouchStart,p=>{p.preventDefault(),p.stopPropagation()})}),[h,f]);return{props:x,isFocusVisible:R,isFocused:k,isHovered:w,isActive:S,isChecked:h,isIndeterminate:a,getContainerProps:te,getIconProps:ne,getInputProps:ae,getLabelProps:re}},oe=t.forwardRef((s,v)=>{const _=ye(),{value:C,...i}={..._},u=ee(s),[n,b]=he("Checkbox",{...i,...s}),{className:a,gap:y="0.5rem",isRequired:P=i.isRequired??u.isRequired,isReadOnly:o=i.isReadOnly??u.isReadOnly,isDisabled:r=i.isDisabled??u.isDisabled,isInvalid:l=i.isInvalid??u.isInvalid,iconProps:E,inputProps:D,labelProps:A,children:f,...x}=pe(b),R=C&&x.value?C.includes(x.value):x.isChecked,B=i.onChange&&x.value?me(i.onChange,x.onChange):x.onChange,{isChecked:k,isIndeterminate:g,getContainerProps:w,getInputProps:M,getIconProps:S,getLabelProps:I,props:d}=Ie({...x,isRequired:P,isReadOnly:o,isDisabled:r,isInvalid:l,isChecked:R,onChange:B}),{children:q,...G}={...E},K=t.cloneElement(q??c.jsx(je,{}),{__css:{opacity:k||g?1:0,transform:k||g?"scale(1)":"scale(0.95)",transitionProperty:"transform",transitionDuration:"normal"},isIndeterminate:g,isChecked:k,isRequired:P,isReadOnly:o,isDisabled:r,isInvalid:l});return c.jsxs(L.label,{className:se("ui-checkbox",a),...w(),__css:{cursor:"pointer",position:"relative",display:"inline-flex",alignItems:"center",verticalAlign:"top",gap:y,...n.container},...d,children:[c.jsx(L.input,{className:"ui-checkbox__input",...M(D,v)}),c.jsx(L.span,{className:"ui-checkbox__icon",__css:{pointerEvents:o?"none":void 0,position:"relative",display:"inline-block",userSelect:"none",...n.icon},...S(G),children:K}),c.jsx(L.span,{className:"ui-checkbox__label",__css:{...n.label},...I(A),children:f})]})});oe.displayName="Checkbox";const je=({isIndeterminate:s,isChecked:v,isRequired:_,isReadOnly:C,isDisabled:i,isInvalid:u,...n})=>c.jsx(de,{initial:!1,children:s||v?c.jsx(L.div,{__css:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:c.jsx(T.div,{variants:{unchecked:{scale:.5},checked:{scale:1}},initial:"unchecked",animate:"checked",exit:"unchecked",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:s?c.jsx(De,{...n}):c.jsx(_e,{...n})})}):null}),_e=s=>c.jsx(T.svg,{width:"1.2em",viewBox:"0 0 12 10",variants:{unchecked:{opacity:0,strokeDashoffset:16},checked:{opacity:1,strokeDashoffset:0,transition:{duration:.2}}},style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...s,children:c.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})}),De=s=>c.jsx(T.svg,{width:"1.2em",viewBox:"0 0 24 24",variants:{unchecked:{scaleX:.65,opacity:0},checked:{scaleX:1,opacity:1,transition:{scaleX:{duration:0},opacity:{duration:.02}}}},style:{stroke:"currentColor",strokeWidth:4},...s,children:c.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})});export{oe as C,Pe as a,Ie as b,ge as u};
