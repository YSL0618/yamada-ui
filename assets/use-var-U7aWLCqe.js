import{r as V}from"./index-ClcD9ViR.js";import{T as k,D as C,l as F,n as b,m as M,o as T}from"./factory-CsPvKZdD.js";const A=(t,a)=>`${t}-${a}`,y=(t,a,n)=>{const i=V.useContext(k);return V.useMemo(()=>D(t,a,n)(i),[t,a,n,i])},D=(t,a,{format:n=A,transform:i=!1}={})=>l=>{var _,$;const r=new Map,c={};if(!l.__breakpoints)return[[],c];const{isResponsive:h}=l.__breakpoints,u=(($=(_=l.__config)==null?void 0:_.var)==null?void 0:$.prefix)??C,R=F(t,{separator:"$$",shouldProcess:m=>!h(m)});return Object.entries(R).forEach(([m,e],E)=>{const d=m.split("$$");if(!d.some(s=>a.includes(s)))return;const o=d.at(-1),g=d.slice(0,-1);if(r.has(o)){const s=r.get(o);if(!s)return;const f=g.reduceRight((p,x)=>({[x]:p}),b(e)?e:{base:e});e=M(s.value,f),r.set(o,{...s,value:e})}else{const s=n(o,E),f=T[o],p=b(f)?f.token:void 0;e={base:void 0,...g.reduceRight((O,j)=>({[j]:O}),b(e)?e:{base:e})},r.set(o,{name:s,token:p,value:e,__prefix:u}),i?c[o]=`var(--${u}-${s})`:c[o]=`$${s}`}}),[[...r.values()],c]},B=(...t)=>t.filter(Boolean).flatMap(a=>a);export{B as m,y as u};
