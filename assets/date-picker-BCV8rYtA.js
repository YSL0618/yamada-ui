import{j as r}from"./extends-CwFRzn3r.js";import{u as ft}from"./index-BZNvkYqQ.js";import{r as o}from"./index-BwDkhjyp.js";import{d as $,i as Ge,a as Je,b as mt,C as Ct}from"./calendar-BrRK6E8k.js";import{u as Pt}from"./index-BKVtfKEi.js";import{u as kt}from"./index-D-4lT2qV.js";import{u as ht}from"./index-DgjEdtSN.js";import{u as gt,f as _t}from"./form-control-Dawhqxmv.js";import{u as yt,o as bt}from"./theme-provider-V0oWEqA6.js";import{W as Dt,V as vt,a6 as xt,af as It,X as jt,a as te,h as A,d as Qe,o as Ot,f as Ze,ag as wt,b as U,c as X,z as Vt,p as Ft,j as Nt}from"./factory-CsTAdKnO.js";import{P as St,b as Bt,a as Et}from"./popover-trigger-BDrxv3sj.js";import{P as Rt}from"./portal-DN-k4ty5.js";import{b as Tt,a as Mt}from"./icon-1mDnm9Bi.js";import{f as ae}from"./forward-ref-BWI-Phbn.js";import{a as zt}from"./use-component-style-CYei-jGG.js";const Ht=C=>{var Ue,Xe;const{theme:p}=yt();let{id:s,type:m,allowInput:n=!0,allowInputBeyond:u=!1,amountOfMonths:c,animation:f,autoFocus:d=!0,boundary:P,calendarColorScheme:h,calendarSize:V,calendarVariant:F,closeDelay:N,closeOnBlur:D=!0,closeOnEsc:T=!0,dateFormat:M,defaultIsOpen:K,defaultMonth:z,defaultType:H,defaultValue:v,disableOutsideDays:x,duration:S=.2,enableMultiple:k,enableRange:B,eventListeners:E,excludeDate:t,firstDayOfWeek:i,flip:g,gutter:q,hiddenOutsideDays:ie,holidays:le,inputFormat:G="YYYY/MM/DD",isLazy:ce,isOpen:et,lazyBehavior:ue,locale:R,matchWidth:de,maxDate:_,maxSelectValues:pe,minDate:y,minSelectValues:fe,modifiers:me,month:Ce,monthFormat:Pe,offset:ke,openDelay:he,paginateBy:ge,parseDate:J,pattern:tt=/[^0-9\-\/]/g,placement:_e="bottom-start",preventOverflow:ye,strategy:be,today:De,value:ve,weekdayFormat:xe,weekendDays:Ie,withControls:je,withHeader:Oe,withLabel:we,withWeekdays:Ve,yearFormat:Fe,calendarProps:Ne,onChange:Se,onChangeMonth:Be,onChangeType:Ee,onClear:Q,onClose:at,onDelete:Re,onEnter:Te,onOpen:ot,__selectType:Me,...I}=gt(C);const nt=o.useId();s??(s=nt),R??(R=((Xe=(Ue=p.__config)==null?void 0:Ue.date)==null?void 0:Xe.locale)??"en");const{"aria-readonly":At,...j}=Dt(I,_t),[ze,st]=vt(I,xt),{disabled:W,readOnly:Y}=j,{isOpen:l,onClose:O,onOpen:He}=kt({defaultIsOpen:K,isOpen:et,onClose:at,onOpen:ot}),Z=o.useRef(null),L=o.useRef(null),rt=o.useCallback(e=>{let a=J==null?void 0:J(e);if(!a&&$(e).isValid()&&(a=$(e,G,R).toDate()),a!=null&&!(t!=null&&t(a)))return u||(_&&Ge(a,_)&&(a=_),y&&Je(a,y)&&(a=y)),a},[u,t,G,R,_,y,J]),it=o.useCallback(e=>{if(e!=null&&!(t!=null&&t(e)))return u||(_&&Ge(e,_)&&(e=_),y&&Je(e,y)&&(e=y)),$(e).locale(R).format(G)},[u,t,G,R,_,y]),b=o.useCallback(()=>{var e;W||Y||(He(),d&&n&&((e=L.current)==null||e.focus()))},[d,n,W,Y,He]),We=o.useCallback(()=>{var e;l?d&&n&&((e=L.current)==null||e.focus()):b()},[d,n,l,b]),Ye=o.useCallback(()=>{l||b()},[l,b]),Ae=o.useCallback(e=>{const a=It(e);jt(Z.current,a)||D&&l&&O()},[D,l,O]),Ke=o.useCallback(e=>{if(e.key===" "&&(e.key=e.code),W||Y)return;const qe={Backspace:Re,Enter:l?Te:w=>{w.preventDefault(),w.stopPropagation(),b()},Escape:T?w=>{w.preventDefault(),w.stopPropagation(),O()}:void 0,Space:l?void 0:w=>{w.preventDefault(),w.stopPropagation(),b()}}[e.key];qe&&qe(e)},[T,W,Y,l,O,Te,Re,b]),Le=o.useCallback(e=>{var a;e.stopPropagation(),Q==null||Q(),d&&n&&l&&((a=L.current)==null||a.focus())},[d,n,l,Q]);ht({ref:Z,enabled:l&&D,handler:O});const lt=o.useCallback((e={},a=null)=>({ref:te(Z,a),...ze,...j,...e,onBlur:A(e.onBlur,I.onBlur,Ae),onClick:A(e.onClick,I.onClick,We)}),[ze,j,Ae,We,I]),ct=o.useCallback(e=>({animation:f,boundary:P,closeDelay:N,duration:S,eventListeners:E,flip:g,gutter:q,isLazy:ce,lazyBehavior:ue,matchWidth:de,modifiers:me,offset:ke,openDelay:he,placement:_e,preventOverflow:ye,strategy:be,...e,closeOnBlur:!1,closeOnButton:!1,isOpen:l,trigger:"never",onClose:O,onOpen:b}),[f,P,N,S,E,g,q,ce,l,ue,de,me,ke,O,b,he,_e,ye,be]),ut=o.useCallback((e={},a=null)=>({"aria-controls":s,"aria-expanded":l,"aria-haspopup":"dialog","data-active":Qe(l),"data-not-allowed":Qe(!Y&&!W&&!n),role:"combobox",tabIndex:n?-1:0,...j,...e,ref:te(L,a),onFocus:A(e.onFocus,I.onFocus,Ye),onKeyDown:A(e.onKeyDown,I.onKeyDown,Ke)}),[s,n,W,Y,j,l,I,Ye,Ke]),dt=o.useCallback(e=>({...e,type:m,colorScheme:h,size:V,variant:F,amountOfMonths:c,dateFormat:M,defaultMonth:z,defaultType:H,disableOutsideDays:x,firstDayOfWeek:i,hiddenOutsideDays:ie,holidays:le,maxSelectValues:pe,minSelectValues:fe,month:Ce,monthFormat:Pe,paginateBy:ge,today:De,weekdayFormat:xe,weekendDays:Ie,withControls:je,withHeader:Oe,withLabel:we,withWeekdays:Ve,yearFormat:Fe,onChangeMonth:Be,onChangeType:Ee,...Ne,defaultValue:v,enableMultiple:k,enableRange:B,excludeDate:t,locale:R,maxDate:_,minDate:y,value:ve,onChange:Se,__selectType:Me}),[ie,pe,fe,k,B,c,h,Ne,V,F,M,z,H,v,x,t,i,le,R,_,y,Ce,Pe,Se,Be,Ee,ge,De,m,ve,xe,Ie,je,Oe,we,Ve,Fe,Me]),pt=o.useCallback(({clear:e,...a})=>({...a,...j,onClick:A(a.onClick,e?Le:void 0)}),[j,Le]);return{id:s,allowInput:n,containerRef:Z,dateToString:it,inputRef:L,isOpen:l,pattern:tt,stringToDate:rt,formControlProps:j,getCalendarProps:dt,getContainerProps:lt,getFieldProps:ut,getIconProps:pt,getPopoverProps:ct,inputProps:st,onClose:O,onOpen:b}},[Wt,oe]=Ot({name:"DatePickerContext",errorMessage:`useDatePickerContext returned is 'undefined'. Seems you forgot to wrap the components in "<DatePicker />"`}),Yt=({closeOnSelect:C=!0,defaultValue:p,placeholder:s,value:m,onChange:n,...u})=>{const[c,f]=Pt({defaultValue:p,value:m,onChange:n,onUpdate:(t,i)=>!mt(t,i)}),{id:d,allowInput:P,dateToString:h,inputRef:V,pattern:F,stringToDate:N,formControlProps:D,getCalendarProps:T,getContainerProps:M,getFieldProps:K,getIconProps:z,getPopoverProps:H,inputProps:v,onClose:x}=Ht({...u,defaultValue:p,value:c,onChange:t=>{const i=h(t);f(t),k(i),C&&t&&x()},onClear:()=>{f(void 0),k(void 0)},onClose:()=>{var i;const t=h(c);k(t),(i=u.onClose)==null||i.call(u)}}),[S,k]=o.useState(h(c)),B=o.useCallback(t=>{let i=t.target.value;i=i.replace(F,"");const g=N(i);k(i),g&&$(g).isValid()?f(g):f(void 0)},[F,N,k,f]);Ze(()=>{f(m)},[m]),Ze(()=>{if(V.current&&wt(V.current))return;const t=h(c);k(t)},[c]);const E=o.useCallback((t={},i=null)=>{const g={...t.style,...v.style,...D.disabled||!P?{pointerEvents:"none"}:{}};return{id:d,autoComplete:"off",placeholder:s,tabIndex:P?0:-1,...D,...v,...t,ref:i,style:g,value:S??"",onChange:A(t.onChange,B)}},[v,P,s,D,d,S,B]);return{id:d,value:c,getCalendarProps:T,getContainerProps:M,getFieldProps:K,getIconProps:z,getInputProps:E,getPopoverProps:H,onClose:x}},$e=ae((C,p)=>{const[s,m]=zt("DatePicker",C);let{className:n,children:u,color:c,h:f,height:d,isClearable:P=!0,minH:h,minHeight:V,clearIconProps:F,containerProps:N,contentProps:D,fieldProps:T,iconProps:M,inputProps:K,portalProps:z={isDisabled:!0},...H}=bt(m);const{id:v,value:x,getCalendarProps:S,getContainerProps:k,getFieldProps:B,getIconProps:E,getInputProps:t,getPopoverProps:i,onClose:g}=Yt(H);f??(f=d),h??(h=V);const q={color:c,h:"fit-content",w:"100%",...s.container};return r.jsx(Wt,{value:s,children:r.jsx(St,{...i(),children:r.jsxs(U.div,{className:X("ui-date-picker",n),__css:q,...k(N),children:[r.jsxs(U.div,{className:"ui-date-picker__inner",__css:{position:"relative",...s.inner},children:[r.jsx(ne,{...B({h:f,minH:h,...T},p),inputProps:t(K)}),P&&x?r.jsx(re,{...E({clear:!0,...F})}):r.jsx(ee,{...E({clear:!1,...M})})]}),r.jsx(Rt,{...z,children:r.jsxs(Bt,{id:v,as:"div",className:"ui-date-picker__content","aria-modal":"true",role:"dialog",__css:{...s.content},...D,children:[r.jsx(Ct,{className:"ui-date-picker__calendar",...S()}),Vt(u,{value:x,onClose:g})]})})]})})})});$e.displayName="DatePicker";$e.__ui__="DatePicker";const ne=ae(({className:C,h:p,minH:s,inputProps:m,...n},u)=>{const c=oe(),{ref:f,...d}=m??{},P={alignItems:"center",display:"flex",h:p,minH:s,pe:"2rem",...c.field};return r.jsx(Et,{children:r.jsx(U.div,{className:X("ui-date-picker__field",C),__css:P,...n,children:r.jsx(U.input,{ref:te(u,f),className:"ui-date-picker__field__input","aria-label":"Input date value",display:"inline-block",w:"100%",...d})})})});ne.displayName="DatePickerField";ne.__ui__="DatePickerField";const ee=ae(({className:C,children:p,__css:s,...m},n)=>{const c={alignItems:"center",cursor:"pointer",display:"inline-flex",justifyContent:"center",pointerEvents:"none",position:"absolute",top:"50%",transform:"translateY(-50%)",...oe().icon,...s},d=Ft(p).map(P=>o.cloneElement(P,{style:{color:"currentColor",maxHeight:"1em",maxWidth:"1em"},"aria-hidden":!0,focusable:!1}));return r.jsx(U.div,{ref:n,className:X("ui-date-picker__icon",C),__css:c,...m,children:Nt(p)?d:r.jsx(se,{})})});ee.displayName="DatePickerIcon";ee.__ui__="DatePickerIcon";const se=({className:C,...p})=>r.jsx(Tt,{className:X("ui-date-picker__icon__calendar",C),viewBox:"0 0 24 24",...p,children:r.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z",fill:"currentColor"})});se.displayName="DatePickerCalendarIcon";se.__ui__="DatePickerCalendarIcon";const re=({className:C,children:p,...s})=>{const m=o.useRef(null),n=oe(),u=s.disabled,c=ft({ref:m,isDisabled:u,...s});return r.jsx(ee,{className:X("ui-date-picker__icon--clear",C),"aria-label":"Clear value",__css:n.clearIcon,...c,children:p??r.jsx(Mt,{h:"0.5em",w:"0.5em"})})};re.displayName="DatePickerClearIcon";re.__ui__="DatePickerClearIcon";export{$e as D,Wt as a,ne as b,re as c,ee as d,oe as e,Ht as u};
